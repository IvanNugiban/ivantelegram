/*! For license information please see main.f1a2f040.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),y=0;y<o.length;++y){var m=o[y];if(!a[m]&&(!r||!r[m])&&(!v||!v[m])&&(!u||!u[m])){var g=h(n,m);try{c(t,m,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,A=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case y:case v:case s:return e;default:return t}}case i:return t}}}function b(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=y,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return b(e)||w(e)===l},t.isConcurrentMode=b,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===y},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===A||e.$$typeof===m)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,u,s=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(s[l]=o[l]);if(t){u=t(o);for(var f=0;f<u.length;f++)r.call(o,u[f])&&(s[u[f]]=o[u[f]])}}return s}},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var u=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function y(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new y(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new y(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new y(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new y(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new y(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new y(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new y(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new y(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new y(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function A(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);m[t]=new y(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);m[t]=new y(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);m[t]=new y(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new y(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new y(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=60103,x=60106,I=60107,E=60108,_=60114,S=60109,T=60110,C=60112,N=60113,D=60120,R=60115,O=60116,P=60121,L=60128,M=60129,V=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;b=U("react.element"),x=U("react.portal"),I=U("react.fragment"),E=U("react.strict_mode"),_=U("react.profiler"),S=U("react.provider"),T=U("react.context"),C=U("react.forward_ref"),N=U("react.suspense"),D=U("react.suspense_list"),R=U("react.memo"),O=U("react.lazy"),P=U("react.block"),U("react.scope"),L=U("react.opaque.id"),M=U("react.debug_trace_mode"),V=U("react.offscreen"),F=U("react.legacy_hidden")}var j,q="function"===typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=q&&e[q]||e["@@iterator"])?e:null}function z(e){if(void 0===j)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var K=!1;function W(e,t){if(!e||K)return"";K=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var i=s.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=u);break}}}finally{K=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function G(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case I:return"Fragment";case x:return"Portal";case _:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case D:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case R:return H(e.type);case P:return H(e._render);case O:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function X(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=X(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=X(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Z(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&A(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&Z(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,ye,me=(ye=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ye(e,t)}))}:ye);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ae=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function be(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){Ae.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var xe=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ie(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Ee(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Te=null,Ce=null;function Ne(e){if(e=ri(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Se(e.stateNode,e.type,t))}}function De(e){Te?Ce?Ce.push(e):Ce=[e]:Te=e}function Re(){if(Te){var e=Te,t=Ce;if(Ce=Te=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Oe(e,t){return e(t)}function Pe(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Me=Oe,Ve=!1,Fe=!1;function Ue(){null===Te&&null===Ce||(Le(),Re())}function je(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var qe=!1;if(f)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){qe=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(ye){qe=!1}function ze(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Ke=!1,We=null,Ge=!1,He=null,Qe={onError:function(e){Ke=!0,We=e}};function Xe(e,t,n,r,i,a,o,u,s){Ke=!1,We=null,ze.apply(Qe,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ze(e){if(Ye(e)!==e)throw Error(o(188))}function $e(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ze(i),e;if(a===r)return Ze(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],ut=null,st=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":ut=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function yt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function mt(e){var t=ni(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function At(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==ut&&gt(ut)&&(ut=null),null!==st&&gt(st)&&(st=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,At)))}function bt(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ut&&wt(ut,e),null!==st&&wt(st,e),null!==ct&&wt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)mt(n),null===n.blockedOn&&ht.shift()}function xt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var It={animationend:xt("Animation","AnimationEnd"),animationiteration:xt("Animation","AnimationIteration"),animationstart:xt("Animation","AnimationStart"),transitionend:xt("Transition","TransitionEnd")},Et={},_t={};function St(e){if(Et[e])return Et[e];if(!It[e])return e;var t,n=It[e];for(t in n)if(n.hasOwnProperty(t)&&t in _t)return Et[e]=n[t];return e}f&&(_t=document.createElement("div").style,"AnimationEvent"in window||(delete It.animationend.animation,delete It.animationiteration.animation,delete It.animationstart.animation),"TransitionEvent"in window||delete It.transitionend.transition);var Tt=St("animationend"),Ct=St("animationiteration"),Nt=St("animationstart"),Dt=St("transitionend"),Rt=new Map,Ot=new Map,Pt=["abort","abort",Tt,"animationEnd",Ct,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Dt,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ot.set(r,t),Rt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Mt=8;function Vt(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,u=e.pingedLanes;if(0!==a)r=a,i=Mt=15;else if(0!==(a=134217727&n)){var s=a&~o;0!==s?(r=Vt(s),i=Mt):0!==(u&=a)&&(r=Vt(u),i=Mt)}else 0!==(a=n&~o)?(r=Vt(a),i=Mt):0!==u&&(r=Vt(u),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Kt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Vt(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Kt(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function jt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=qt(24&~t))?jt(10,t):e;case 10:return 0===(e=qt(192&~t))?jt(8,t):e;case 8:return 0===(e=qt(3584&~t))&&(0===(e=qt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=qt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function qt(e){return e&-e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Kt(t)]=n}var Kt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Gt|0)|0},Wt=Math.log,Gt=Math.LN2;var Ht=a.unstable_UserBlockingPriority,Qt=a.unstable_runWithPriority,Xt=!0;function Yt(e,t,n,r){Ve||Le();var i=Zt,a=Ve;Ve=!0;try{Pe(i,e,t,n,r)}finally{(Ve=a)||Ue()}}function Jt(e,t,n,r){Qt(Ht,Zt.bind(null,e,t,n,r))}function Zt(e,t,n,r){var i;if(Xt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=$t(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ut=yt(ut,e,t,n,r,i),!0;case"dragenter":return st=yt(st,e,t,n,r,i),!0;case"mouseover":return ct=yt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,yt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,yt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Lr(e,t,r,null,n)}}}function $t(e,t,n,r){var i=_e(r);if(null!==(i=ni(i))){var a=Ye(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Je(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function un(){return!1}function sn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:un,this.isPropagationStopped=un,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(hn),pn=i({},hn,{view:0,detail:0}),vn=sn(pn),yn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),mn=sn(yn),gn=sn(i({},yn,{dataTransfer:0})),kn=sn(i({},pn,{relatedTarget:0})),An=sn(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(wn),xn=sn(i({},hn,{data:0})),In={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function Tn(){return Sn}var Cn=i({},pn,{key:function(e){if(e.key){var t=In[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=sn(Cn),Dn=sn(i({},yn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=sn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),On=sn(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=i({},yn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=sn(Pn),Mn=[9,13,27,32],Vn=f&&"CompositionEvent"in window,Fn=null;f&&"documentMode"in document&&(Fn=document.documentMode);var Un=f&&"TextEvent"in window&&!Fn,jn=f&&(!Vn||Fn&&8<Fn&&11>=Fn),qn=String.fromCharCode(32),Bn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Gn[e.type]:"textarea"===t}function Qn(e,t,n,r){De(r),0<(t=Vr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Xn=null,Yn=null;function Jn(e){Cr(e,0)}function Zn(e){if(J(ii(e)))return e}function $n(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Xn&&(Xn.detachEvent("onpropertychange",ar),Yn=Xn=null)}function ar(e){if("value"===e.propertyName&&Zn(Yn)){var t=[];if(Qn(t,Yn,e,_e(e)),e=Jn,Ve)e(t);else{Ve=!0;try{Oe(e,t)}finally{Ve=!1,Ue()}}}}function or(e,t,n){"focusin"===e?(ir(),Yn=n,(Xn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function ur(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zn(Yn)}function sr(e,t){if("click"===e)return Zn(t)}function cr(e,t){if("input"===e||"change"===e)return Zn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function yr(){for(var e=window,t=Z();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Z((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,Ar=null,wr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==kr||kr!==Z(r)||("selectionStart"in(r=kr)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&hr(wr,r)||(wr=r,0<(r=Vr(Ar,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Pt,2);for(var Ir="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Er=0;Er<Ir.length;Er++)Ot.set(Ir[Er],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _r="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sr=new Set("cancel close invalid load scroll toggle".split(" ").concat(_r));function Tr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,u,s,c){if(Xe.apply(this,arguments),Ke){if(!Ke)throw Error(o(198));var l=We;Ke=!1,We=null,Ge||(Ge=!0,He=l)}}(r,t,void 0,e),e.currentTarget=null}function Cr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Tr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Tr(i,u,c),a=s}}}if(Ge)throw e=He,Ge=!1,He=null,e}function Nr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Pr(t,e,2,!1),n.add(r))}var Dr="_reactListening"+Math.random().toString(36).slice(2);function Rr(e){e[Dr]||(e[Dr]=!0,u.forEach((function(t){Sr.has(t)||Or(t,!1,e,null),Or(t,!0,e,null)})))}function Or(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Sr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),u=e+"__"+(t?"capture":"bubble");o.has(u)||(t&&(i|=4),Pr(a,e,i,t),o.add(u))}function Pr(e,t,n,r){var i=Ot.get(t);switch(void 0===i?2:i){case 0:i=Yt;break;case 1:i=Jt;break;default:i=Zt}n=i.bind(null,t,n,e),i=void 0,!qe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=ni(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{Me(e,t,n)}finally{Fe=!1,Ue()}}((function(){var r=a,i=_e(n),o=[];e:{var u=Rt.get(e);if(void 0!==u){var s=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":s=Nn;break;case"focusin":c="focus",s=kn;break;case"focusout":c="blur",s=kn;break;case"beforeblur":case"afterblur":s=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Rn;break;case Tt:case Ct:case Nt:s=An;break;case Dt:s=On;break;case"scroll":s=vn;break;case"wheel":s=Ln;break;case"copy":case"cut":case"paste":s=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Dn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=je(p,h))&&l.push(Mr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Ye(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=mn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Dn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ii(s),d=null==c?u:ii(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Fr(d))p++;for(d=0,v=h;v;v=Fr(v))d++;for(;0<p-d;)l=Fr(l),p--;for(;0<d-p;)h=Fr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Fr(l),h=Fr(h)}l=null}else l=null;null!==s&&Ur(o,u,s,l,!1),null!==c&&null!==f&&Ur(o,f,c,l,!0)}if("select"===(s=(u=r?ii(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var y=$n;else if(Hn(u))if(er)y=cr;else{y=ur;var m=or}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(y=sr);switch(y&&(y=y(e,r))?Qn(o,y,n,i):(m&&m(e,u,r),"focusout"===e&&(m=u._wrapperState)&&m.controlled&&"number"===u.type&&ie(u,"number",u.value)),m=r?ii(r):window,e){case"focusin":(Hn(m)||"true"===m.contentEditable)&&(kr=m,Ar=r,wr=null);break;case"focusout":wr=Ar=kr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":xr(o,n,i)}var g;if(Vn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Wn?zn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(jn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Wn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Wn=!0)),0<(m=Vr(r,k)).length&&(k=new xn(k,e,null,n,i),o.push({event:k,listeners:m}),g?k.data=g:null!==(g=Kn(n))&&(k.data=g))),(g=Un?function(e,t){switch(e){case"compositionend":return Kn(t);case"keypress":return 32!==t.which?null:(Bn=!0,qn);case"textInput":return(e=t.data)===qn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Vn&&zn(e,t)?(e=rn(),nn=tn=en=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Vr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Cr(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=je(e,n))&&r.unshift(Mr(e,a,i)),null!=(a=je(e,t))&&r.push(Mr(e,a,i))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=je(n,a))&&o.unshift(Mr(n,s,u)):i||null!=(s=je(n,a))&&o.push(Mr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function jr(){}var qr=null,Br=null;function zr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Kr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Wr="function"===typeof setTimeout?setTimeout:void 0,Gr="function"===typeof clearTimeout?clearTimeout:void 0;function Hr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Xr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Yr=0;var Jr=Math.random().toString(36).slice(2),Zr="__reactFiber$"+Jr,$r="__reactProps$"+Jr,ei="__reactContainer$"+Jr,ti="__reactEvents$"+Jr;function ni(e){var t=e[Zr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Zr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Xr(e);null!==e;){if(n=e[Zr])return n;e=Xr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Zr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[$r]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var ui=[],si=-1;function ci(e){return{current:e}}function li(e){0>si||(e.current=ui[si],ui[si]=null,si--)}function fi(e,t){si++,ui[si]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function yi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function mi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function Ai(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,H(t)||"Unknown",a));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function bi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Ai(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var xi=null,Ii=null,Ei=a.unstable_runWithPriority,_i=a.unstable_scheduleCallback,Si=a.unstable_cancelCallback,Ti=a.unstable_shouldYield,Ci=a.unstable_requestPaint,Ni=a.unstable_now,Di=a.unstable_getCurrentPriorityLevel,Ri=a.unstable_ImmediatePriority,Oi=a.unstable_UserBlockingPriority,Pi=a.unstable_NormalPriority,Li=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,Vi={},Fi=void 0!==Ci?Ci:function(){},Ui=null,ji=null,qi=!1,Bi=Ni(),zi=1e4>Bi?Ni:function(){return Ni()-Bi};function Ki(){switch(Di()){case Ri:return 99;case Oi:return 98;case Pi:return 97;case Li:return 96;case Mi:return 95;default:throw Error(o(332))}}function Wi(e){switch(e){case 99:return Ri;case 98:return Oi;case 97:return Pi;case 96:return Li;case 95:return Mi;default:throw Error(o(332))}}function Gi(e,t){return e=Wi(e),Ei(e,t)}function Hi(e,t,n){return e=Wi(e),_i(e,t,n)}function Qi(){if(null!==ji){var e=ji;ji=null,Si(e)}Xi()}function Xi(){if(!qi&&null!==Ui){qi=!0;var e=0;try{var t=Ui;Gi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(n){throw null!==Ui&&(Ui=Ui.slice(e+1)),_i(Ri,Qi),n}finally{qi=!1}}}var Yi=w.ReactCurrentBatchConfig;function Ji(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Zi=ci(null),$i=null,ea=null,ta=null;function na(){ta=ea=$i=null}function ra(e){var t=Zi.current;li(Zi),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){$i=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Vo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===$i)throw Error(o(308));ea=t,$i.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var ua=!1;function sa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;ua=!1;var o=a.firstBaseUpdate,u=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var c=s,l=c.next;c.next=null,null===u?o=l:u.next=l,u=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==u&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,u=0,f=l=c=null;;){s=o.lane;var d=o.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(s=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,s);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=v.payload)?p.call(d,h,s):p)||void 0===s)break e;h=i({},h,s);break e;case 2:ua=!0}}null!==o.callback&&(e.flags|=32,null===(s=a.effects)?a.effects=[o]:s.push(o))}else d={eventTime:d,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,u|=s;if(null===(o=o.next)){if(null===(s=a.shared.pending))break;o=s.next,s.next=null,a.lastBaseUpdate=s,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,qu|=u,e.lanes=u,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ya(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ma={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hs(),r=ds(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),ps(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=mi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?yi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ma,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ma.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,sa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=mi(t)?vi:di.current,i.context=yi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ya(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ma.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var ba=Array.isArray;function xa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ia(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ea(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Gs(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Ys(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=xa(e,t,n),r.return=e,r):((r=Hs(n.type,n.key,n.props,null,e.mode,r)).ref=xa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Js(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Qs(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Ys(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Hs(t.type,t.key,t.props,null,e.mode,n)).ref=xa(e,null,t),n.return=e,n;case x:return(t=Js(t,e.mode,n)).return=e,t}if(ba(t)||B(t))return(t=Qs(t,e.mode,n,null)).return=e,t;Ia(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===i?n.type===I?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null}if(ba(n)||B(n))return null!==i?null:f(e,t,n,r,null);Ia(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case b:return e=e.get(null===r.key?n:r.key)||null,r.type===I?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(ba(r)||B(r))return f(t,e=e.get(n)||null,r,i,null);Ia(t,r)}return null}function v(i,o,u,s){for(var c=null,l=null,f=o,v=o=0,y=null;null!==f&&v<u.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(i,f,u[v],s);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m,f=y}if(v===u.length)return n(i,f),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<u.length;v++)null!==(y=p(f,i,v,u[v],s))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(i,e)})),c}function y(i,u,s,c){var l=B(s);if("function"!==typeof l)throw Error(o(150));if(null==(s=l.call(s)))throw Error(o(151));for(var f=l=null,v=u,y=u=0,m=null,g=s.next();null!==v&&!g.done;y++,g=s.next()){v.index>y?(m=v,v=null):m=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=m);break}e&&v&&null===k.alternate&&t(i,v),u=a(k,u,y),null===f?l=k:f.sibling=k,f=k,v=m}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;y++,g=s.next())null!==(g=h(i,g.value,c))&&(u=a(g,u,y),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;y++,g=s.next())null!==(g=p(v,i,y,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),u=a(g,u,y),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,s){var c="object"===typeof a&&null!==a&&a.type===I&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case b:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===I){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=xa(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===I?((r=Qs(a.props.children,e.mode,s,a.key)).return=e,e=r):((s=Hs(a.type,a.key,a.props,null,e.mode,s)).ref=xa(e,r,a),s.return=e,e=s)}return u(e);case x:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Js(a,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Ys(a,e.mode,s)).return=e,e=r),u(e);if(ba(a))return v(e,r,a,s);if(B(a))return y(e,r,a,s);if(l&&Ia(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,H(e.type)||"Component"))}return n(e,r)}}var _a=Ea(!0),Sa=Ea(!1),Ta={},Ca=ci(Ta),Na=ci(Ta),Da=ci(Ta);function Ra(e){if(e===Ta)throw Error(o(174));return e}function Oa(e,t){switch(fi(Da,t),fi(Na,e),fi(Ca,Ta),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Ca),fi(Ca,t)}function Pa(){li(Ca),li(Na),li(Da)}function La(e){Ra(Da.current);var t=Ra(Ca.current),n=pe(t,e.type);t!==n&&(fi(Na,e),fi(Ca,n))}function Ma(e){Na.current===e&&(li(Ca),li(Na))}var Va=ci(0);function Fa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ua=null,ja=null,qa=!1;function Ba(e,t){var n=Ks(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function za(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ka(e){if(qa){var t=ja;if(t){var n=t;if(!za(e,t)){if(!(t=Qr(n.nextSibling))||!za(e,t))return e.flags=-1025&e.flags|2,qa=!1,void(Ua=e);Ba(Ua,n)}Ua=e,ja=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,qa=!1,Ua=e}}function Wa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ua=e}function Ga(e){if(e!==Ua)return!1;if(!qa)return Wa(e),qa=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Kr(t,e.memoizedProps))for(t=ja;t;)Ba(e,t),t=Qr(t.nextSibling);if(Wa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ja=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ja=null}}else ja=Ua?Qr(e.stateNode.nextSibling):null;return!0}function Ha(){ja=Ua=null,qa=!1}var Qa=[];function Xa(){for(var e=0;e<Qa.length;e++)Qa[e]._workInProgressVersionPrimary=null;Qa.length=0}var Ya=w.ReactCurrentDispatcher,Ja=w.ReactCurrentBatchConfig,Za=0,$a=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Za=a,$a=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ya.current=null===e||null===e.memoizedState?Oo:Po,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Ya.current=Lo,e=n(r,i)}while(ro)}if(Ya.current=Ro,t=null!==eo&&null!==eo.next,Za=0,to=eo=$a=null,no=!1,t)throw Error(o(300));return e}function uo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?$a.memoizedState=to=e:to=to.next=e,to}function so(){if(null===eo){var e=$a.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?$a.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?$a.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=a=null,c=i;do{var l=c.lane;if((Za&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,a=r):s=s.next=f,$a.lanes|=l,qu|=l}c=c.next}while(null!==c&&c!==i);null===s?a=r:s.next=u,lr(r,t.memoizedState)||(Vo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);lr(a,t.memoizedState)||(Vo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Za&e)===e)&&(t._workInProgressVersionPrimary=r,Qa.push(t))),e)return n(t._source);throw Qa.push(t),Error(o(350))}function po(e,t,n,r){var i=Ou;if(null===i)throw Error(o(349));var a=t._getVersion,u=a(t._source),s=Ya.current,c=s.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var y=$a;return e.memoizedState={refs:d,source:t,subscribe:r},s.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(u,e)){e=n(t._source),lr(f,e)||(l(e),e=ds(y),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var s=31-Kt(o),c=1<<s;r[s]|=e,o&=~c}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=ds(y);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Do.bind(null,$a,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(so(),e,t,n)}function yo(e){var t=uo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Do.bind(null,$a,e),[t.memoizedState,e]}function mo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=$a.updateQueue)?(t={lastEffect:null},$a.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},uo().memoizedState=e}function ko(){return so().memoizedState}function Ao(e,t,n,r){var i=uo();$a.flags|=e,i.memoizedState=mo(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var i=so();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void mo(t,n,a,r)}$a.flags|=e,i.memoizedState=mo(1|t,n,a,r)}function bo(e,t){return Ao(516,4,e,t)}function xo(e,t){return wo(516,4,e,t)}function Io(e,t){return wo(4,2,e,t)}function Eo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function _o(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,Eo.bind(null,t,e),n)}function So(){}function To(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Co(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function No(e,t){var n=Ki();Gi(98>n?98:n,(function(){e(!0)})),Gi(97<n?97:n,(function(){var n=Ja.transition;Ja.transition=1;try{e(!1),t()}finally{Ja.transition=n}}))}function Do(e,t,n){var r=hs(),i=ds(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===$a||null!==o&&o===$a)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=o(u,n);if(a.eagerReducer=o,a.eagerState=s,lr(s,u))return}catch(c){}ps(e,i,r)}}var Ro={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Oo={readContext:oa,useCallback:function(e,t){return uo().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:bo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ao(4,2,Eo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ao(4,2,e,t)},useMemo:function(e,t){var n=uo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=uo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Do.bind(null,$a,e),[r.memoizedState,e]},useRef:go,useState:yo,useDebugValue:So,useDeferredValue:function(e){var t=yo(e),n=t[0],r=t[1];return bo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=yo(!1),t=e[0];return go(e=No.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=uo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(qa){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Yr++).toString(36))),Error(o(355))})),n=yo(t)[1];return 0===(2&$a.mode)&&($a.flags|=516,mo(5,(function(){n("r:"+(Yr++).toString(36))}),void 0,null)),t}return yo(t="r:"+(Yr++).toString(36)),t},unstable_isNewReconciler:!1},Po={readContext:oa,useCallback:To,useContext:oa,useEffect:xo,useImperativeHandle:_o,useLayoutEffect:Io,useMemo:Co,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:So,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return xo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Lo={readContext:oa,useCallback:To,useContext:oa,useEffect:xo,useImperativeHandle:_o,useLayoutEffect:Io,useMemo:Co,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:So,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return xo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Mo=w.ReactCurrentOwner,Vo=!1;function Fo(e,t,n,r){t.child=null===e?Sa(t,null,n,r):_a(t,e.child,n,r)}function Uo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Vo?(t.flags|=1,Fo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function jo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Ws(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Hs(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,qo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?au(e,t,a):(t.flags|=1,(e=Gs(o,r)).ref=t.ref,e.return=t,t.child=e)}function qo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Vo=!1,0===(a&i))return t.lanes=e.lanes,au(e,t,a);0!==(16384&e.flags)&&(Vo=!0)}return Ko(e,t,n,r,a)}function Bo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},bs(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},bs(t,e),null;t.memoizedState={baseLanes:0},bs(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,bs(t,r);return Fo(e,t,i,n),t.child}function zo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ko(e,t,n,r,i){var a=mi(n)?vi:di.current;return a=yi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Vo?(t.flags|=1,Fo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Wo(e,t,n,r,i){if(mi(n)){var a=!0;wi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=yi(t,c=mi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Aa(t,o,r,c),ua=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),s=t.memoizedState,u!==r||h!==s||pi.current||ua?("function"===typeof l&&(ya(t,n,l,r),s=t.memoizedState),(u=ua||ga(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Ji(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=oa(s):s=yi(t,s=mi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Aa(t,o,r,s),ua=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||pi.current||ua?("function"===typeof d&&(ya(t,n,d,r),p=t.memoizedState),(c=ua||ga(t,n,c,r,h,p,s))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Go(e,t,n,r,a,i)}function Go(e,t,n,r,i,a){zo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&bi(t,n,!1),au(e,t,a);r=t.stateNode,Mo.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=_a(t,e.child,null,a),t.child=_a(t,null,u,a)):Fo(e,t,u,a),t.memoizedState=r.state,i&&bi(t,n,!0),t.child}function Ho(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Oa(e,t.containerInfo)}var Qo,Xo,Yo,Jo={dehydrated:null,retryLane:0};function Zo(e,t,n){var r,i=t.pendingProps,a=Va.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(Va,1&a),null===e?(void 0!==i.fallback&&Ka(t),e=i.children,a=i.fallback,o?(e=$o(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,e):"number"===typeof i.unstable_expectedLoadTime?(e=$o(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,t.lanes=33554432,e):((n=Xs({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=tu(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Jo,i):(n=eu(e,t,i.children,n),t.memoizedState=null,n))}function $o(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Xs(t,i,0,null),n=Qs(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function eu(e,t,n,r){var i=e.child;return e=i.sibling,n=Gs(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function tu(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var u={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=u,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Gs(o,u),null!==e?r=Gs(e,r):(r=Qs(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function nu(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function ru(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function iu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Fo(e,t,r.children,n),0!==(2&(r=Va.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nu(e,n);else if(19===e.tag)nu(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Va,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ru(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ru(t,!0,n,null,a,t.lastEffect);break;case"together":ru(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function au(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),qu|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Gs(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Gs(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ou(e,t){if(!qa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function uu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return mi(t.type)&&gi(),null;case 3:return Pa(),li(pi),li(di),Xa(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ga(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ma(t);var a=Ra(Da.current);if(n=t.type,null!==e&&null!=t.stateNode)Xo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Ra(Ca.current),Ga(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[Zr]=t,r[$r]=u,n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(e=0;e<_r.length;e++)Nr(_r[e],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":ee(r,u),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Nr("invalid",r);break;case"textarea":se(r,u),Nr("invalid",r)}for(var c in Ie(n,u),e=null,u)u.hasOwnProperty(c)&&(a=u[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):s.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Nr("scroll",r));switch(n){case"input":Y(r),re(r,u,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=jr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Zr]=t,e[$r]=r,Qo(e,t),t.stateNode=e,c=Ee(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),a=r;break;case"iframe":case"object":case"embed":Nr("load",e),a=r;break;case"video":case"audio":for(a=0;a<_r.length;a++)Nr(_r[a],e);a=r;break;case"source":Nr("error",e),a=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),a=r;break;case"details":Nr("toggle",e),a=r;break;case"input":ee(e,r),a=$(e,r),Nr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":se(e,r),a=ue(e,r),Nr("invalid",e);break;default:a=r}Ie(n,a);var l=a;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?be(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&me(e,f):"children"===u?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=f&&"onScroll"===u&&Nr("scroll",e):null!=f&&A(e,u,f,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?oe(e,!!r.multiple,u,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=jr)}zr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Yo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Ra(Da.current),Ra(Ca.current),Ga(t)?(r=t.stateNode,n=t.memoizedProps,r[Zr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Zr]=t,t.stateNode=r)}return null;case 13:return li(Va),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ga(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Va.current)?0===Fu&&(Fu=3):(0!==Fu&&3!==Fu||(Fu=4),null===Ou||0===(134217727&qu)&&0===(134217727&Bu)||gs(Ou,Lu))),(r||n)&&(t.flags|=4),null);case 4:return Pa(),null===e&&Rr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(Va),null===(r=t.memoizedState))return null;if(u=0!==(64&t.flags),null===(c=r.rendering))if(u)ou(r,!1);else{if(0!==Fu||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Fa(e))){for(t.flags|=64,ou(r,!1),null!==(u=c.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Va,1&Va.current|2),t.child}e=e.sibling}null!==r.tail&&zi()>Gu&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=Fa(c))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ou(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!qa)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*zi()-r.renderingStartTime>Gu&&1073741824!==n&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=zi(),n.sibling=null,t=Va.current,fi(Va,u?1&t|2:1&t),n):null;case 23:case 24:return xs(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function su(e){switch(e.tag){case 1:mi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Pa(),li(pi),li(di),Xa(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ma(e),null;case 13:return li(Va),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Va),null;case 4:return Pa(),null;case 10:return ra(e),null;case 23:case 24:return xs(),null;default:return null}}function cu(e,t){try{var n="",r=t;do{n+=G(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function lu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Xo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Ra(Ca.current);var o,u=null;switch(n){case"input":a=$(e,a),r=$(e,r),u=[];break;case"option":a=ae(e,a),r=ae(e,r),u=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),u=[];break;case"textarea":a=ue(e,a),r=ue(e,r),u=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=jr)}for(f in Ie(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(u||(u=[]),u.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(u=u||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(u=u||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Nr("scroll",e),u||c===l||(u=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(u=u||[]).push(f,l))}n&&(u=u||[]).push("style",n);var f=u;(t.updateQueue=f)&&(t.flags|=4)}},Yo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fu="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Yu||(Yu=!0,Ju=r),lu(0,t)},n}function du(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return lu(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Zu?Zu=new Set([this]):Zu.add(this),lu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var pu="function"===typeof WeakSet?WeakSet:Set;function vu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){js(e,n)}else t.current=null}function yu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ji(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Hr(t.stateNode.containerInfo))}throw Error(o(163))}function mu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Vs(n,e),Ms(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ji(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&zr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&bt(n)))))}throw Error(o(163))}function gu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ku(e,t){if(Ii&&"function"===typeof Ii.onCommitFiberUnmount)try{Ii.onCommitFiberUnmount(xi,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Vs(t,n);else{r=t;try{i()}catch(a){js(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vu(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){js(t,a)}break;case 5:vu(t);break;case 4:Eu(e,t)}}function Au(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function wu(e){return 5===e.tag||3===e.tag||4===e.tag}function bu(e){e:{for(var t=e.return;null!==t;){if(wu(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||wu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?xu(e,n,t):Iu(e,n,t)}function xu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=jr));else if(4!==r&&null!==(e=e.child))for(xu(e,t,n),e=e.sibling;null!==e;)xu(e,t,n),e=e.sibling}function Iu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Iu(e,t,n),e=e.sibling;null!==e;)Iu(e,t,n),e=e.sibling}function Eu(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var u=e,s=i,c=s;;)if(ku(u,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(u=n,s=i.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ku(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function _u(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[$r]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ee(e,i),t=Ee(e,r),i=0;i<a.length;i+=2){var u=a[i],s=a[i+1];"style"===u?be(n,s):"dangerouslySetInnerHTML"===u?me(n,s):"children"===u?ge(n,s):A(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,bt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Wu=zi(),gu(t.child,!0)),void Su(t);case 19:return void Su(t);case 23:case 24:return void gu(t,null!==t.memoizedState)}throw Error(o(163))}function Su(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new pu),t.forEach((function(t){var r=Bs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Tu(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Cu=Math.ceil,Nu=w.ReactCurrentDispatcher,Du=w.ReactCurrentOwner,Ru=0,Ou=null,Pu=null,Lu=0,Mu=0,Vu=ci(0),Fu=0,Uu=null,ju=0,qu=0,Bu=0,zu=0,Ku=null,Wu=0,Gu=1/0;function Hu(){Gu=zi()+500}var Qu,Xu=null,Yu=!1,Ju=null,Zu=null,$u=!1,es=null,ts=90,ns=[],rs=[],is=null,as=0,os=null,us=-1,ss=0,cs=0,ls=null,fs=!1;function hs(){return 0!==(48&Ru)?zi():-1!==us?us:us=zi()}function ds(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Ki()?1:2;if(0===ss&&(ss=ju),0!==Yi.transition){0!==cs&&(cs=null!==Ku?Ku.pendingLanes:0),e=ss;var t=4186112&~cs;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Ki(),0!==(4&Ru)&&98===e?e=jt(12,ss):e=jt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ss),e}function ps(e,t,n){if(50<as)throw as=0,os=null,Error(o(185));if(null===(e=vs(e,t)))return null;zt(e,t,n),e===Ou&&(Bu|=t,4===Fu&&gs(e,Lu));var r=Ki();1===t?0!==(8&Ru)&&0===(48&Ru)?ks(e):(ys(e,n),0===Ru&&(Hu(),Qi())):(0===(4&Ru)||98!==r&&99!==r||(null===is?is=new Set([e]):is.add(e)),ys(e,n)),Ku=e}function vs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ys(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-Kt(u),c=1<<s,l=a[s];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Vt(c);var f=Mt;a[s]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);u&=~c}if(r=Ft(e,e===Ou?Lu:0),t=Mt,0===r)null!==n&&(n!==Vi&&Si(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Vi&&Si(n)}15===t?(n=ks.bind(null,e),null===Ui?(Ui=[n],ji=_i(Ri,Xi)):Ui.push(n),n=Vi):14===t?n=Hi(99,ks.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Hi(n,ms.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function ms(e){if(us=-1,cs=ss=0,0!==(48&Ru))throw Error(o(327));var t=e.callbackNode;if(Ls()&&e.callbackNode!==t)return null;var n=Ft(e,e===Ou?Lu:0);if(0===n)return null;var r=n,i=Ru;Ru|=16;var a=_s();for(Ou===e&&Lu===r||(Hu(),Is(e,r));;)try{Cs();break}catch(s){Es(e,s)}if(na(),Nu.current=a,Ru=i,null!==Pu?r=0:(Ou=null,Lu=0,r=Fu),0!==(ju&Bu))Is(e,0);else if(0!==r){if(2===r&&(Ru|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(n=Ut(e))&&(r=Ss(e,n))),1===r)throw t=Uu,Is(e,0),gs(e,n),ys(e,zi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Rs(e);break;case 3:if(gs(e,n),(62914560&n)===n&&10<(r=Wu+500-zi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Wr(Rs.bind(null,e),r);break}Rs(e);break;case 4:if(gs(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var u=31-Kt(n);a=1<<u,(u=r[u])>i&&(i=u),n&=~a}if(n=i,10<(n=(120>(n=zi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Cu(n/1960))-n)){e.timeoutHandle=Wr(Rs.bind(null,e),n);break}Rs(e);break;default:throw Error(o(329))}}return ys(e,zi()),e.callbackNode===t?ms.bind(null,e):null}function gs(e,t){for(t&=~zu,t&=~Bu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Kt(t),r=1<<n;e[n]=-1,t&=~r}}function ks(e){if(0!==(48&Ru))throw Error(o(327));if(Ls(),e===Ou&&0!==(e.expiredLanes&Lu)){var t=Lu,n=Ss(e,t);0!==(ju&Bu)&&(n=Ss(e,t=Ft(e,t)))}else n=Ss(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Ru|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(t=Ut(e))&&(n=Ss(e,t))),1===n)throw n=Uu,Is(e,0),gs(e,t),ys(e,zi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Rs(e),ys(e,zi()),null}function As(e,t){var n=Ru;Ru|=1;try{return e(t)}finally{0===(Ru=n)&&(Hu(),Qi())}}function ws(e,t){var n=Ru;Ru&=-2,Ru|=8;try{return e(t)}finally{0===(Ru=n)&&(Hu(),Qi())}}function bs(e,t){fi(Vu,Mu),Mu|=t,ju|=t}function xs(){Mu=Vu.current,li(Vu)}function Is(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Gr(n)),null!==Pu)for(n=Pu.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Pa(),li(pi),li(di),Xa();break;case 5:Ma(r);break;case 4:Pa();break;case 13:case 19:li(Va);break;case 10:ra(r);break;case 23:case 24:xs()}n=n.return}Ou=e,Pu=Gs(e.current,null),Lu=Mu=ju=t,Fu=0,Uu=null,zu=Bu=qu=0}function Es(e,t){for(;;){var n=Pu;try{if(na(),Ya.current=Ro,no){for(var r=$a.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Za=0,to=eo=$a=null,ro=!1,Du.current=null,null===n||null===n.return){Fu=1,Uu=t,Pu=null;break}e:{var a=e,o=n.return,u=n,s=t;if(t=Lu,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&u.mode)){var l=u.alternate;l?(u.updateQueue=l.updateQueue,u.memoizedState=l.memoizedState,u.lanes=l.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&Va.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var y=h.updateQueue;if(null===y){var m=new Set;m.add(c),h.updateQueue=m}else y.add(c);if(0===(2&h.mode)){if(h.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var g=la(-1,1);g.tag=2,fa(u,g)}u.lanes|=1;break e}s=void 0,u=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fu,s=new Set,k.set(c,s)):void 0===(s=k.get(c))&&(s=new Set,k.set(c,s)),!s.has(u)){s.add(u);var A=qs.bind(null,a,c,u);c.then(A,A)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);s=Error((H(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fu&&(Fu=2),s=cu(s,u),h=o;do{switch(h.tag){case 3:a=s,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hu(0,a,t));break e;case 1:a=s;var w=h.type,b=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Zu||!Zu.has(b)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,du(h,a,t));break e}}h=h.return}while(null!==h)}Ds(n)}catch(x){t=x,Pu===n&&null!==n&&(Pu=n=n.return);continue}break}}function _s(){var e=Nu.current;return Nu.current=Ro,null===e?Ro:e}function Ss(e,t){var n=Ru;Ru|=16;var r=_s();for(Ou===e&&Lu===t||Is(e,t);;)try{Ts();break}catch(i){Es(e,i)}if(na(),Ru=n,Nu.current=r,null!==Pu)throw Error(o(261));return Ou=null,Lu=0,Fu}function Ts(){for(;null!==Pu;)Ns(Pu)}function Cs(){for(;null!==Pu&&!Ti();)Ns(Pu)}function Ns(e){var t=Qu(e.alternate,e,Mu);e.memoizedProps=e.pendingProps,null===t?Ds(e):Pu=t,Du.current=null}function Ds(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=uu(n,t,Mu)))return void(Pu=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Mu)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=su(t)))return n.flags&=2047,void(Pu=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Pu=t);Pu=t=e}while(null!==t);0===Fu&&(Fu=5)}function Rs(e){var t=Ki();return Gi(99,Os.bind(null,e,t)),null}function Os(e,t){do{Ls()}while(null!==es);if(0!==(48&Ru))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<a;){var c=31-Kt(a),l=1<<c;i[c]=0,u[c]=-1,s[c]=-1,a&=~l}if(null!==is&&0===(24&r)&&is.has(e)&&is.delete(e),e===Ou&&(Pu=Ou=null,Lu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ru,Ru|=32,Du.current=null,qr=Xt,mr(u=yr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(_){s=null;break e}var f=0,h=-1,d=-1,p=0,v=0,y=u,m=null;t:for(;;){for(var g;y!==s||0!==a&&3!==y.nodeType||(h=f+a),y!==c||0!==l&&3!==y.nodeType||(d=f+l),3===y.nodeType&&(f+=y.nodeValue.length),null!==(g=y.firstChild);)m=y,y=g;for(;;){if(y===u)break t;if(m===s&&++p===a&&(h=f),m===c&&++v===l&&(d=f),null!==(g=y.nextSibling))break;m=(y=m).parentNode}y=g}s=-1===h||-1===d?null:{start:h,end:d}}else s=null;s=s||{start:0,end:0}}else s=null;Br={focusedElem:u,selectionRange:s},Xt=!1,ls=null,fs=!1,Xu=r;do{try{Ps()}catch(_){if(null===Xu)throw Error(o(330));js(Xu,_),Xu=Xu.nextEffect}}while(null!==Xu);ls=null,Xu=r;do{try{for(u=e;null!==Xu;){var k=Xu.flags;if(16&k&&ge(Xu.stateNode,""),128&k){var A=Xu.alternate;if(null!==A){var w=A.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&k){case 2:bu(Xu),Xu.flags&=-3;break;case 6:bu(Xu),Xu.flags&=-3,_u(Xu.alternate,Xu);break;case 1024:Xu.flags&=-1025;break;case 1028:Xu.flags&=-1025,_u(Xu.alternate,Xu);break;case 4:_u(Xu.alternate,Xu);break;case 8:Eu(u,s=Xu);var b=s.alternate;Au(s),null!==b&&Au(b)}Xu=Xu.nextEffect}}catch(_){if(null===Xu)throw Error(o(330));js(Xu,_),Xu=Xu.nextEffect}}while(null!==Xu);if(w=Br,A=yr(),k=w.focusedElem,u=w.selectionRange,A!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==u&&mr(k)&&(A=u.start,void 0===(w=u.end)&&(w=A),"selectionStart"in k?(k.selectionStart=A,k.selectionEnd=Math.min(w,k.value.length)):(w=(A=k.ownerDocument||document)&&A.defaultView||window).getSelection&&(w=w.getSelection(),s=k.textContent.length,b=Math.min(u.start,s),u=void 0===u.end?b:Math.min(u.end,s),!w.extend&&b>u&&(s=u,u=b,b=s),s=pr(k,b),a=pr(k,u),s&&a&&(1!==w.rangeCount||w.anchorNode!==s.node||w.anchorOffset!==s.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((A=A.createRange()).setStart(s.node,s.offset),w.removeAllRanges(),b>u?(w.addRange(A),w.extend(a.node,a.offset)):(A.setEnd(a.node,a.offset),w.addRange(A))))),A=[];for(w=k;w=w.parentNode;)1===w.nodeType&&A.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<A.length;k++)(w=A[k]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Xt=!!qr,Br=qr=null,e.current=n,Xu=r;do{try{for(k=e;null!==Xu;){var x=Xu.flags;if(36&x&&mu(k,Xu.alternate,Xu),128&x){A=void 0;var I=Xu.ref;if(null!==I){var E=Xu.stateNode;Xu.tag,A=E,"function"===typeof I?I(A):I.current=A}}Xu=Xu.nextEffect}}catch(_){if(null===Xu)throw Error(o(330));js(Xu,_),Xu=Xu.nextEffect}}while(null!==Xu);Xu=null,Fi(),Ru=i}else e.current=n;if($u)$u=!1,es=e,ts=t;else for(Xu=r;null!==Xu;)t=Xu.nextEffect,Xu.nextEffect=null,8&Xu.flags&&((x=Xu).sibling=null,x.stateNode=null),Xu=t;if(0===(r=e.pendingLanes)&&(Zu=null),1===r?e===os?as++:(as=0,os=e):as=0,n=n.stateNode,Ii&&"function"===typeof Ii.onCommitFiberRoot)try{Ii.onCommitFiberRoot(xi,n,void 0,64===(64&n.current.flags))}catch(_){}if(ys(e,zi()),Yu)throw Yu=!1,e=Ju,Ju=null,e;return 0!==(8&Ru)||Qi(),null}function Ps(){for(;null!==Xu;){var e=Xu.alternate;fs||null===ls||(0!==(8&Xu.flags)?et(Xu,ls)&&(fs=!0):13===Xu.tag&&Tu(e,Xu)&&et(Xu,ls)&&(fs=!0));var t=Xu.flags;0!==(256&t)&&yu(e,Xu),0===(512&t)||$u||($u=!0,Hi(97,(function(){return Ls(),null}))),Xu=Xu.nextEffect}}function Ls(){if(90!==ts){var e=97<ts?97:ts;return ts=90,Gi(e,Fs)}return!1}function Ms(e,t){ns.push(t,e),$u||($u=!0,Hi(97,(function(){return Ls(),null})))}function Vs(e,t){rs.push(t,e),$u||($u=!0,Hi(97,(function(){return Ls(),null})))}function Fs(){if(null===es)return!1;var e=es;if(es=null,0!==(48&Ru))throw Error(o(331));var t=Ru;Ru|=32;var n=rs;rs=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],u=i.destroy;if(i.destroy=void 0,"function"===typeof u)try{u()}catch(c){if(null===a)throw Error(o(330));js(a,c)}}for(n=ns,ns=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var s=i.create;i.destroy=s()}catch(c){if(null===a)throw Error(o(330));js(a,c)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Ru=t,Qi(),!0}function Us(e,t,n){fa(e,t=hu(0,t=cu(n,t),1)),t=hs(),null!==(e=vs(e,1))&&(zt(e,1,t),ys(e,t))}function js(e,t){if(3===e.tag)Us(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Us(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Zu||!Zu.has(r))){var i=du(n,e=cu(t,e),1);if(fa(n,i),i=hs(),null!==(n=vs(n,1)))zt(n,1,i),ys(n,i);else if("function"===typeof r.componentDidCatch&&(null===Zu||!Zu.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function qs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hs(),e.pingedLanes|=e.suspendedLanes&n,Ou===e&&(Lu&n)===n&&(4===Fu||3===Fu&&(62914560&Lu)===Lu&&500>zi()-Wu?Is(e,0):zu|=n),ys(e,t)}function Bs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Ki()?1:2:(0===ss&&(ss=ju),0===(t=qt(62914560&~ss))&&(t=4194304))),n=hs(),null!==(e=vs(e,t))&&(zt(e,t,n),ys(e,n))}function zs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ks(e,t,n,r){return new zs(e,t,n,r)}function Ws(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Gs(e,t){var n=e.alternate;return null===n?((n=Ks(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hs(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)Ws(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case I:return Qs(n.children,i,a,t);case M:u=8,i|=16;break;case E:u=8,i|=1;break;case _:return(e=Ks(12,n,t,8|i)).elementType=_,e.type=_,e.lanes=a,e;case N:return(e=Ks(13,n,t,i)).type=N,e.elementType=N,e.lanes=a,e;case D:return(e=Ks(19,n,t,i)).elementType=D,e.lanes=a,e;case V:return Xs(n,i,a,t);case F:return(e=Ks(24,n,t,i)).elementType=F,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:u=10;break e;case T:u=9;break e;case C:u=11;break e;case R:u=14;break e;case O:u=16,r=null;break e;case P:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ks(u,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Qs(e,t,n,r){return(e=Ks(7,e,r,t)).lanes=n,e}function Xs(e,t,n,r){return(e=Ks(23,e,r,t)).elementType=V,e.lanes=n,e}function Ys(e,t,n){return(e=Ks(6,e,null,t)).lanes=n,e}function Js(e,t,n){return(t=Ks(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zs(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function $s(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hs(),u=ds(i);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(mi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var c=n.type;if(mi(c)){n=Ai(n,c,s);break e}}n=s}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),ps(i,u,a),u}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Zs(e,t,null!=n&&!0===n.hydrate),t=Ks(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,sa(t),e[ei]=n.current,Rr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ws((function(){ec(t,o,e,i)}))}return tc(o)}function uc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return $s(e,t,null,n)}Qu=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Vo=!0;else{if(0===(n&r)){switch(Vo=!1,t.tag){case 3:Ho(t),Ha();break;case 5:La(t);break;case 1:mi(t.type)&&wi(t);break;case 4:Oa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Zi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Zo(e,t,n):(fi(Va,1&Va.current),null!==(t=au(e,t,n))?t.sibling:null);fi(Va,1&Va.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return iu(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Va,Va.current),r)break;return null;case 23:case 24:return t.lanes=0,Bo(e,t,n)}return au(e,t,n)}Vo=0!==(16384&e.flags)}else Vo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=yi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(r)){var a=!0;wi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,sa(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&ya(t,r,u,e),i.updater=ma,t.stateNode=i,i._reactInternals=t,wa(t,r,e,n),t=Go(null,t,r,!0,a,n)}else t.tag=0,Fo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Ws(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===R)return 14}return 2}(i),e=Ji(i,e),a){case 0:t=Ko(null,t,i,e,n);break e;case 1:t=Wo(null,t,i,e,n);break e;case 11:t=Uo(null,t,i,e,n);break e;case 14:t=jo(null,t,i,Ji(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ko(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 1:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 3:if(Ho(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ha(),t=au(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(ja=Qr(t.stateNode.containerInfo.firstChild),Ua=t,a=qa=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Qa.push(a);for(n=Sa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fo(e,t,r,n),Ha();t=t.child}return t;case 5:return La(t),null===e&&Ka(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,Kr(r,i)?u=null:null!==a&&Kr(r,a)&&(t.flags|=16),zo(e,t),Fo(e,t,u,n),t.child;case 6:return null===e&&Ka(t),null;case 13:return Zo(e,t,n);case 4:return Oa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=_a(t,null,r,n):Fo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Uo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 7:return Fo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,a=i.value;var s=t.type._context;if(fi(Zi,s._currentValue),s._currentValue=a,null!==u)if(s=u.value,0===(a=lr(s,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(u.children===i.children&&!pi.current){t=au(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===s.tag&&((l=la(-1,n&-n)).tag=2,fa(s,l)),s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ia(s.return,n),c.lanes|=n;break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}Fo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Fo(e,t,r,n),t.child;case 14:return a=Ji(i=t.type,t.pendingProps),jo(e,t,i,a=Ji(i.type,a),r,n);case 15:return qo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ji(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,mi(r)?(e=!0,wi(t)):e=!1,aa(t,n),ka(t,r,i),wa(t,r,i,n),Go(null,t,r,!0,e,n);case 19:return iu(e,t,n);case 23:case 24:return Bo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(ps(e,4,hs()),rc(e,4))},nt=function(e){13===e.tag&&(ps(e,67108864,hs()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hs(),n=ds(e);ps(e,n,t),rc(e,n)}},it=function(e,t){return t()},Se=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));J(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Oe=As,Pe=function(e,t,n,r,i){var a=Ru;Ru|=4;try{return Gi(98,e.bind(null,t,n,r,i))}finally{0===(Ru=a)&&(Hu(),Qi())}},Le=function(){0===(49&Ru)&&(function(){if(null!==is){var e=is;is=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ys(e,zi())}))}Qi()}(),Ls())},Me=function(e,t){var n=Ru;Ru|=2;try{return e(t)}finally{0===(Ru=n)&&(Hu(),Qi())}};var sc={Events:[ri,ii,ai,De,Re,Ls,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=$e(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{xi=fc.inject(lc),Ii=fc}catch(ye){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=uc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=$e(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ru;if(0!==(48&n))return e(t);Ru|=1;try{if(e)return Gi(99,e.bind(null,t))}finally{Ru=n,Qi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(ws((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=As,t.unstable_createPortal=function(e,t){return uc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},459:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),y=Symbol.for("react.module.reference");function m(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case f:case h:return e;default:switch(e=e&&e.$$typeof){case c:case s:case l:case p:case d:case u:return e;default:return t}}case r:return t}}}},900:function(e,t,n){"use strict";n(459)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,u=60110,s=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function m(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=y.prototype;var k=g.prototype=new m;k.constructor=g,r(k,y.prototype),k.isPureReactComponent=!0;var A={current:null},w=Object.prototype.hasOwnProperty,b={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,n){var r,a={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!b.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:i,type:e,key:o,ref:u,props:a,_owner:A.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var E=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function S(e,t,n,r,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case a:s=!0}}if(s)return o=o(s=e),e=""===r?"."+_(s,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(E,"$&/")+"/"),S(o,t,n,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+_(u=e[c],c);s+=S(u,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=S(u=u.value,t,n,l=r+_(u,c++),o);else if("object"===u)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function T(e,t,n){if(null==e)return e;var r=[],i=0;return S(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function C(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var N={current:null};function D(){var e=N.current;if(null===e)throw Error(d(321));return e}var R={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:A,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error(d(143));return e}},t.Component=y,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=A.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!b.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:u,props:a,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=x,t.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:C}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return D().useCallback(e,t)},t.useContext=function(e,t){return D().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return D().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return D().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return D().useLayoutEffect(e,t)},t.useMemo=function(e,t){return D().useMemo(e,t)},t.useReducer=function(e,t,n){return D().useReducer(e,t,n)},t.useRef=function(e){return D().useRef(e)},t.useState=function(e){return D().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(D){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),o=new T(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=E(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(D){return{type:"throw",arg:D}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function y(){}function m(){}function g(){}var k={};s(k,a,(function(){return this}));var A=Object.getPrototypeOf,w=A&&A(A(C([])));w&&w!==n&&r.call(w,a)&&(k=w);var b=g.prototype=y.prototype=Object.create(k);function x(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function E(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function C(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:N}}function N(){return{value:t,done:!0}}return m.prototype=g,s(b,"constructor",g),s(g,"constructor",m),m.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},x(I.prototype),s(I.prototype,o,(function(){return this})),e.AsyncIterator=I,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new I(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(b),s(b,u,"Generator"),s(b,a,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,y=null,m=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var A=new MessageChannel,w=A.port2;A.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();k=e+g;try{y(!0,e)?w.postMessage(null):(v=!1,y=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){y=e,v||(v=!0,w.postMessage(null))},r=function(e,n){m=h((function(){e(t.unstable_now())}),n)},i=function(){d(m),m=-1}}function b(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<E(i,t)))break e;e[r]=t,e[n]=i,n=r}}function x(e){return void 0===(e=e[0])?null:e}function I(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],u=a+1,s=e[u];if(void 0!==o&&0>E(o,n))void 0!==s&&0>E(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==s&&0>E(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function E(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var _=[],S=[],T=1,C=null,N=3,D=!1,R=!1,O=!1;function P(e){for(var t=x(S);null!==t;){if(null===t.callback)I(S);else{if(!(t.startTime<=e))break;I(S),t.sortIndex=t.expirationTime,b(_,t)}t=x(S)}}function L(e){if(O=!1,P(e),!R)if(null!==x(_))R=!0,n(M);else{var t=x(S);null!==t&&r(L,t.startTime-e)}}function M(e,n){R=!1,O&&(O=!1,i()),D=!0;var a=N;try{for(P(n),C=x(_);null!==C&&(!(C.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=C.callback;if("function"===typeof o){C.callback=null,N=C.priorityLevel;var u=o(C.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?C.callback=u:C===x(_)&&I(_),P(n)}else I(_);C=x(_)}if(null!==C)var s=!0;else{var c=x(S);null!==c&&r(L,c.startTime-n),s=!1}return s}finally{C=null,N=a,D=!1}}var V=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){R||D||(R=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return x(_)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=V,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,a,o){var u=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?u+o:u:o=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:T++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>u?(e.sortIndex=o,b(S,e),null===x(_)&&e===x(S)&&(O?i():O=!0,r(L,o-u))):(e.sortIndex=s,b(_,e),R||D||(R=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},561:function(e,t,n){"use strict";var r=n(791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,u=r.useLayoutEffect,s=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return u((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),o((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),s(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},595:function(e,t,n){"use strict";var r=n(791),i=n(248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,u=r.useRef,s=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=u(null);if(null===f.current){var h={hasValue:!1,value:null};f.current=h}else h=f.current;f=c((function(){function e(e){if(!s){if(s=!0,o=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return u=t}return u=e}if(t=u,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,u=n)}var o,u,s=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var d=o(e,f[0],f[1]);return s((function(){h.hasValue=!0,h.value=d}),[d]),l(d),d}},248:function(e,t,n){"use strict";e.exports=n(561)},327:function(e,t,n){"use strict";e.exports=n(595)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/ivantelegram/",function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return lt},SDK_VERSION:function(){return cn},_DEFAULT_ENTRY_NAME:function(){return Xt},_addComponent:function(){return $t},_addOrOverwriteComponent:function(){return en},_apps:function(){return Jt},_clearComponents:function(){return an},_components:function(){return Zt},_getProvider:function(){return nn},_registerComponent:function(){return tn},_removeServiceInstance:function(){return rn},deleteApp:function(){return dn},getApp:function(){return fn},getApps:function(){return hn},initializeApp:function(){return ln},onLog:function(){return yn},registerVersion:function(){return vn},setLogLevel:function(){return mn}});var t,r=n(791),i=n(164);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||u(e,t)||s()}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var f=function(e){return e};var h="beforeunload",d="popstate";function p(e){e.preventDefault(),e.returnValue=""}function v(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function y(){return Math.random().toString(36).substr(2,8)}function m(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function g(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var k=(0,r.createContext)(null);var A=(0,r.createContext)(null);var w=(0,r.createContext)({outlet:null,matches:[]});function b(e,t){if(!e)throw new Error(t)}function x(e,t,n){void 0===n&&(n="/");var r=D(("string"===typeof t?g(t):t).pathname||"/",n);if(null==r)return null;var i=I(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=T(i[o],r);return a}function I(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||b(!1),a.relativePath=a.relativePath.slice(r.length));var o=R([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&b(!1),I(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:S(o,e.index),routesMeta:u})})),t}var E=/^:\w+$/,_=function(e){return"*"===e};function S(e,t){var n=e.split("/"),r=n.length;return n.some(_)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!_(e)})).reduce((function(e,t){return e+(E.test(t)?3:""===t?1:10)}),r)}function T(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=C({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:R([i,l.pathname]),pathnameBase:O(R([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=R([i,l.pathnameBase]))}return a}function C(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=c(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function N(e,t,n){var r,i="string"===typeof e?g(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var u=a.split("/");".."===u[0];)u.shift(),o-=1;i.pathname=u.join("/")}r=o>=0?t[o]:"/"}var s=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?g(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:P(a),hash:L(u)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!s.pathname.endsWith("/")&&(s.pathname+="/"),s}function D(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var R=function(e){return e.join("/").replace(/\/\/+/g,"/")},O=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},P=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},L=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function M(e){V()||b(!1);var t=(0,r.useContext)(k),n=t.basename,i=t.navigator,a=j(e),o=a.hash,u=a.pathname,s=a.search,c=u;if("/"!==n){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?g(e).pathname:e.pathname}(e),f=null!=l&&l.endsWith("/");c="/"===u?n+(f?"/":""):R([n,u])}return i.createHref({pathname:c,search:s,hash:o})}function V(){return null!=(0,r.useContext)(A)}function F(){return V()||b(!1),(0,r.useContext)(A).location}function U(){V()||b(!1);var e=(0,r.useContext)(k),t=e.basename,n=e.navigator,i=(0,r.useContext)(w).matches,a=F().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),u=(0,r.useRef)(!1);(0,r.useEffect)((function(){u.current=!0}));var s=(0,r.useCallback)((function(e,r){if(void 0===r&&(r={}),u.current)if("number"!==typeof e){var i=N(e,JSON.parse(o),a);"/"!==t&&(i.pathname=R([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state)}else n.go(e)}),[t,n,o,a]);return s}function j(e){var t=(0,r.useContext)(w).matches,n=F().pathname,i=JSON.stringify(t.map((function(e){return e.pathnameBase})));return(0,r.useMemo)((function(){return N(e,JSON.parse(i),n)}),[e,i,n])}function q(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,i,a){return(0,r.createElement)(w.Provider,{children:void 0!==i.route.element?i.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,a+1))}})}),null)}function B(e){var t=e.to,n=e.replace,i=e.state;V()||b(!1);var a=U();return(0,r.useEffect)((function(){a(t,{replace:n,state:i})})),null}function z(e){b(!1)}function K(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,u=e.location,s=e.navigationType,c=void 0===s?t.Pop:s,l=e.navigator,f=e.static,h=void 0!==f&&f;V()&&b(!1);var d=O(i),p=(0,r.useMemo)((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof u&&(u=g(u));var v=u,y=v.pathname,m=void 0===y?"/":y,w=v.search,x=void 0===w?"":w,I=v.hash,E=void 0===I?"":I,_=v.state,S=void 0===_?null:_,T=v.key,C=void 0===T?"default":T,N=(0,r.useMemo)((function(){var e=D(m,d);return null==e?null:{pathname:e,search:x,hash:E,state:S,key:C}}),[d,m,x,E,S,C]);return null==N?null:(0,r.createElement)(k.Provider,{value:p},(0,r.createElement)(A.Provider,{children:o,value:{location:N,navigationType:c}}))}function W(e){var t=e.children,n=e.location;return function(e,t){V()||b(!1);var n,i=(0,r.useContext)(w).matches,a=i[i.length-1],o=a?a.params:{},u=(a&&a.pathname,a?a.pathnameBase:"/"),s=(a&&a.route,F());if(t){var c,l="string"===typeof t?g(t):t;"/"===u||(null==(c=l.pathname)?void 0:c.startsWith(u))||b(!1),n=l}else n=s;var f=n.pathname||"/",h=x(e,{pathname:"/"===u?f:f.slice(u.length)||"/"});return q(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:R([u,e.pathname]),pathnameBase:"/"===e.pathnameBase?u:R([u,e.pathnameBase])})})),i)}(G(t),n)}function G(e){var t=[];return r.Children.forEach(e,(function(e){if((0,r.isValidElement)(e))if(e.type!==r.Fragment){e.type!==z&&b(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=G(e.props.children)),t.push(n)}else t.push.apply(t,G(e.props.children))})),t}function H(){return H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H.apply(this,arguments)}function Q(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var X=["onClick","reloadDocument","replace","state","target","to"],Y=["aria-current","caseSensitive","className","end","style","to","children"];function J(e){var n=e.basename,i=e.children,a=e.window,o=(0,r.useRef)();null==o.current&&(o.current=function(e){void 0===e&&(e={});var n=e.window,r=void 0===n?document.defaultView:n,i=r.history;function a(){var e=r.location,t=e.pathname,n=e.search,a=e.hash,o=i.state||{};return[o.idx,f({pathname:t,search:n,hash:a,state:o.usr||null,key:o.key||"default"})]}var o=null;r.addEventListener(d,(function(){if(o)w.call(o),o=null;else{var e=t.Pop,n=a(),r=n[0],i=n[1];if(w.length){if(null!=r){var u=c-r;u&&(o={action:e,location:i,retry:function(){S(-1*u)}},S(u))}}else _(e)}}));var u=t.Pop,s=a(),c=s[0],k=s[1],A=v(),w=v();function b(e){return"string"===typeof e?e:m(e)}function x(e,t){return void 0===t&&(t=null),f(l({pathname:k.pathname,hash:"",search:""},"string"===typeof e?g(e):e,{state:t,key:y()}))}function I(e,t){return[{usr:e.state,key:e.key,idx:t},b(e)]}function E(e,t,n){return!w.length||(w.call({action:e,location:t,retry:n}),!1)}function _(e){u=e;var t=a();c=t[0],k=t[1],A.call({action:u,location:k})}function S(e){i.go(e)}null==c&&(c=0,i.replaceState(l({},i.state,{idx:c}),""));var T={get action(){return u},get location(){return k},createHref:b,push:function e(n,a){var o=t.Push,u=x(n,a);if(E(o,u,(function(){e(n,a)}))){var s=I(u,c+1),l=s[0],f=s[1];try{i.pushState(l,"",f)}catch(h){r.location.assign(f)}_(o)}},replace:function e(n,r){var a=t.Replace,o=x(n,r);if(E(a,o,(function(){e(n,r)}))){var u=I(o,c),s=u[0],l=u[1];i.replaceState(s,"",l),_(a)}},go:S,back:function(){S(-1)},forward:function(){S(1)},listen:function(e){return A.push(e)},block:function(e){var t=w.push(e);return 1===w.length&&r.addEventListener(h,p),function(){t(),w.length||r.removeEventListener(h,p)}}};return T}({window:a}));var u=o.current,s=c((0,r.useState)({action:u.action,location:u.location}),2),k=s[0],A=s[1];return(0,r.useLayoutEffect)((function(){return u.listen(A)}),[u]),(0,r.createElement)(K,{basename:n,children:i,location:k.location,navigationType:k.action,navigator:u})}var Z=(0,r.forwardRef)((function(e,t){var n=e.onClick,i=e.reloadDocument,a=e.replace,o=void 0!==a&&a,u=e.state,s=e.target,c=e.to,l=Q(e,X),f=M(c),h=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,o=n.state,u=U(),s=F(),c=j(e);return(0,r.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||m(s)===m(c);u(e,{replace:n,state:o})}}),[s,u,c,a,o,i,e])}(c,{replace:o,state:u,target:s});return(0,r.createElement)("a",H({},l,{href:f,onClick:function(e){n&&n(e),e.defaultPrevented||i||h(e)},ref:t,target:s}))}));var $=(0,r.forwardRef)((function(e,t){var n=e["aria-current"],i=void 0===n?"page":n,a=e.caseSensitive,o=void 0!==a&&a,u=e.className,s=void 0===u?"":u,c=e.end,l=void 0!==c&&c,f=e.style,h=e.to,d=e.children,p=Q(e,Y),v=F(),y=j(h),m=v.pathname,g=y.pathname;o||(m=m.toLowerCase(),g=g.toLowerCase());var k,A=m===g||!l&&m.startsWith(g)&&"/"===m.charAt(g.length),w=A?i:void 0;k="function"===typeof s?s({isActive:A}):[s,A?"active":null].filter(Boolean).join(" ");var b="function"===typeof f?f({isActive:A}):f;return(0,r.createElement)(Z,H({},p,{"aria-current":w,className:k,ref:t,style:b,to:h}),"function"===typeof d?d({isActive:A}):d)}));var ee="About_About__hn0Oo",te="About_About__wrapper__cvvnk",ne="About_About__message__YWoVO",re="About_About__link__fhA8R",ie=n(184),ae=function(){return(0,ie.jsx)("div",{className:ee,children:(0,ie.jsxs)("div",{className:te,children:[(0,ie.jsx)("div",{className:ne,children:"Hi! My name is Ivan. It's alpha version of my site, so please, do'nt judge me strictly. Also, i don't know server side now, thats why interaction with server is impromtu. Hope u enjoy this site! See you later!"}),(0,ie.jsx)($,{className:re,to:"/",children:"Return"})]})})};function oe(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function ue(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){oe(a,r,i,o,u,"next",e)}function u(e){oe(a,r,i,o,u,"throw",e)}o(void 0)}))}}var se=n(757),ce=n.n(se),le=n(248),fe=n(327);var he=function(e){e()},de=function(){return he},pe=r.createContext(null);function ve(){return(0,r.useContext)(pe)}var ye=function(){throw new Error("uSES not initialized!")},me=ye,ge=function(e,t){return e===t};function ke(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=e===pe?ve:function(){return(0,r.useContext)(e)};return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ge;var i=t(),a=i.store,o=i.subscription,u=i.getServerState,s=me(o.addNestedSub,a.getState,u||a.getState,e,n);return(0,r.useDebugValue)(s),s}}var Ae=ke();n(110),n(900);var we={notify:function(){},get:function(){return[]}};function be(e,t){var n,r=we;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=de(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=we)},getListeners:function(){return r}};return o}var xe=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?r.useLayoutEffect:r.useEffect;var Ie=function(e){var t=e.store,n=e.context,i=e.children,a=e.serverState,o=(0,r.useMemo)((function(){var e=be(t);return{store:t,subscription:e,getServerState:a?function(){return a}:void 0}}),[t,a]),u=(0,r.useMemo)((function(){return t.getState()}),[t]);xe((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),u!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,u]);var s=n||pe;return r.createElement(s.Provider,{value:o},i)};function Ee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=e===pe?ve:function(){return(0,r.useContext)(e)};return function(){return t().store}}var _e=Ee();function Se(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=e===pe?_e:Ee(e);return function(){return t().dispatch}}var Te,Ce=Se();function Ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){Ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){me=e}(fe.useSyncExternalStoreWithSelector),function(e){e}(le.useSyncExternalStore),Te=i.unstable_batchedUpdates,he=Te;var Oe={description:"AnimatedButton_description__QNYQJ",link:"AnimatedButton_link__Q8uIC",btn:"AnimatedButton_btn__H+YqA"},Pe=function(e){return(0,ie.jsx)("div",Re(Re({},e),{},{className:Oe.button_container,children:(0,ie.jsx)("button",{className:Oe.btn,children:(0,ie.jsxs)("span",{children:[" ",e.children]})})}))},Le="Login_Login__l7u0r";function Me(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fe(e,t,n){return t&&Ve(e.prototype,t),n&&Ve(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ue(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function je(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qe(e,t){return qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},qe(e,t)}function Be(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qe(e,t)}function ze(e){return ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ze(e)}function Ke(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function We(e){return We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},We(e)}function Ge(e,t){if(t&&("object"===We(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return je(e)}function He(e){var t=Ke();return function(){var n,r=ze(e);if(t){var i=ze(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ge(this,n)}}function Qe(e,t,n){return Qe=Ke()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&qe(i,n.prototype),i},Qe.apply(null,arguments)}function Xe(e){var t="function"===typeof Map?new Map:void 0;return Xe=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Qe(e,arguments,ze(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),qe(n,e)},Xe(e)}var Ye=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Je={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ye(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Ze=function(e){return function(e){var t=Ye(e);return Je.encodeByteArray(t,!0)}(e).replace(/\./g,"")},$e=function(e){try{return Je.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function et(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=et(e[n],t[n]));return e}var tt=function(){function e(){var t=this;Me(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Fe(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function nt(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ze(JSON.stringify({alg:"none",type:"JWT"})),Ze(JSON.stringify(a)),""].join(".")}function rt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function it(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rt())}function at(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function ot(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function ut(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function st(){var e=rt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function ct(){return"object"===typeof indexedDB}var lt=function(e){Be(n,e);var t=He(n);function n(e,r,i){var a;return Me(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(je(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(je(a),ft.prototype.create),a}return Fe(n)}(Xe(Error)),ft=function(){function e(t,n,r){Me(this,e),this.service=t,this.serviceName=n,this.errors=r}return Fe(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?ht(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new lt(n,a,t);return o}}]),e}();function ht(e,t){return e.replace(dt,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var dt=/\{\$([^}]+)}/g;function pt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function vt(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(yt(u)&&yt(s)){if(!vt(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function yt(e){return null!==e&&"object"===typeof e}function mt(e){for(var t=[],n=function(){var e=c(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function gt(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=c(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function kt(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function At(e,t){var n=new wt(e,t);return n.subscribe.bind(n)}var wt=function(){function e(t,n){var r=this;Me(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Fe(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Ue(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=bt),void 0===r.error&&(r.error=bt),void 0===r.complete&&(r.complete=bt);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function bt(){}function xt(e){return e&&e._delegate?e._delegate:e}function It(e,t){return new Promise((function(n,r){e.onsuccess=function(e){n(e.target.result)},e.onerror=function(e){var n;r("".concat(t,": ").concat(null===(n=e.target.error)||void 0===n?void 0:n.message))}}))}var Et=function(){function e(t){Me(this,e),this._db=t,this.objectStoreNames=this._db.objectStoreNames}return Fe(e,[{key:"transaction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"readonly";return new _t(this._db.transaction.call(this._db,e,t))}},{key:"createObjectStore",value:function(e,t){return new St(this._db.createObjectStore(e,t))}},{key:"close",value:function(){this._db.close()}}]),e}(),_t=function(){function e(t){var n=this;Me(this,e),this._transaction=t,this.complete=new Promise((function(e,t){n._transaction.oncomplete=function(){e()},n._transaction.onerror=function(){t(n._transaction.error)},n._transaction.onabort=function(){t(n._transaction.error)}}))}return Fe(e,[{key:"objectStore",value:function(e){return new St(this._transaction.objectStore(e))}}]),e}(),St=function(){function e(t){Me(this,e),this._store=t}return Fe(e,[{key:"index",value:function(e){return new Tt(this._store.index(e))}},{key:"createIndex",value:function(e,t,n){return new Tt(this._store.createIndex(e,t,n))}},{key:"get",value:function(e){return It(this._store.get(e),"Error reading from IndexedDB")}},{key:"put",value:function(e,t){return It(this._store.put(e,t),"Error writing to IndexedDB")}},{key:"delete",value:function(e){return It(this._store.delete(e),"Error deleting from IndexedDB")}},{key:"clear",value:function(){return It(this._store.clear(),"Error clearing IndexedDB object store")}}]),e}(),Tt=function(){function e(t){Me(this,e),this._index=t}return Fe(e,[{key:"get",value:function(e){return It(this._index.get(e),"Error reading from IndexedDB")}}]),e}();function Ct(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Nt(e){return function(e){if(Array.isArray(e))return o(e)}(e)||Ct(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Dt=function(){function e(t,n,r){Me(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Fe(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Rt="[DEFAULT]",Ot=function(){function e(t,n){Me(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Fe(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new tt;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Rt})}catch(s){}var t,n=Ue(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=ue(se.mark((function e(){var t;return se.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Nt(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Nt(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Ue(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=c(i.value,2),s=u[0],l=u[1],f=this.normalizeInstanceIdentifier(s);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Ue(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(fy){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Rt?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(fy){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt;return this.component?this.component.multipleInstances?e:Rt:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Pt,Lt,Mt=function(){function e(t){Me(this,e),this.name=t,this.providers=new Map}return Fe(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Ot(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Vt=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Lt||(Lt={}));var Ft,Ut,jt={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},qt=Lt.INFO,Bt=(Ne(Pt={},Lt.DEBUG,"log"),Ne(Pt,Lt.VERBOSE,"log"),Ne(Pt,Lt.INFO,"info"),Ne(Pt,Lt.WARN,"warn"),Ne(Pt,Lt.ERROR,"error"),Pt),zt=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Bt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Kt=function(){function e(t){Me(this,e),this.name=t,this._logLevel=qt,this._logHandler=zt,this._userLogHandler=null,Vt.push(this)}return Fe(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Lt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?jt[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Lt.DEBUG].concat(t)),this._logHandler.apply(this,[this,Lt.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Lt.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Lt.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Lt.INFO].concat(t)),this._logHandler.apply(this,[this,Lt.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Lt.WARN].concat(t)),this._logHandler.apply(this,[this,Lt.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Lt.ERROR].concat(t)),this._logHandler.apply(this,[this,Lt.ERROR].concat(t))}}]),e}();var Wt=function(){function e(t){Me(this,e),this.container=t}return Fe(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Gt="@firebase/app",Ht="0.7.22",Qt=new Kt("@firebase/app"),Xt="[DEFAULT]",Yt=(Ne(Ft={},Gt,"fire-core"),Ne(Ft,"@firebase/app-compat","fire-core-compat"),Ne(Ft,"@firebase/analytics","fire-analytics"),Ne(Ft,"@firebase/analytics-compat","fire-analytics-compat"),Ne(Ft,"@firebase/app-check","fire-app-check"),Ne(Ft,"@firebase/app-check-compat","fire-app-check-compat"),Ne(Ft,"@firebase/auth","fire-auth"),Ne(Ft,"@firebase/auth-compat","fire-auth-compat"),Ne(Ft,"@firebase/database","fire-rtdb"),Ne(Ft,"@firebase/database-compat","fire-rtdb-compat"),Ne(Ft,"@firebase/functions","fire-fn"),Ne(Ft,"@firebase/functions-compat","fire-fn-compat"),Ne(Ft,"@firebase/installations","fire-iid"),Ne(Ft,"@firebase/installations-compat","fire-iid-compat"),Ne(Ft,"@firebase/messaging","fire-fcm"),Ne(Ft,"@firebase/messaging-compat","fire-fcm-compat"),Ne(Ft,"@firebase/performance","fire-perf"),Ne(Ft,"@firebase/performance-compat","fire-perf-compat"),Ne(Ft,"@firebase/remote-config","fire-rc"),Ne(Ft,"@firebase/remote-config-compat","fire-rc-compat"),Ne(Ft,"@firebase/storage","fire-gcs"),Ne(Ft,"@firebase/storage-compat","fire-gcs-compat"),Ne(Ft,"@firebase/firestore","fire-fst"),Ne(Ft,"@firebase/firestore-compat","fire-fst-compat"),Ne(Ft,"fire-js","fire-js"),Ne(Ft,"firebase","fire-js-all"),Ft),Jt=new Map,Zt=new Map;function $t(e,t){try{e.container.addComponent(t)}catch(n){Qt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function en(e,t){e.container.addOrOverwriteComponent(t)}function tn(e){var t=e.name;if(Zt.has(t))return Qt.debug("There were multiple attempts to register component ".concat(t,".")),!1;Zt.set(t,e);var n,r=Ue(Jt.values());try{for(r.s();!(n=r.n()).done;){$t(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function nn(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function rn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xt;nn(e,t).clearInstance(n)}function an(){Zt.clear()}var on=(Ne(Ut={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Ne(Ut,"bad-app-name","Illegal App name: '{$appName}"),Ne(Ut,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Ne(Ut,"app-deleted","Firebase App named '{$appName}' already deleted"),Ne(Ut,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Ne(Ut,"invalid-log-argument","First argument to `onLog` must be null or a function."),Ne(Ut,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),Ne(Ut,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),Ne(Ut,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),Ne(Ut,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),Ut),un=new ft("app","Firebase",on),sn=function(){function e(t,n,r){var i=this;Me(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Dt("app",(function(){return i}),"PUBLIC"))}return Fe(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw un.create("app-deleted",{appName:this._name})}}]),e}(),cn="9.7.0";function ln(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Xt,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw un.create("bad-app-name",{appName:String(i)});var a=Jt.get(i);if(a){if(vt(e,a.options)&&vt(r,a.config))return a;throw un.create("duplicate-app",{appName:i})}var o,u=new Mt(i),s=Ue(Zt.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new sn(e,r,u);return Jt.set(i,l),l}function fn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt,t=Jt.get(e);if(!t)throw un.create("no-app",{appName:e});return t}function hn(){return Array.from(Jt.values())}function dn(e){return pn.apply(this,arguments)}function pn(){return(pn=ue(se.mark((function e(t){var n;return se.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Jt.has(n)){e.next=6;break}return Jt.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vn(e,t,n){var r,i=null!==(r=Yt[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Qt.warn(u.join(" "))}tn(new Dt("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function yn(e,t){if(null!==e&&"function"!==typeof e)throw un.create("invalid-log-argument");!function(e,t){var n,r=Ue(Vt);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=jt[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Lt[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function mn(e){var t;t=e,Vt.forEach((function(e){e.setLogLevel(t)}))}var gn="firebase-heartbeat-store",kn=null;function An(){var e,t,n;return kn||(kn=(e="firebase-heartbeat-database",t=1,n=function(e,t){0===t&&e.createObjectStore(gn)},new Promise((function(r,i){try{var a=indexedDB.open(e,t);a.onsuccess=function(e){r(new Et(e.target.result))},a.onerror=function(e){var t;i("Error opening indexedDB: ".concat(null===(t=e.target.error)||void 0===t?void 0:t.message))},a.onupgradeneeded=function(e){n(new Et(a.result),e.oldVersion,e.newVersion,new _t(a.transaction))}}catch(o){i("Error opening indexedDB: ".concat(o.message))}}))).catch((function(e){throw un.create("storage-open",{originalErrorMessage:e.message})}))),kn}function wn(e){return bn.apply(this,arguments)}function bn(){return bn=ue(se.mark((function e(t){var n;return se.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,An();case 3:return n=e.sent,e.abrupt("return",n.transaction(gn).objectStore(gn).get(En(t)));case 7:throw e.prev=7,e.t0=e.catch(0),un.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),bn.apply(this,arguments)}function xn(e,t){return In.apply(this,arguments)}function In(){return In=ue(se.mark((function e(t,n){var r,i,a;return se.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,An();case 3:return r=e.sent,i=r.transaction(gn,"readwrite"),a=i.objectStore(gn),e.next=8,a.put(n,En(t));case 8:return e.abrupt("return",i.complete);case 11:throw e.prev=11,e.t0=e.catch(0),un.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),In.apply(this,arguments)}function En(e){return"".concat(e.name,"!").concat(e.options.appId)}var _n=function(){function e(t){var n=this;Me(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Dn(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Fe(e,[{key:"triggerHeartbeat",value:function(){var e=ue(se.mark((function e(){var t,n,r;return se.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Sn(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=ue(se.mark((function e(){var t,n,r,i,a;return se.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Sn(),n=Tn(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Ze(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Sn(){return(new Date).toISOString().substring(0,10)}function Tn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Ue(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Rn(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Rn(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Cn,Nn,Dn=function(){function e(t){Me(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Fe(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=ue(se.mark((function e(){return se.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ct()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=ue(se.mark((function e(){var t;return se.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,wn(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=ue(se.mark((function e(t){var n,r;return se.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",xn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=ue(se.mark((function e(t){var n,r;return se.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",xn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(Nt(r.heartbeats),Nt(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Rn(e){return Ze(JSON.stringify({version:2,heartbeats:e})).length}Cn="",tn(new Dt("platform-logger",(function(e){return new Wt(e)}),"PRIVATE")),tn(new Dt("heartbeat",(function(e){return new _n(e)}),"PRIVATE")),vn(Gt,Ht,Cn),vn(Gt,Ht,"esm2017"),vn("fire-js","");var On=function(){function e(t,n){var r=this;Me(this,e),this._delegate=t,this.firebase=n,$t(t,new Dt("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Fe(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),dn(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xt;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xt;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){$t(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){en(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Pn=(Ne(Nn={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Ne(Nn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Nn),Ln=new ft("app-compat","Firebase",Pn);var Mn=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=ln(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(pt(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:vn,setLogLevel:mn,onLog:yn,apps:null,SDK_VERSION:cn,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(tn(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Ln.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&et(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!pt(n,e=e||Xt))throw Ln.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(On);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){et(n,e)},createSubscribe:At,ErrorFactory:ft,deepExtend:et}),n}(),Vn=new Kt("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Vn.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Fn=self.firebase.SDK_VERSION;Fn&&Fn.indexOf("LITE")>=0&&Vn.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Un=Mn;!function(e){vn("@firebase/app-compat","0.1.23",e)}();Un.registerVersion("firebase","9.7.0","app-compat");var jn=n.p+"static/media/moon.8850298500322c4555b7.png",qn="LOGIN",Bn=function e(t){return document.body.className=!0===t?"dark":"",{type:e,payload:t}},zn=function e(t){return{type:e,payload:t}},Kn={options:[{logo:jn,text:"Dark Mode",func:Bn,SwitcherNeeded:!0},{logo:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA64AAAPUCAMAAACaYZTnAAAAHlBMVEVHcEwAAACrq6szMzMZGRlTU1PExMTx8fFqamqKioqZv+xsAAAAAXRSTlMAQObYZgAAFrtJREFUeNrs3Qt22zgWRVGLBPiZ/4Tbvaq641UVx5JNibwPe88gCo4eAFLJ29trresy7dvW57m9u1Hbf/+S2zz3bd+nZV3fCLGu095ngY5d73u3i2gvXuqyb7O1yq9oJ81eNdVupPKbZs3Zq7W6d+uSz/VdsRdJddpMVb40b4bs+a0aq9y/L3aU1SpBxW6LcM45r9oD851dsXPs6++BDVa+f/PkGGuwYsQiVp5xihXsC9gFc5RNsE+erJtFhmDFimARK86wLpjgoGAneR19w+SHcTzN7FWnQ0er62AcYVP2wZYTdsT2wfA/3YB1H0wOA9ZoxYAdxWQJ4QTrQhhcER+6EfZiBC836/VbPL7hFN6ZcCOMDXHhWt0I44bYsRW+PsDaEHt+Q4ymV5dM5PAE1iUTOXYpejeCnAtiMaqVnF5dEHuAg17VCofzAFat6FWtYD+sVvSKO2EiepWmWonhfYnfeNq7TG2e5z53Knv/O56f9rMQ7yO+4D3hue/Tsjp5jLRDW5Z968dfgXjf/x+O/Q3OvE3+O/uRq522Wa/PsxyY6q5U3ps9MtlmSX38aI86dvTJ58qvdbUfdX/pH1z78KnOWuVZxR6zuDzO+b8jLoWbx9l8VmxzPXycAy6Fu/MqfzrHzq6bLnPN1H2SfLXKuuumS1wz+dEEdy20zUL7uR9+6zmy8qoJ623EH74f4d+D5aFgf3SG9a+Z/mgr7L/34+FLp+bp6/c/vdk+mJwj7OBPX3f7YJJ2xEMvuvUHx36jldcP2KG3w92hn1MGbHM7/LDJEzBOGrDddvjRj6z5huOsxbfbDr9kK2wjzJl7u0GHxeLbjcAD7JjvDn/zkataOXkJDvnwdfJqBGf32t023flJNbWS2Wsf74PabUNI7XW4d9VXd3JcYiFuLlC+tpmt5M7Xwcbr6txKcK+DjddvDFcvHvKkXmfj9ejh6nkrF+p1qOW4eZWEK/XajNdDh6taeaLHX4idx/lwdt9lXMvk1abjth4euHK189kwrzZNLoW53AyZjdffm10zkX+hMshbO4uDKxU2fWNMkc23GFfUjZGfbzpshXnRymye5fzL7kRPje3wCEtzthWmxnZ4gLW52ApT5KA2wOLcHeexOmvuhf0Oh5eO12Y3/IO9sHsmXmry6PWjxx66duuH147X2W74g2a4Ume8Fp8niw+DQuO1+N3wbrhSabzWXqKz4Uql8Vr6bnj1zUWp8Tr7JDxz5cyZ0jzK+ctDj3H8iy9c/4Kl8iptLt2odWTrPgc/xeFMj/wwpzm6umgiZp3W3QRurtxI2AU27yG+PfbU1UUTEXOl7KFttRcmwmIb6EOg5G646uF1txcmQ7cPfOhEYC/MiSaT5ZGbJu9IkHLNsvkI/BiHlNFS9JplscGg4MGt6E5wcnSl4mKtmevu6ErFk1vN2bI5ulLx8FrzNcTu6ErF4VJztc5em6bi0a3kXtBpgCDL4E9yVjdN1Fyuvq7gXG3sJzmLi2FqXrVUzHUa/i1MkvSxc909xyHINvbN6O45Dtarbys49fBWMdcuV4IsYx/eBj+6I1e5wnOscr2TtYJczzXLlZq5bkPn2qwV5CpXkKtcqUeuckWucgW5yhW5ylWuyFWuIFe5Ile5yhW5yhXkKlfkKle5Ile5glzlilzlKlfkKleQq1yRq1xBrnIFucoVucoV5CpXkKtckatcQa5yBbnKFbnKFeQqV5CrXJGrXEGuckWucpUrcpUryFWuyFWuckWucgW5yhW5ylWuyFWuIFe5Ile5yhW5yhXkKlfkKle5Ile5glzlilzlCnKVK8hVrshVriBXuYJc5Ypc5QpylSvIVa7IVa4gV7mCXOWKXOUKcpUrcpWrXJGrXEGuckWucpUrcpUryFWuyFWuckWucgW5yhW5ylWuyFWuIFe5Ile5yhW5yhXkKlfkKleQq1xBrnJFrnIFucoV5CpX5CpXkKtcQa5yRa5yBbnKFeQqV+QqV3iOdveC3eUKKQtWrnCyfveCXeQK59rvXrCrXOFcy73rdX6TK5xrbQNfDMuVMNvAR1e5UnM3XHIvLFfS9HGHq1wpOV77m1wh5PS6yhWuYP160U5vcoVr9NpGfIgjV0oeX/sqV7lynV7bkLXKlcxeP1+4W91a5Uro+fWT++E2Vf5Ty5VKA7byaJUr0cH+4wWnVjxWuZK9JZ763yu4zfuylv/zypX0ZNdlWdcx/qxyBbkCcgW5yhXkCsgV5CpXkCsgV5CrXEGugFxBrnIFuQJyBbkCcgXkCnIF5ArIFeQKyBWQK8gVkCsgV5ArIFeQq1xBroBcQa5yBbkCcgW5yhXkCsgV5CpXkCsgV5CrXEGugFxBroBcAbmCXAG5AnIFuQJyhZ9Zl33r77Z9WeUKF2516h8Xb59WucI1Y93bv5bvvsoVLjhZ228X8CRXuFqt/bMl3Fe5wqVqbX9Yw6tc4TqW9sdFvMgVEmZrgV7lSqVav1zP2b3KlUK2O9bxIle4wsH1roW8yBUCtsLpvcqVMqZ7l/IiV0hZzLG9ypUye+HbrXqvcqWK/Va+V7lSRb+V71WuVNFu5XuVK+MdXWN7lStFLLf6vcqVUXMN7FWuFDHd6vcqV8bNNa5XuTLsZjivV7lSxHqr36tcGTrXrF7lShVz/V7lShX7rXyvcqWK5Va+V7ky+m44qFe5UsZ0q96rXCljbdV7lSvGa0yvcqWQXrxXuWI7HNOrXKlkuZXuVa44vsb0Klf0GtOrXNFrTK9yRa8xvcoVvcb0Klf0GtOrXNFrTK9yRa8xvcoVvcb0Klf0GtOrXNFrTK9yRa8xvcoVvcb0Klf0GtOrXNFrTK9yRa8xvcoVvcb0Klf0GtOrXNFrTK9yRa8xvcoVvcb0Klf0GtOrXNFrTK9yRa8xvcoVvcb0Klf0GtOrXNFrTK9yRa8xvcoVvcb0Klf0GtOrXNFrTK9yRa8xvcoVvcb0Klf0GtOrXNFrTK9yRa8xvcoVvcb0Klf0GtOrXNFrTK9yRa8xvcoVvcb0Klf0GtOrXNFrTK9yRa8xvcoVvcb0Klf0GtOrXNFrTK9yRa8xvcoVvcb0Klf0GtOrXNFrTK9yRa8xvcoVvcb0KleI6VWuENOrXCGmV7lCTK9yhZhe5QoxvcoVYnqVK8T0KleI6VWuENOrXCGmV7lCTK9yhZhe5QoxvcoVYnqVK8T0Klc4stfbIlcwX+UKQb3KFWJ6lSvEnF/lCjHzVa4QM1/lCjHzVa4QM1/lCjHzVa4QM1/lCjHzVa4QM1/lCjHzVa4QM1/lCjHzVa4QM1/lCjG9yhViepUrxPQqV4jpVa4Q06tcIaZXuUJMr3KFmF7lCjG9yhViepUrxPQqV4jpVa4Q06tcIaZXuUJMr3KFmF7lCjG9yhViepUrxPQqV4jpVa4Q06tcIaZXuUJMr3KFmF7lCjG9yhViev0Pe3eC5LaRBVBQAkgCuP+Fx54lYhSWZdKWTb5f+W7A7squDUTjKmW84iplvOIqZbziKmW84iplvOIqZbziKmW84iplvOIqZbziKmW84iplvOIqZbziKmW84iplvOIqZbziKmW84iplvOIqZbziKmW84iplvOIqZbziKmW84iplvOIqZbziKmW84iplvOIqZbziKmW84iplvOIqZbziKmW84iplvOIqZbziKmW84iplvOL6a8fj8dikv6X7z/OK67Gd+1fpQ3vg+n9Yz5sRoYrXtbkep9GgkNeluW5mVqW8LszV1Kqa13W5HnfDQDGvy3KlVZ1uj8W5Wgmr5PVYmutmBKjUfizM9XAmrFbXwlwthVXrWJbrwy9ftc5luZpclZxel+R6+NUruXtdkqtjYQXbF+XqCQk1V8NLcnWLo2LbklxtXRXdvK7I1TWOkt2X5OqkSdGzJlwlXHGVcMVVuDpqkhw1uciRfkqXxySkSpuHEKVKh0f8pcxJky/QSZmtq6+nS5m1sJe/SI3WffmL6VXFydWLS6XKztVrwaVES78W3HJYqRb/pxv+pZVKrf4vrXhVTqt/xyxltK7M9cuXzfmwSlrX5mqCVUrr4lx/BWuGVUXr8lx/AbuduzGhglZc/0P28Xhs0t/S+dO04ip98PdJvtWKq5TRiquU0YqrlNGKq5TRiquU0YqrlNGKq5TRiquU0YqrlNGKq5TRiquU0YqrlNGKq5TRiquU0YqrlNGKq5TRiquU0YqrlNGKq5TRiquU0YqrlNGKq5TRiquU0YqrlNGKq5TRiquU0YqrlNGKq5TRiquU0YqrlNGKq5TRiquU0YqrlNGKq5TRiquU0YqrlNGKq5TRiquU0YqrlNGKq5TRiquU0YqrlNGKq5TRiquU0YqrlNGKq5TRiquU0YqrlNGKq5TRiquU0YqrlNGKq5TRiquU0YqrlNGKq5TRiquU0YqrlNGKq5TRiquU0YqrlNGKq5TRiquU0YqrlNGKq5TRiquU0YqrlNGKq5TRiquU0YqrlNGKq5TRiquU0YqrlNGKq5TRiquU0YqrlNGKq5TRiquU0YqrlNGKq5TRiquU0YqrlNGKq5TRiquU0YqrlNGKq5TRiquU0YqrlNGKq5TRiquU0YqrlNGKq5TRiquU0YqrlNGKq5TRiqtozWjFVbRmtOIqWjNacRWtGa24itaMVlxFa0YrrqI1oxVX0ZrRiqtozWjFVbRmtOIqWjNacRWtGa24itaMVlxFa0YrrqI1oxVX0ZrRiqtozWjFVbRmtOIqWjNacRWtGa24itaMVlxFa0YrrqI1oxVX0ZrRiqtozWjFVbRmtOIqWjNacRWtGa24itaMVlxFa0YrrqI1oxVX0ZrRiqtozWjFVbRmtOIqWjNacRWtGa24itaMVlxFa0YrrqI1oxVX0ZrRiqtozWjFVbRmtOIqWjNacRWtGa24itaMVlxFa0YrrqI1oxVX0ZrRiqtozWjFVbRmtOIqWjNacRWtGa24apbW22StuGpSxz5aK66a1DlbK66ycc1oxVWWwhmtuGpO23StuGpO9+lacdWctfB4rbhqTNd4rbhq+bVwRyuuGtNtvFZctfjWtaQVV63NNaUVV03pMV8rrlqZa0wrrlqYa00rrlp375rTiquW5drTiqvGtI/XiqvGdI7XiqvGtI3XiquW3Lw2teKqOd2na8VVc3pM14qr1ptes1px1XK7165WXDWpa7ZWXDVqer2P1oqrZnndJ2vFVcO8/vAVMLe2Vly10Pxa14qrxnn93WeH9+MLrtJntX1/QXzlteKqiRPs9Vuw5zHgg+GqkWC3b6509usY8bFw1VSxj+u87/v9fm3HlM+Eq4SrJFwlXHGVcJWEq4QrrhKuknCVcMVVwlUSrhKuuEq4SsJVwlUSrpJwlXCVhKskXCVcJeEqCVcJV0m4SsJVwlUSrhKuuEq4SsJVwhVXCVdJuEq44irhKglXCVdcJVwl4SrhiquEqyRcJVwl4SoJVwlXSbhKwlXCVRKu0h93PK77fvtlcN72cztwxVWfi/W6fTNE9/FicVUV6/mdQXoduOKqz5tZvz9M9weuuOrDtN5/d6BeuOKqj9L6o3F7Hrjiqs/RevvhUL0fuOKqwtz67/kVV1z18fvW/7XhapzoI7qeGK0HrtLnb1z/u33FVfqAzqeG6wNX6f2T63PDdcdVSuxcx06vuGreznXsZQ6uSvVYerziqpFr4Zl3Obgq1f3pAbvhKlUG7IWr9N5uTw/YE1fpvT09Xkc+2ISrcMVVwhVX4YorrsIVVwlXXIUrrrgKV1wlXHEVrrjiKlxxlXDFVbjiiqtwxVXCFVfhiquEK64SrrgKV1wlXHGVcMVVuOIq4YqrhCuuwhVXCVdcJVxxFa64SrjiKuGKq3DFVcIVV+GKK67CFVcJV1yFK664CldcJVxxFa644ipccZVwxVW44oqrcMVVwhVX4YqrhCuuEq64CldcJVxxlXDFVbjiKuGKq4QrrsIVVwlXXCVccRWuuEq44irhiqtwxVXCFVfhiiuuwhVXCVdchSuuuApXXCVccRWuuOIqXHGVcMVVuOKKq3DFVcIVV+GKq4QrrhKuuApXXCVccZVwxVW44irhiquEK67CFVcJV1wlXHEVrrhKuOIqHbjiKlyHcf1qrAjX93bHVTO5nmtzPQwW4Yqr9GQPXJ/sYbAI17d24qpQ2/Pj9Rr48a/nP/5msMh4rXz8y2BRaDU4keu29l5AzlqGbt3vBove3Y7rk+0Gi97dbe2LxxeunV28ynDtfH43Oeoctcz8SsruJkeZrtWPWu6OhmW0VjodDSvTbfXHBC5nTZp40jJz67Y5a5LBWumFi1ePISqzcxu6FHxlfWHzqre2e6hnt3mVqWXiAsPmVZGt69SN2ytHw25e9cbuXz3T88pZk3cN641r4Zt920sbAqthNdbCcyeW3WpY09bCcy8xXjlr2p0Nq7AMnPuIwGY1LON05F8tT0oosGmb/ITAzc9BH98rNxijX1R02hTIKB25KbiZXvWOLdvN1vVPbF69Akbv6DKn/KlNvPeX6tMn19kHoi/95XKXow/fsA1fAb506GZ61YdPrtOvL26mV82ZXKdPKJefhuZMrtNPQ19bDTsc1idPJ/Mf5XnpbNjdqz55cp3/oOyLf7482qR/sNPi7y+thj05LIMzsxr2xRz9c0thY/M3bV8tODRho7bEPePx4s/EaZOMzMx23nJYH7kUXuQY9NX9/L/auxflSEEgCsOFoML7v/C6lyS1lalkRBwxfP8jdPp4+jZEOYweS+FRpqBR0YH7u8goVd/eYZNXEXF+KZyCQVOjyHh0GCfn5LzbQ3QJ2ldIyfvbq5/Soav+bKiBShYddMSy3z9GOmZfd0fHuAk9VXtj2cd+ew0zveIctcbAXFvbK72iG7WO1ptV2GvI9Ir2ap0Dcz2hXaBXdKLW8QafJdAr7qnWAc8AquxV/4rL+9YxtxRToFfcUa1D3uxUhsr+Fa1YUp1ljBmsqliF5B4RV6p11Nf+cl203PujBaUy/UZ9S3et/LoZEON48tWaxbjX61NlxDSwOFoIx9rcG7gXm2tjpiDGJUYx9EsJa6gPG4NFbdrV28TYP+Qs9XpNDBZ11pqCqq7uOxfrI+dkAq+1Vm9erwe+dCEVgsW+fDtQz3nT5EjTryLGK+tgL4b9Jh8KYIhCiCdZ4rFc88+GD5bDf/oJgsULxGrb/zeM4ShxEkh8bQpTPJxmkqxB+0qw+H7AlI7nmCKuTfv6725COPG4fGuSXxrX949fbBHPEO118EmrLYzVkr/tuOlDsYuw4i2tlhxbJZa0ajpu+ljFzvpYbFItc2qXVFKq9bjpP8ly2ZGlOrWUqjHTA0poTYq5TMuy0u0oKl2XZRNqTM1Tye3cJ3I4i7QR8aPZ/sSn5Y+h8KNv4xyADsnESa+4i1p1U4/1GuUGesPClV5BrfQKtMV5BL2Ct9IrQK3mw6BW0Ct6xgbnKb1mmYLr8XPMy+6HgZ24E36aSbbgUvwX4T0sScaAWi10gO9wHGHgBCNhAyfAkEkDizELYW2riwncBJdMNjq4y0RYIWxCDBPhUfRq4oQX4eyQwULXymCBpl2r10mNiHETXEa03cGqiHHeiMmutXlF7GgC59TB/geaK2KYBxMsoGklWBArms+cDIlBrIZOGGvApGclWBArPglWTYx6ZqsbFgvGii8sNlMs9mk1O2BSFOMWWlUEX6/YicfiKV+l1V76WCaLr2ZLRQ3cWVlcZi6LBxVwYau9SjZHmsWbUmOeuGr3zSzRstTMU28l2nWZSslzjGlDAv94gW7EuKm0TMtKqEf5BbdeyCy0Qo5VAAAAAElFTkSuQmCC",text:"Exit",func:zn,SwitcherNeeded:!1}],theme:"light",logined:!0},Wn=function(e){return{type:qn,payload:e}},Gn=n.p+"static/media/telegram.db77cedc5538f840e4f1.png";function Hn(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ze(e)););return e}function Qn(){return Qn="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Hn(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Qn.apply(this,arguments)}var Xn,Yn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Jn={},Zn=Zn||{},$n=Yn||self;function er(){}function tr(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function nr(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var rr="closure_uid_"+(1e9*Math.random()>>>0),ir=0;function ar(e,t,n){return e.call.apply(e.bind,arguments)}function or(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function ur(e,t,n){return(ur=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ar:or).apply(null,arguments)}function sr(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function cr(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function lr(){this.s=this.s,this.o=this.o}var fr={};lr.prototype.s=!1,lr.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,rr)&&e[rr]||(e[rr]=++ir)}(this);delete fr[e]}},lr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var hr=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},dr=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function pr(e){return Array.prototype.concat.apply([],arguments)}function vr(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function yr(e){return/^[\s\xa0]*$/.test(e)}var mr,gr=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function kr(e,t){return-1!=e.indexOf(t)}function Ar(e,t){return e<t?-1:e>t?1:0}e:{var wr=$n.navigator;if(wr){var br=wr.userAgent;if(br){mr=br;break e}}mr=""}function xr(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Ir(e){var t={};for(var n in e)t[n]=e[n];return t}var Er="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _r(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Er.length;a++)n=Er[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Sr(e){return Sr[" "](e),e}Sr[" "]=er;var Tr,Cr=kr(mr,"Opera"),Nr=kr(mr,"Trident")||kr(mr,"MSIE"),Dr=kr(mr,"Edge"),Rr=Dr||Nr,Or=kr(mr,"Gecko")&&!(kr(mr.toLowerCase(),"webkit")&&!kr(mr,"Edge"))&&!(kr(mr,"Trident")||kr(mr,"MSIE"))&&!kr(mr,"Edge"),Pr=kr(mr.toLowerCase(),"webkit")&&!kr(mr,"Edge");function Lr(){var e=$n.document;return e?e.documentMode:void 0}e:{var Mr="",Vr=function(){var e=mr;return Or?/rv:([^\);]+)(\)|;)/.exec(e):Dr?/Edge\/([\d\.]+)/.exec(e):Nr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Pr?/WebKit\/(\S+)/.exec(e):Cr?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Vr&&(Mr=Vr?Vr[1]:""),Nr){var Fr=Lr();if(null!=Fr&&Fr>parseFloat(Mr)){Tr=String(Fr);break e}}Tr=Mr}var Ur,jr={};function qr(){return function(e){var t=jr;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=gr(String(Tr)).split("."),n=gr("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Ar(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Ar(0==a[2].length,0==o[2].length)||Ar(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if($n.document&&Nr){var Br=Lr();Ur=Br||(parseInt(Tr,10)||void 0)}else Ur=void 0;var zr=Ur,Kr=function(){if(!$n.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{$n.addEventListener("test",er,t),$n.removeEventListener("test",er,t)}catch(n){}return e}();function Wr(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Gr(e,t){if(Wr.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Or){e:{try{Sr(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Hr[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Gr.Z.h.call(this)}}Wr.prototype.h=function(){this.defaultPrevented=!0},cr(Gr,Wr);var Hr={2:"touch",3:"pen",4:"mouse"};Gr.prototype.h=function(){Gr.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Qr="closure_listenable_"+(1e6*Math.random()|0),Xr=0;function Yr(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Xr,this.ca=this.fa=!1}function Jr(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Zr(e){this.src=e,this.g={},this.h=0}function $r(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=hr(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Jr(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ei(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Zr.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=ei(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Yr(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var ti="closure_lm_"+(1e6*Math.random()|0),ni={};function ri(e,t,n,r,i){if(r&&r.once)return ai(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)ri(e,t[a],n,r,i);return null}return n=hi(n),e&&e[Qr]?e.N(t,n,nr(r)?!!r.capture:!!r,i):ii(e,t,n,!1,r,i)}function ii(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=nr(i)?!!i.capture:!!i,u=li(e);if(u||(e[ti]=u=new Zr(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=ci;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Kr||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(si(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ai(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)ai(e,t[a],n,r,i);return null}return n=hi(n),e&&e[Qr]?e.O(t,n,nr(r)?!!r.capture:!!r,i):ii(e,t,n,!0,r,i)}function oi(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)oi(e,t[a],n,r,i);else r=nr(r)?!!r.capture:!!r,n=hi(n),e&&e[Qr]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=ei(a=e.g[t],n,r,i))&&(Jr(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=li(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ei(t,n,r,i)),(n=-1<e?t[e]:null)&&ui(n))}function ui(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Qr])$r(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(si(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=li(t))?($r(n,e),0==n.h&&(n.src=null,t[ti]=null)):Jr(e)}}}function si(e){return e in ni?ni[e]:ni[e]="on"+e}function ci(e,t){if(e.ca)e=!0;else{t=new Gr(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&ui(e),e=n.call(r,t)}return e}function li(e){return(e=e[ti])instanceof Zr?e:null}var fi="__closure_events_fn_"+(1e9*Math.random()>>>0);function hi(e){return"function"===typeof e?e:(e[fi]||(e[fi]=function(t){return e.handleEvent(t)}),e[fi])}function di(){lr.call(this),this.i=new Zr(this),this.P=this,this.I=null}function pi(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Wr(t,e);else if(t instanceof Wr)t.target=t.target||e;else{var i=t;_r(t=new Wr(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=vi(o,r,!0,t)&&i}if(i=vi(o=t.g=e,r,!0,t)&&i,i=vi(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=vi(o=t.g=n[a],r,!1,t)&&i}function vi(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&$r(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}cr(di,lr),di.prototype[Qr]=!0,di.prototype.removeEventListener=function(e,t,n,r){oi(this,e,t,n,r)},di.prototype.M=function(){if(di.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Jr(n[r]);delete t.g[e],t.h--}}this.I=null},di.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},di.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var yi=$n.JSON.stringify;function mi(){var e=Ei,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var gi,ki=function(){function e(){Me(this,e),this.h=this.g=null}return Fe(e,[{key:"add",value:function(e,t){var n=Ai.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Ai=new(function(){function e(t,n){Me(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Fe(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new wi}),(function(e){return e.reset()})),wi=function(){function e(){Me(this,e),this.next=this.g=this.h=null}return Fe(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function bi(e){$n.setTimeout((function(){throw e}),0)}function xi(e,t){gi||function(){var e=$n.Promise.resolve(void 0);gi=function(){e.then(_i)}}(),Ii||(gi(),Ii=!0),Ei.add(e,t)}var Ii=!1,Ei=new ki;function _i(){for(var e;e=mi();){try{e.h.call(e.g)}catch(n){bi(n)}var t=Ai;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ii=!1}function Si(e,t){di.call(this),this.h=e||1,this.g=t||$n,this.j=ur(this.kb,this),this.l=Date.now()}function Ti(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Ci(e,t,n){if("function"===typeof e)n&&(e=ur(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=ur(e.handleEvent,e)}return 2147483647<Number(t)?-1:$n.setTimeout(e,t||0)}function Ni(e){e.g=Ci((function(){e.g=null,e.i&&(e.i=!1,Ni(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}cr(Si,di),(Xn=Si.prototype).da=!1,Xn.S=null,Xn.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),pi(this,"tick"),this.da&&(Ti(this),this.start()))}},Xn.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Xn.M=function(){Si.Z.M.call(this),Ti(this),delete this.g};var Di=function(e){Be(n,e);var t=He(n);function n(e,r){var i;return Me(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Fe(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Ni(this)}},{key:"M",value:function(){Qn(ze(n.prototype),"M",this).call(this),this.g&&($n.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(lr);function Ri(e){lr.call(this),this.h=e,this.g={}}cr(Ri,lr);var Oi=[];function Pi(e,t,n,r){Array.isArray(n)||(n&&(Oi[0]=n.toString()),n=Oi);for(var i=0;i<n.length;i++){var a=ri(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Li(e){xr(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ui(e)}),e),e.g={}}function Mi(){this.g=!0}function Vi(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return yi(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Ri.prototype.M=function(){Ri.Z.M.call(this),Li(this)},Ri.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Mi.prototype.Aa=function(){this.g=!1},Mi.prototype.info=function(){};var Fi={},Ui=null;function ji(){return Ui=Ui||new di}function qi(e){Wr.call(this,Fi.Ma,e)}function Bi(e){var t=ji();pi(t,new qi(t,e))}function zi(e,t){Wr.call(this,Fi.STAT_EVENT,e),this.stat=t}function Ki(e){var t=ji();pi(t,new zi(t,e))}function Wi(e,t){Wr.call(this,Fi.Na,e),this.size=t}function Gi(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return $n.setTimeout((function(){e()}),t)}Fi.Ma="serverreachability",cr(qi,Wr),Fi.STAT_EVENT="statevent",cr(zi,Wr),Fi.Na="timingevent",cr(Wi,Wr);var Hi={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Qi={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Xi(){}function Yi(e){return e.h||(e.h=e.i())}function Ji(){}Xi.prototype.h=null;var Zi,$i={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ea(){Wr.call(this,"d")}function ta(){Wr.call(this,"c")}function na(){}function ra(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Ri(this),this.P=aa,e=Rr?125:void 0,this.W=new Si(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ia}function ia(){this.i=null,this.g="",this.h=!1}cr(ea,Wr),cr(ta,Wr),cr(na,Xi),na.prototype.g=function(){return new XMLHttpRequest},na.prototype.i=function(){return{}},Zi=new na;var aa=45e3,oa={},ua={};function sa(e,t,n){e.K=1,e.v=Da(Ea(t)),e.s=n,e.U=!0,ca(e,null)}function ca(e,t){e.F=Date.now(),da(e),e.A=Ea(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Ka(n.h,"t",r),e.C=0,n=e.l.H,e.h=new ia,e.g=Ho(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Di(ur(e.Ia,e,e.g),e.O)),Pi(e.V,e.g,"readystatechange",e.gb),t=e.H?Ir(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Bi(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function la(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function fa(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=ha(e,n))==ua){4==t&&(e.o=4,Ki(14),i=!1),Vi(e.j,e.m,null,"[Incomplete Response]");break}if(r==oa){e.o=4,Ki(15),Vi(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Vi(e.j,e.m,r,null),ga(e,r)}la(e)&&r!=ua&&r!=oa&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Ki(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Uo(t),t.L=!0,Ki(11))):(Vi(e.j,e.m,n,"[Invalid Chunked Response]"),ma(e),ya(e))}function ha(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ua:(n=Number(t.substring(n,r)),isNaN(n)?oa:(r+=1)+n>t.length?ua:(t=t.substr(r,n),e.C=r+n,t))}function da(e){e.Y=Date.now()+e.P,pa(e,e.P)}function pa(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Gi(ur(e.eb,e),t)}function va(e){e.B&&($n.clearTimeout(e.B),e.B=null)}function ya(e){0==e.l.G||e.I||Bo(e.l,e)}function ma(e){va(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Ti(e.W),Li(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function ga(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Za(n.i,e)))if(n.I=e.N,!e.J&&Za(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;qo(n),No(n)}Fo(n),Ki(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Gi(ur(n.ab,n),6e3));if(1>=Ja(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Ko(n,11)}else if((e.J||n.g==e)&&qo(n),!yr(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(kr(l,"spdy")||kr(l,"quic")||kr(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&($a(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Na(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Go(r,r.H?r.la:null,r.W),d.J){eo(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(va(p),da(p)),r.g=d}else Vo(r);0<n.l.length&&Oo(n)}else"stop"!=a[0]&&"close"!=a[0]||Ko(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Ko(n,7):Co(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Bi(4)}catch(a){}}function ka(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(tr(e)||"string"===typeof e)dr(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(tr(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(tr(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Aa(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Aa)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function wa(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];ba(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)ba(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function ba(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Xn=ra.prototype).setTimeout=function(e){this.P=e},Xn.gb=function(e){e=e.target;var t=this.L;t&&3==Io(e)?t.l():this.Ia(e)},Xn.Ia=function(e){try{if(e==this.g)e:{var t=Io(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Rr||this.g&&(this.h.h||this.g.ga()||Eo(this.g)))){this.I||4!=t||7==n||Bi(8==n||0>=r?3:2),va(this);var i=this.g.ba();this.N=i;t:if(la(this)){var a=Eo(this.g);e="";var o=a.length,u=4==Io(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){ma(this),ya(this);var s="";break t}this.h.i=new $n.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yr(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Ki(12),ma(this),ya(this);break e}Vi(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ga(this,i)}this.U?(fa(this,t,s),Rr&&this.i&&3==t&&(Pi(this.V,this.W,"tick",this.fb),this.W.start())):(Vi(this.j,this.m,s,null),ga(this,s)),4==t&&ma(this),this.i&&!this.I&&(4==t?Bo(this.l,this):(this.i=!1,da(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,Ki(12)):(this.o=0,Ki(13)),ma(this),ya(this)}}}catch(t){}},Xn.fb=function(){if(this.g){var e=Io(this.g),t=this.g.ga();this.C<t.length&&(va(this),fa(this,e,t),this.i&&4!=e&&da(this))}},Xn.cancel=function(){this.I=!0,ma(this)},Xn.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Bi(3),Ki(17)),ma(this),this.o=2,ya(this)):pa(this,this.Y-e)},(Xn=Aa.prototype).R=function(){wa(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Xn.T=function(){return wa(this),this.g.concat()},Xn.get=function(e,t){return ba(this.h,e)?this.h[e]:t},Xn.set=function(e,t){ba(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Xn.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var xa=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ia(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Ia){this.g=void 0!==t?t:e.g,_a(this,e.j),this.s=e.s,Sa(this,e.i),Ta(this,e.m),this.l=e.l,t=e.h;var n=new ja;n.i=t.i,t.g&&(n.g=new Aa(t.g),n.h=t.h),Ca(this,n),this.o=e.o}else e&&(n=String(e).match(xa))?(this.g=!!t,_a(this,n[1]||"",!0),this.s=Ra(n[2]||""),Sa(this,n[3]||"",!0),Ta(this,n[4]),this.l=Ra(n[5]||"",!0),Ca(this,n[6]||"",!0),this.o=Ra(n[7]||"")):(this.g=!!t,this.h=new ja(null,this.g))}function Ea(e){return new Ia(e)}function _a(e,t,n){e.j=n?Ra(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Sa(e,t,n){e.i=n?Ra(t,!0):t}function Ta(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ca(e,t,n){t instanceof ja?(e.h=t,function(e,t){t&&!e.j&&(qa(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Ba(this,t),Ka(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Oa(t,Fa)),e.h=new ja(t,e.g))}function Na(e,t,n){e.h.set(t,n)}function Da(e){return Na(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ra(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Oa(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Pa),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Pa(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ia.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Oa(t,La,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Oa(t,La,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Oa(n,"/"==n.charAt(0)?Va:Ma,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Oa(n,Ua)),e.join("")};var La=/[#\/\?@]/g,Ma=/[#\?:]/g,Va=/[#\?]/g,Fa=/[#\?@]/g,Ua=/#/g;function ja(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function qa(e){e.g||(e.g=new Aa,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Ba(e,t){qa(e),t=Wa(e,t),ba(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,ba((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&wa(e)))}function za(e,t){return qa(e),t=Wa(e,t),ba(e.g.h,t)}function Ka(e,t,n){Ba(e,t),0<n.length&&(e.i=null,e.g.set(Wa(e,t),vr(n)),e.h+=n.length)}function Wa(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Xn=ja.prototype).add=function(e,t){qa(this),this.i=null,e=Wa(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Xn.forEach=function(e,t){qa(this),this.g.forEach((function(n,r){dr(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Xn.T=function(){qa(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Xn.R=function(e){qa(this);var t=[];if("string"===typeof e)za(this,e)&&(t=pr(t,this.g.get(Wa(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=pr(t,e[n])}return t},Xn.set=function(e,t){return qa(this),this.i=null,za(this,e=Wa(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Xn.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Xn.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Ga=Fe((function e(t,n){Me(this,e),this.h=t,this.g=n}));function Ha(e){this.l=e||Xa,$n.PerformanceNavigationTiming?e=0<(e=$n.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!($n.g&&$n.g.Ea&&$n.g.Ea()&&$n.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Qa,Xa=10;function Ya(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ja(e){return e.h?1:e.g?e.g.size:0}function Za(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function $a(e,t){e.g?e.g.add(t):e.h=t}function eo(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function to(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Ue(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return vr(e.i)}function no(){}function ro(){this.g=new no}function io(e,t,n){var r=n||"";try{ka(e,(function(e,n){var i=e;nr(e)&&(i=yi(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function ao(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function oo(e){this.l=e.$b||null,this.j=e.ib||!1}function uo(e,t){di.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=so,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ha.prototype.cancel=function(){if(this.i=to(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Ue(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},no.prototype.stringify=function(e){return $n.JSON.stringify(e,void 0)},no.prototype.parse=function(e){return $n.JSON.parse(e,void 0)},cr(oo,Xi),oo.prototype.g=function(){return new uo(this.l,this.j)},oo.prototype.i=(Qa={},function(){return Qa}),cr(uo,di);var so=0;function co(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function lo(e){e.readyState=4,e.l=null,e.j=null,e.A=null,fo(e)}function fo(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Xn=uo.prototype).open=function(e,t){if(this.readyState!=so)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,fo(this)},Xn.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||$n).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Xn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,lo(this)),this.readyState=so},Xn.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,fo(this)),this.g&&(this.readyState=3,fo(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof $n.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;co(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Xn.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?lo(this):fo(this),3==this.readyState&&co(this)}},Xn.Ua=function(e){this.g&&(this.response=this.responseText=e,lo(this))},Xn.Ta=function(e){this.g&&(this.response=e,lo(this))},Xn.ha=function(){this.g&&lo(this)},Xn.setRequestHeader=function(e,t){this.v.append(e,t)},Xn.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Xn.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(uo.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var ho=$n.JSON.parse;function po(e){di.call(this),this.headers=new Aa,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=vo,this.K=this.L=!1}cr(po,di);var vo="",yo=/^https?$/i,mo=["POST","PUT"];function go(e){return"content-type"==e.toLowerCase()}function ko(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Ao(e),bo(e)}function Ao(e){e.D||(e.D=!0,pi(e,"complete"),pi(e,"error"))}function wo(e){if(e.h&&"undefined"!=typeof Zn&&(!e.C[1]||4!=Io(e)||2!=e.ba()))if(e.v&&4==Io(e))Ci(e.Fa,0,e);else if(pi(e,"readystatechange"),4==Io(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(xa)[1]||null;if(!a&&$n.self&&$n.self.location){var o=$n.self.location.protocol;a=o.substr(0,o.length-1)}i=!yo.test(a?a.toLowerCase():"")}t=i}if(t)pi(e,"complete"),pi(e,"success");else{e.m=6;try{var u=2<Io(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",Ao(e)}}finally{bo(e)}}}function bo(e,t){if(e.g){xo(e);var n=e.g,r=e.C[0]?er:null;e.g=null,e.C=null,t||pi(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function xo(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&($n.clearTimeout(e.A),e.A=null)}function Io(e){return e.g?e.g.readyState:0}function Eo(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case vo:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function _o(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return xr(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Na(e,t,n))}function So(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function To(e){this.za=0,this.l=[],this.h=new Mi,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=So("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=So("baseRetryDelayMs",5e3,e),this.$a=So("retryDelaySeedMs",1e4,e),this.Ya=So("forwardChannelMaxRetries",2,e),this.ra=So("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Ha(e&&e.concurrentRequestLimit),this.Ca=new ro,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Co(e){if(Do(e),3==e.G){var t=e.V++,n=Ea(e.F);Na(n,"SID",e.J),Na(n,"RID",t),Na(n,"TYPE","terminate"),Lo(e,n),(t=new ra(e,e.h,t,void 0)).K=2,t.v=Da(Ea(n)),n=!1,$n.navigator&&$n.navigator.sendBeacon&&(n=$n.navigator.sendBeacon(t.v.toString(),"")),!n&&$n.Image&&((new Image).src=t.v,n=!0),n||(t.g=Ho(t.l,null),t.g.ea(t.v)),t.F=Date.now(),da(t)}Wo(e)}function No(e){e.g&&(Uo(e),e.g.cancel(),e.g=null)}function Do(e){No(e),e.u&&($n.clearTimeout(e.u),e.u=null),qo(e),e.i.cancel(),e.m&&("number"===typeof e.m&&$n.clearTimeout(e.m),e.m=null)}function Ro(e,t){e.l.push(new Ga(e.Za++,t)),3==e.G&&Oo(e)}function Oo(e){Ya(e.i)||e.m||(e.m=!0,xi(e.Ha,e),e.C=0)}function Po(e,t){var n;n=t?t.m:e.V++;var r=Ea(e.F);Na(r,"SID",e.J),Na(r,"RID",n),Na(r,"AID",e.U),Lo(e,r),e.o&&e.s&&_o(r,e.o,e.s),n=new ra(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Mo(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),$a(e.i,n),sa(n,r,t)}function Lo(e,t){e.j&&ka({},(function(e,n){Na(t,n,e)}))}function Mo(e,t,n){n=Math.min(e.l.length,n);var r=e.j?ur(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{io(l,o,"req"+c+"_")}catch(wu){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Vo(e){e.g||e.u||(e.Y=1,xi(e.Ga,e),e.A=0)}function Fo(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Gi(ur(e.Ga,e),zo(e,e.A)),e.A++,!0)}function Uo(e){null!=e.B&&($n.clearTimeout(e.B),e.B=null)}function jo(e){e.g=new ra(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Ea(e.oa);Na(t,"RID","rpc"),Na(t,"SID",e.J),Na(t,"CI",e.N?"0":"1"),Na(t,"AID",e.U),Lo(e,t),Na(t,"TYPE","xmlhttp"),e.o&&e.s&&_o(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Da(Ea(t)),n.s=null,n.U=!0,ca(n,e)}function qo(e){null!=e.v&&($n.clearTimeout(e.v),e.v=null)}function Bo(e,t){var n=null;if(e.g==t){qo(e),Uo(e),e.g=null;var r=2}else{if(!Za(e.i,t))return;n=t.D,eo(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;pi(r=ji(),new Wi(r,n,t,i)),Oo(e)}else Vo(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Ja(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Gi(ur(e.Ha,e,t),zo(e,e.C)),e.C++,!0))}(e,t)||2==r&&Fo(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Ko(e,5);break;case 4:Ko(e,10);break;case 3:Ko(e,6);break;default:Ko(e,2)}}function zo(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Ko(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=ur(e.jb,e);n||(n=new Ia("//www.google.com/images/cleardot.gif"),$n.location&&"http"==$n.location.protocol||_a(n,"https"),Da(n)),function(e,t){var n=new Mi;if($n.Image){var r=new Image;r.onload=sr(ao,n,r,"TestLoadImage: loaded",!0,t),r.onerror=sr(ao,n,r,"TestLoadImage: error",!1,t),r.onabort=sr(ao,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=sr(ao,n,r,"TestLoadImage: timeout",!1,t),$n.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ki(2);e.G=0,e.j&&e.j.va(t),Wo(e),Do(e)}function Wo(e){e.G=0,e.I=-1,e.j&&(0==to(e.i).length&&0==e.l.length||(e.i.i.length=0,vr(e.l),e.l.length=0),e.j.ua())}function Go(e,t,n){var r=function(e){return e instanceof Ia?Ea(e):new Ia(e,void 0)}(n);if(""!=r.i)t&&Sa(r,t+"."+r.i),Ta(r,r.m);else{var i=$n.location;r=function(e,t,n,r){var i=new Ia(null,void 0);return e&&_a(i,e),t&&Sa(i,t),n&&Ta(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&xr(e.aa,(function(e,t){Na(r,t,e)})),t=e.D,n=e.sa,t&&n&&Na(r,t,n),Na(r,"VER",e.ma),Lo(e,r),r}function Ho(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new po(new oo({ib:!0})):new po(e.qa)).L=e.H,t}function Qo(){}function Xo(){if(Nr&&!(10<=Number(zr)))throw Error("Environmental error: no available transport.")}function Yo(e,t){di.call(this),this.g=new To(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!yr(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!yr(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new $o(this)}function Jo(e){ea.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Zo(){ta.call(this),this.status=1}function $o(e){this.g=e}(Xn=po.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Zi.g(),this.C=this.u?Yi(this.u):Yi(Zi),this.g.onreadystatechange=ur(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void ko(this,a)}e=n||"";var i=new Aa(this.headers);r&&ka(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=go,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=$n.FormData&&e instanceof $n.FormData,!(0<=hr(mo,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{xo(this),0<this.B&&((this.K=function(e){return Nr&&qr()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ur(this.pa,this)):this.A=Ci(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){ko(this,a)}},Xn.pa=function(){"undefined"!=typeof Zn&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,pi(this,"timeout"),this.abort(8))},Xn.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,pi(this,"complete"),pi(this,"abort"),bo(this))},Xn.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),bo(this,!0)),po.Z.M.call(this)},Xn.Fa=function(){this.s||(this.F||this.v||this.l?wo(this):this.cb())},Xn.cb=function(){wo(this)},Xn.ba=function(){try{return 2<Io(this)?this.g.status:-1}catch(Qa){return-1}},Xn.ga=function(){try{return this.g?this.g.responseText:""}catch(Qa){return""}},Xn.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ho(t)}},Xn.Da=function(){return this.m},Xn.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Xn=To.prototype).ma=8,Xn.G=1,Xn.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Xn.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new ra(this,this.h,e,void 0),n=this.s;if(this.P&&(n?_r(n=Ir(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Mo(this,t,r),Na(i=Ea(this.F),"RID",e),Na(i,"CVER",22),this.D&&Na(i,"X-HTTP-Session-Id",this.D),Lo(this,i),this.o&&n&&_o(i,this.o,n),$a(this.i,t),this.Ra&&Na(i,"TYPE","init"),this.ja?(Na(i,"$req",r),Na(i,"SID","null"),t.$=!0,sa(t,i,null)):sa(t,i,r),this.G=2}}else 3==this.G&&(e?Po(this,e):0==this.l.length||Ya(this.i)||Po(this))},Xn.Ga=function(){if(this.u=null,jo(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Gi(ur(this.bb,this),e)}},Xn.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ki(10),No(this),jo(this))},Xn.ab=function(){null!=this.v&&(this.v=null,No(this),Fo(this),Ki(19))},Xn.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Ki(2)):(this.h.info("Failed to ping google.com"),Ki(1))},(Xn=Qo.prototype).xa=function(){},Xn.wa=function(){},Xn.va=function(){},Xn.ua=function(){},Xn.Oa=function(){},Xo.prototype.g=function(e,t){return new Yo(e,t)},cr(Yo,di),Yo.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),xi(ur(e.hb,e,t))),Ki(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Go(e,null,e.W),Oo(e)},Yo.prototype.close=function(){Co(this.g)},Yo.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Ro(this.g,t)}else this.v?((t={}).__data__=yi(e),Ro(this.g,t)):Ro(this.g,e)},Yo.prototype.M=function(){this.g.j=null,delete this.j,Co(this.g),delete this.g,Yo.Z.M.call(this)},cr(Jo,ea),cr(Zo,ta),cr($o,Qo),$o.prototype.xa=function(){pi(this.g,"a")},$o.prototype.wa=function(e){pi(this.g,new Jo(e))},$o.prototype.va=function(e){pi(this.g,new Zo(e))},$o.prototype.ua=function(){pi(this.g,"b")},Xo.prototype.createWebChannel=Xo.prototype.g,Yo.prototype.send=Yo.prototype.u,Yo.prototype.open=Yo.prototype.m,Yo.prototype.close=Yo.prototype.close,Hi.NO_ERROR=0,Hi.TIMEOUT=8,Hi.HTTP_ERROR=6,Qi.COMPLETE="complete",Ji.EventType=$i,$i.OPEN="a",$i.CLOSE="b",$i.ERROR="c",$i.MESSAGE="d",di.prototype.listen=di.prototype.N,po.prototype.listenOnce=po.prototype.O,po.prototype.getLastError=po.prototype.La,po.prototype.getLastErrorCode=po.prototype.Da,po.prototype.getStatus=po.prototype.ba,po.prototype.getResponseJson=po.prototype.Qa,po.prototype.getResponseText=po.prototype.ga,po.prototype.send=po.prototype.ea;var eu=Jn.createWebChannelTransport=function(){return new Xo},tu=Jn.getStatEventTarget=function(){return ji()},nu=Jn.ErrorCode=Hi,ru=Jn.EventType=Qi,iu=Jn.Event=Fi,au=Jn.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},ou=Jn.FetchXmlHttpFactory=oo,uu=Jn.WebChannel=Ji,su=Jn.XhrIo=po,cu="@firebase/firestore",lu=function(){function e(t){Me(this,e),this.uid=t}return Fe(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();lu.UNAUTHENTICATED=new lu(null),lu.GOOGLE_CREDENTIALS=new lu("google-credentials-uid"),lu.FIRST_PARTY=new lu("first-party-uid"),lu.MOCK_USER=new lu("mock-user");var fu="9.6.11",hu=new Kt("@firebase/firestore");function du(){return hu.logLevel}function pu(e){if(hu.logLevel<=Lt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(mu);hu.debug.apply(hu,["Firestore (".concat(fu,"): ").concat(e)].concat(Nt(i)))}}function vu(e){if(hu.logLevel<=Lt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(mu);hu.error.apply(hu,["Firestore (".concat(fu,"): ").concat(e)].concat(Nt(i)))}}function yu(e){if(hu.logLevel<=Lt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(mu);hu.warn.apply(hu,["Firestore (".concat(fu,"): ").concat(e)].concat(Nt(i)))}}function mu(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function gu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(fu,") INTERNAL ASSERTION FAILED: ")+e;throw vu(t),new Error(t)}function ku(e,t){e||gu()}function Au(e,t){return e}var wu={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},bu=function(e){Be(n,e);var t=He(n);function n(e,r){var i;return Me(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Fe(n)}(lt),xu=Fe((function e(){var t=this;Me(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Iu=Fe((function e(t,n){Me(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Eu=function(){function e(){Me(this,e)}return Fe(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(lu.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),_u=function(){function e(t){Me(this,e),this.token=t,this.changeListener=null}return Fe(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Su=function(){function e(t){Me(this,e),this.t=t,this.currentUser=lu.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Fe(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new xu;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new xu,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(ue(ce().mark((function e(){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){pu("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(pu("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new xu)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(pu("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(ku("string"==typeof n.accessToken),new Iu(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return ku(null===e||"string"==typeof e),new lu(e)}}]),e}(),Tu=Fe((function e(t,n,r){Me(this,e),this.type="FirstParty",this.user=lu.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Cu=function(){function e(t,n,r){Me(this,e),this.h=t,this.l=n,this.m=r}return Fe(e,[{key:"getToken",value:function(){return Promise.resolve(new Tu(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(lu.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Nu=Fe((function e(t){Me(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Du=function(){function e(t){Me(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return Fe(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&pu("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,pu("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){pu("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):pu("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(ku("string"==typeof t.token),e.p=t.token,new Nu(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),Ru=function(){function e(t,n){var r=this;Me(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return Fe(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function Ou(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Ru.A=-1;var Pu=function(){function e(){Me(this,e)}return Fe(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Ou(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Lu(e,t){return e<t?-1:e>t?1:0}function Mu(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Vu(e){return e+"\0"}var Fu=function(){function e(t,n){if(Me(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new bu(wu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new bu(wu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new bu(wu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new bu(wu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Fe(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Lu(this.nanoseconds,e.nanoseconds):Lu(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Uu=function(){function e(t){Me(this,e),this.timestamp=t}return Fe(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Fu(0,0))}},{key:"max",value:function(){return new e(new Fu(253402300799,999999999))}}]),e}();function ju(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function qu(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Bu(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var zu=function(){function e(t,n,r){Me(this,e),void 0===n?n=0:n>t.length&&gu(),void 0===r?r=t.length-n:r>t.length-n&&gu(),this.segments=t,this.offset=n,this.len=r}return Fe(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Ku=function(e){Be(n,e);var t=He(n);function n(){return Me(this,n),t.apply(this,arguments)}return Fe(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new bu(wu.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,Nt(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(zu),Wu=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Gu=function(e){Be(n,e);var t=He(n);function n(){return Me(this,n),t.apply(this,arguments)}return Fe(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Wu.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new bu(wu.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new bu(wu.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new bu(wu.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new bu(wu.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(zu),Hu=function(){function e(t){Me(this,e),this.fields=t,t.sort(Gu.comparator)}return Fe(e,[{key:"covers",value:function(e){var t,n=Ue(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Mu(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var Qu=function(e){function t(e){Me(this,t),this.binaryString=e}return Fe(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Lu(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Qu.EMPTY_BYTE_STRING=new Qu("");var Xu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yu(e){if(ku(!!e),"string"==typeof e){var t=0,n=Xu.exec(e);if(ku(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ju(e.seconds),nanos:Ju(e.nanos)}}function Ju(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Zu(e){return"string"==typeof e?Qu.fromBase64String(e):Qu.fromUint8Array(e)}function $u(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function es(e){var t=e.mapValue.fields.__previous_value__;return $u(t)?es(t):t}function ts(e){var t=Yu(e.mapValue.fields.__local_write_time__.timestampValue);return new Fu(t.seconds,t.nanos)}var ns=Fe((function e(t,n,r,i,a,o,u,s){Me(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),rs=function(){function e(t,n){Me(this,e),this.projectId=t,this.database=n||"(default)"}return Fe(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function is(e){return null==e}function as(e){return 0===e&&1/e==-1/0}function os(e){return"number"==typeof e&&Number.isInteger(e)&&!as(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var us=function(){function e(t){Me(this,e),this.path=t}return Fe(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Ku.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Ku.fromString(t))}},{key:"fromName",value:function(t){return new e(Ku.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Ku.emptyPath())}},{key:"comparator",value:function(e,t){return Ku.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Ku(t.slice()))}}]),e}(),ss={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},cs={nullValue:"NULL_VALUE"};function ls(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?$u(e)?4:Is(e)?9:10:gu()}function fs(e,t){if(e===t)return!0;var n=ls(e);if(n!==ls(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ts(e).isEqual(ts(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Yu(e.timestampValue),r=Yu(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Zu(e.bytesValue).isEqual(Zu(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ju(e.geoPointValue.latitude)===Ju(t.geoPointValue.latitude)&&Ju(e.geoPointValue.longitude)===Ju(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ju(e.integerValue)===Ju(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Ju(e.doubleValue),r=Ju(t.doubleValue);return n===r?as(n)===as(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Mu(e.arrayValue.values||[],t.arrayValue.values||[],fs);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ju(n)!==ju(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!fs(n[i],r[i])))return!1;return!0}(e,t);default:return gu()}}function hs(e,t){return void 0!==(e.values||[]).find((function(e){return fs(e,t)}))}function ds(e,t){if(e===t)return 0;var n=ls(e),r=ls(t);if(n!==r)return Lu(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Lu(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Ju(e.integerValue||e.doubleValue),r=Ju(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ps(e.timestampValue,t.timestampValue);case 4:return ps(ts(e),ts(t));case 5:return Lu(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Zu(e),r=Zu(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Lu(n[i],r[i]);if(0!==a)return a}return Lu(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Lu(Ju(e.latitude),Ju(t.latitude));return 0!==n?n:Lu(Ju(e.longitude),Ju(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=ds(n[i],r[i]);if(a)return a}return Lu(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Lu(r[o],a[o]);if(0!==u)return u;var s=ds(n[r[o]],i[a[o]]);if(0!==s)return s}return Lu(r.length,a.length)}(e.mapValue,t.mapValue);default:throw gu()}}function ps(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Lu(e,t);var n=Yu(e),r=Yu(t),i=Lu(n.seconds,r.seconds);return 0!==i?i:Lu(n.nanos,r.nanos)}function vs(e){return ys(e)}function ys(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Yu(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Zu(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,us.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Ue(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=ys(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Ue(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(ys(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):gu();var t,n}function ms(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function gs(e){return!!e&&"integerValue"in e}function ks(e){return!!e&&"arrayValue"in e}function As(e){return!!e&&"nullValue"in e}function ws(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function bs(e){return!!e&&"mapValue"in e}function xs(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return qu(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=xs(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=xs(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Is(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Es(e){return"nullValue"in e?cs:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?ms(rs.empty(),us.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:gu()}function _s(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?ms(rs.empty(),us.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?ss:gu()}function Ss(e,t){return void 0===e?t:void 0===t||ds(e,t)>0?e:t}function Ts(e,t){return void 0===e?t:void 0===t||ds(e,t)<0?e:t}var Cs=function(){function e(t){Me(this,e),this.value=t}return Fe(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!bs(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=xs(t)}},{key:"setAll",value:function(e){var t=this,n=Gu.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=xs(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());bs(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return fs(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];bs(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){qu(t,(function(t,n){return e[t]=n}));var r,i=Ue(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(xs(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Ns(e){var t=[];return qu(e.fields,(function(e,n){var r=new Gu([e]);if(bs(n)){var i=Ns(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Ue(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Hu(t)}var Ds=function(){function e(t,n,r,i,a,o){Me(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return Fe(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Cs.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Cs.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Uu.min(),Uu.min(),Cs.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Uu.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Uu.min(),Cs.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Uu.min(),Cs.empty(),2)}}]),e}(),Rs=Fe((function e(t,n,r,i){Me(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Os(e){return e.fields.find((function(e){return 2===e.kind}))}function Ps(e){return e.fields.filter((function(e){return 2!==e.kind}))}Rs.UNKNOWN_ID=-1;var Ls=Fe((function e(t,n){Me(this,e),this.fieldPath=t,this.kind=n})),Ms=function(){function e(t,n){Me(this,e),this.sequenceNumber=t,this.offset=n}return Fe(e,null,[{key:"empty",value:function(){return new e(0,Us.min())}}]),e}();function Vs(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Uu.fromTimestamp(1e9===r?new Fu(n+1,0):new Fu(n,r));return new Us(i,us.empty(),t)}function Fs(e){return new Us(e.readTime,e.key,-1)}var Us=function(){function e(t,n,r){Me(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Fe(e,null,[{key:"min",value:function(){return new e(Uu.min(),us.empty(),-1)}},{key:"max",value:function(){return new e(Uu.max(),us.empty(),-1)}}]),e}();function js(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=us.comparator(e.documentKey,t.documentKey))?n:Lu(e.largestBatchId,t.largestBatchId)}var qs=Fe((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Me(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.P=null}));function Bs(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new qs(e,t,n,r,i,a,o)}function zs(e){var t=Au(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+vs(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),is(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return vs(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return vs(e)})).join(",")),t.P=n}return t.P}function Ks(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!oc(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!fs(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!sc(e.startAt,t.startAt)&&sc(e.endAt,t.endAt)}function Ws(e){return us.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Gs(e,t){return e.filters.filter((function(e){return e instanceof Xs&&e.field.isEqual(t)}))}function Hs(e,t,n){var r,i,a=!0,o=Ue(Gs(e,t));try{for(o.s();!(i=o.n()).done;){var u=i.value,s=void 0,c=!0;switch(u.op){case"<":case"<=":s=Es(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=cs}Ss(r,s)===s&&(r=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Ss(r,f)===f&&(r=f,a=n.inclusive);break}return{value:r,inclusive:a}}function Qs(e,t,n){var r,i,a=!0,o=Ue(Gs(e,t));try{for(o.s();!(i=o.n()).done;){var u=i.value,s=void 0,c=!0;switch(u.op){case">=":case">":s=_s(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=ss}Ts(r,s)===s&&(r=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Ts(r,f)===f&&(r=f,a=n.inclusive);break}return{value:r,inclusive:a}}var Xs=function(e){Be(n,e);var t=He(n);function n(e,r,i){var a;return Me(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Fe(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(ds(t,this.value)):null!==t&&ls(this.value)===ls(t)&&this.v(ds(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return gu()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new Ys(e,t,r):"array-contains"===t?new ec(e,r):"in"===t?new tc(e,r):"not-in"===t?new nc(e,r):"array-contains-any"===t?new rc(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new Js(e,n):new Zs(e,n)}}]),n}(function(){return Fe((function e(){Me(this,e)}))}()),Ys=function(e){Be(n,e);var t=He(n);function n(e,r,i){var a;return Me(this,n),(a=t.call(this,e,r,i)).key=us.fromName(i.referenceValue),a}return Fe(n,[{key:"matches",value:function(e){var t=us.comparator(e.key,this.key);return this.v(t)}}]),n}(Xs),Js=function(e){Be(n,e);var t=He(n);function n(e,r){var i;return Me(this,n),(i=t.call(this,e,"in",r)).keys=$s("in",r),i}return Fe(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Xs),Zs=function(e){Be(n,e);var t=He(n);function n(e,r){var i;return Me(this,n),(i=t.call(this,e,"not-in",r)).keys=$s("not-in",r),i}return Fe(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Xs);function $s(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return us.fromName(e.referenceValue)}))}var ec=function(e){Be(n,e);var t=He(n);function n(e,r){return Me(this,n),t.call(this,e,"array-contains",r)}return Fe(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return ks(t)&&hs(t.arrayValue,this.value)}}]),n}(Xs),tc=function(e){Be(n,e);var t=He(n);function n(e,r){return Me(this,n),t.call(this,e,"in",r)}return Fe(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&hs(this.value.arrayValue,t)}}]),n}(Xs),nc=function(e){Be(n,e);var t=He(n);function n(e,r){return Me(this,n),t.call(this,e,"not-in",r)}return Fe(n,[{key:"matches",value:function(e){if(hs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!hs(this.value.arrayValue,t)}}]),n}(Xs),rc=function(e){Be(n,e);var t=He(n);function n(e,r){return Me(this,n),t.call(this,e,"array-contains-any",r)}return Fe(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!ks(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return hs(t.value.arrayValue,e)}))}}]),n}(Xs),ic=Fe((function e(t,n){Me(this,e),this.position=t,this.inclusive=n})),ac=Fe((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Me(this,e),this.field=t,this.dir=n}));function oc(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function uc(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?us.comparator(us.fromName(o.referenceValue),n.key):ds(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function sc(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!fs(e.position[n],t.position[n]))return!1;return!0}var cc=Fe((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Me(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.D=null,this.C=null,this.startAt,this.endAt}));function lc(e,t,n,r,i,a,o,u){return new cc(e,t,n,r,i,a,o,u)}function fc(e){return new cc(e)}function hc(e){return!is(e.limit)&&"F"===e.limitType}function dc(e){return!is(e.limit)&&"L"===e.limitType}function pc(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function vc(e){var t,n=Ue(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function yc(e){return null!==e.collectionGroup}function mc(e){var t=Au(e);if(null===t.D){t.D=[];var n=vc(t),r=pc(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new ac(n)),t.D.push(new ac(Gu.keyField(),"asc"));else{var i,a=!1,o=Ue(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.D.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new ac(Gu.keyField(),s))}}}return t.D}function gc(e){var t=Au(e);if(!t.C)if("F"===t.limitType)t.C=Bs(t.path,t.collectionGroup,mc(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Ue(mc(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new ac(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new ic(t.endAt.position,!t.endAt.inclusive):null,s=t.startAt?new ic(t.startAt.position,!t.startAt.inclusive):null;t.C=Bs(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.C}function kc(e,t,n){return new cc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ac(e,t){return Ks(gc(e),gc(t))&&e.limitType===t.limitType}function wc(e){return"".concat(zs(gc(e)),"|lt:").concat(e.limitType)}function bc(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(vs(t.value));var t})).join(", "),"]")),is(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return vs(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return vs(e)})).join(",")),"Target(".concat(t,")")}(gc(e)),"; limitType=").concat(e.limitType,")")}function xc(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):us.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Ue(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Ue(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=uc(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,mc(e),t))&&!(e.endAt&&!function(e,t,n){var r=uc(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,mc(e),t))}(e,t)}function Ic(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Ec(e){return function(t,n){var r,i=!1,a=Ue(mc(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=_c(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function _c(e,t,n){var r=e.field.isKeyField()?us.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?ds(r,i):gu()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return gu()}}function Sc(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:as(t)?"-0":t}}function Tc(e){return{integerValue:""+e}}function Cc(e,t){return os(t)?Tc(t):Sc(e,t)}var Nc=Fe((function e(){Me(this,e),this._=void 0}));function Dc(e,t,n){return e instanceof Pc?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Lc?Mc(e,t):e instanceof Vc?Fc(e,t):function(e,t){var n=Oc(e,t),r=jc(n)+jc(e.k);return gs(n)&&gs(e.k)?Tc(r):Sc(e.M,r)}(e,t)}function Rc(e,t,n){return e instanceof Lc?Mc(e,t):e instanceof Vc?Fc(e,t):n}function Oc(e,t){return e instanceof Uc?gs(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Pc=function(e){Be(n,e);var t=He(n);function n(){return Me(this,n),t.apply(this,arguments)}return Fe(n)}(Nc),Lc=function(e){Be(n,e);var t=He(n);function n(e){var r;return Me(this,n),(r=t.call(this)).elements=e,r}return Fe(n)}(Nc);function Mc(e,t){var n,r=qc(t),i=Ue(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return fs(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Vc=function(e){Be(n,e);var t=He(n);function n(e){var r;return Me(this,n),(r=t.call(this)).elements=e,r}return Fe(n)}(Nc);function Fc(e,t){var n,r=qc(t),i=Ue(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!fs(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Uc=function(e){Be(n,e);var t=He(n);function n(e,r){var i;return Me(this,n),(i=t.call(this)).M=e,i.k=r,i}return Fe(n)}(Nc);function jc(e){return Ju(e.integerValue||e.doubleValue)}function qc(e){return ks(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Bc=Fe((function e(t,n){Me(this,e),this.field=t,this.transform=n}));var zc=Fe((function e(t,n){Me(this,e),this.version=t,this.transformResults=n})),Kc=function(){function e(t,n){Me(this,e),this.updateTime=t,this.exists=n}return Fe(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Wc(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Gc=Fe((function e(){Me(this,e)}));function Hc(e,t,n){e instanceof Zc?function(e,t,n){var r=e.value.clone(),i=tl(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof $c?function(e,t,n){if(Wc(e.precondition,t)){var r=tl(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(el(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Qc(e,t,n){e instanceof Zc?function(e,t,n){if(Wc(e.precondition,t)){var r=e.value.clone(),i=nl(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Jc(t),r).setHasLocalMutations()}}(e,t,n):e instanceof $c?function(e,t,n){if(Wc(e.precondition,t)){var r=nl(e.fieldTransforms,n,t),i=t.data;i.setAll(el(e)),i.setAll(r),t.convertToFoundDocument(Jc(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Wc(e.precondition,t)&&t.convertToNoDocument(Uu.min())}(e,t)}function Xc(e,t){var n,r=null,i=Ue(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Oc(a.transform,o||null);null!=u&&(null==r&&(r=Cs.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Yc(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Mu(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Lc&&t instanceof Lc||e instanceof Vc&&t instanceof Vc?Mu(e.elements,t.elements,fs):e instanceof Uc&&t instanceof Uc?fs(e.k,t.k):e instanceof Pc&&t instanceof Pc}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Jc(e){return e.isFoundDocument()?e.version:Uu.min()}var Zc=function(e){Be(n,e);var t=He(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Me(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Fe(n)}(Gc),$c=function(e){Be(n,e);var t=He(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Me(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return Fe(n)}(Gc);function el(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function tl(e,t,n){var r=new Map;ku(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Rc(o,u,n[i]))}return r}function nl(e,t,n){var r,i=new Map,a=Ue(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Dc(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var rl,il,al=function(e){Be(n,e);var t=He(n);function n(e,r){var i;return Me(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Fe(n)}(Gc),ol=function(e){Be(n,e);var t=He(n);function n(e,r){var i;return Me(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Fe(n)}(Gc),ul=Fe((function e(t){Me(this,e),this.count=t}));function sl(e){switch(e){default:return gu();case wu.CANCELLED:case wu.UNKNOWN:case wu.DEADLINE_EXCEEDED:case wu.RESOURCE_EXHAUSTED:case wu.INTERNAL:case wu.UNAVAILABLE:case wu.UNAUTHENTICATED:return!1;case wu.INVALID_ARGUMENT:case wu.NOT_FOUND:case wu.ALREADY_EXISTS:case wu.PERMISSION_DENIED:case wu.FAILED_PRECONDITION:case wu.ABORTED:case wu.OUT_OF_RANGE:case wu.UNIMPLEMENTED:case wu.DATA_LOSS:return!0}}function cl(e){if(void 0===e)return vu("GRPC error has no .code"),wu.UNKNOWN;switch(e){case rl.OK:return wu.OK;case rl.CANCELLED:return wu.CANCELLED;case rl.UNKNOWN:return wu.UNKNOWN;case rl.DEADLINE_EXCEEDED:return wu.DEADLINE_EXCEEDED;case rl.RESOURCE_EXHAUSTED:return wu.RESOURCE_EXHAUSTED;case rl.INTERNAL:return wu.INTERNAL;case rl.UNAVAILABLE:return wu.UNAVAILABLE;case rl.UNAUTHENTICATED:return wu.UNAUTHENTICATED;case rl.INVALID_ARGUMENT:return wu.INVALID_ARGUMENT;case rl.NOT_FOUND:return wu.NOT_FOUND;case rl.ALREADY_EXISTS:return wu.ALREADY_EXISTS;case rl.PERMISSION_DENIED:return wu.PERMISSION_DENIED;case rl.FAILED_PRECONDITION:return wu.FAILED_PRECONDITION;case rl.ABORTED:return wu.ABORTED;case rl.OUT_OF_RANGE:return wu.OUT_OF_RANGE;case rl.UNIMPLEMENTED:return wu.UNIMPLEMENTED;case rl.DATA_LOSS:return wu.DATA_LOSS;default:return gu()}}(il=rl||(rl={}))[il.OK=0]="OK",il[il.CANCELLED=1]="CANCELLED",il[il.UNKNOWN=2]="UNKNOWN",il[il.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",il[il.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",il[il.NOT_FOUND=5]="NOT_FOUND",il[il.ALREADY_EXISTS=6]="ALREADY_EXISTS",il[il.PERMISSION_DENIED=7]="PERMISSION_DENIED",il[il.UNAUTHENTICATED=16]="UNAUTHENTICATED",il[il.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",il[il.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",il[il.ABORTED=10]="ABORTED",il[il.OUT_OF_RANGE=11]="OUT_OF_RANGE",il[il.UNIMPLEMENTED=12]="UNIMPLEMENTED",il[il.INTERNAL=13]="INTERNAL",il[il.UNAVAILABLE=14]="UNAVAILABLE",il[il.DATA_LOSS=15]="DATA_LOSS";var ll=function(){function e(t,n){Me(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Fe(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Ue(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){qu(this.inner,(function(t,n){var r,i=Ue(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Bu(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),fl=function(){function e(t,n){Me(this,e),this.comparator=t,this.root=n||dl.EMPTY}return Fe(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,dl.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,dl.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new hl(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new hl(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new hl(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new hl(this.root,e,this.comparator,!0)}}]),e}(),hl=function(){function e(t,n,r,i){Me(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Fe(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),dl=function(){function e(t,n,r,i,a){Me(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Fe(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw gu();if(this.right.isRed())throw gu();var e=this.left.check();if(e!==this.right.check())throw gu();return e+(this.isRed()?0:1)}}]),e}();dl.EMPTY=null,dl.RED=!0,dl.BLACK=!1,dl.EMPTY=new(function(){function e(){Me(this,e),this.size=0}return Fe(e,[{key:"key",get:function(){throw gu()}},{key:"value",get:function(){throw gu()}},{key:"color",get:function(){throw gu()}},{key:"left",get:function(){throw gu()}},{key:"right",get:function(){throw gu()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new dl(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var pl=function(){function e(t){Me(this,e),this.comparator=t,this.data=new fl(this.comparator)}return Fe(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new vl(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new vl(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),vl=function(){function e(t){Me(this,e),this.iter=t}return Fe(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function yl(e){return e.hasNext()?e.getNext():void 0}var ml=new fl(us.comparator);function gl(){return ml}var kl=new fl(us.comparator);function Al(){return kl}function wl(){return new ll((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var bl=new fl(us.comparator),xl=new pl(us.comparator);function Il(){for(var e=xl,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var El=new pl(Lu);function _l(){return El}var Sl=function(){function e(t,n,r,i,a){Me(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Fe(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Tl.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Uu.min(),r,_l(),gl(),Il())}}]),e}(),Tl=function(){function e(t,n,r,i,a){Me(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Fe(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Qu.EMPTY_BYTE_STRING,n,Il(),Il(),Il())}}]),e}(),Cl=Fe((function e(t,n,r,i){Me(this,e),this.O=t,this.removedTargetIds=n,this.key=r,this.F=i})),Nl=Fe((function e(t,n){Me(this,e),this.targetId=t,this.$=n})),Dl=Fe((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qu.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Me(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Rl=function(){function e(){Me(this,e),this.B=0,this.L=Ll(),this.U=Qu.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}return Fe(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}},{key:"H",value:function(){var e=Il(),t=Il(),n=Il();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:gu()}})),new Tl(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=Ll()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.q=!0}}]),e}(),Ol=function(){function e(t){Me(this,e),this.nt=t,this.st=new Map,this.it=gl(),this.rt=Pl(),this.ot=new pl(Lu)}return Fe(e,[{key:"ut",value:function(e){var t,n=Ue(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(u){n.e(u)}finally{n.f()}var i,a=Ue(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:gu()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.$.count,r=this.wt(t);if(r){var i=r.target;if(Ws(i))if(0===n){var a=new us(i.path);this.ct(t,a,Ds.newNoDocument(a,Uu.min()))}else ku(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&Ws(a.target)){var o=new us(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,Ds.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=Il();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new Sl(e,n,this.ot,this.it,r);return this.it=gl(),this.rt=Pl(),this.ot=new pl(Lu),i}},{key:"at",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new Rl,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new pl(Lu),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||pu("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new Rl),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Pl(){return new fl(us.comparator)}function Ll(){return new fl(us.comparator)}var Ml={asc:"ASCENDING",desc:"DESCENDING"},Vl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Fl=Fe((function e(t,n){Me(this,e),this.databaseId=t,this.N=n}));function Ul(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function jl(e,t){return e.N?t.toBase64():t.toUint8Array()}function ql(e,t){return Ul(e,t.toTimestamp())}function Bl(e){return ku(!!e),Uu.fromTimestamp(function(e){var t=Yu(e);return new Fu(t.seconds,t.nanos)}(e))}function zl(e,t){return function(e){return new Ku(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Kl(e){var t=Ku.fromString(e);return ku(pf(t)),t}function Wl(e,t){return zl(e.databaseId,t.path)}function Gl(e,t){var n=Kl(t);if(n.get(1)!==e.databaseId.projectId)throw new bu(wu.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new bu(wu.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new us(Yl(n))}function Hl(e,t){return zl(e.databaseId,t)}function Ql(e){var t=Kl(e);return 4===t.length?Ku.emptyPath():Yl(t)}function Xl(e){return new Ku(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Yl(e){return ku(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Jl(e,t,n){return{name:Wl(e,t),fields:n.value.mapValue.fields}}function Zl(e,t,n){var r=Gl(e,t.name),i=Bl(t.updateTime),a=new Cs({mapValue:{fields:t.fields}}),o=Ds.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function $l(e,t){return"found"in t?function(e,t){ku(!!t.found),t.found.name,t.found.updateTime;var n=Gl(e,t.found.name),r=Bl(t.found.updateTime),i=new Cs({mapValue:{fields:t.found.fields}});return Ds.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){ku(!!t.missing),ku(!!t.readTime);var n=Gl(e,t.missing),r=Bl(t.readTime);return Ds.newNoDocument(n,r)}(e,t):gu()}function ef(e,t){var n;if(t instanceof Zc)n={update:Jl(e,t.key,t.value)};else if(t instanceof al)n={delete:Wl(e,t.key)};else if(t instanceof $c)n={update:Jl(e,t.key,t.data),updateMask:df(t.fieldMask)};else{if(!(t instanceof ol))return gu();n={verify:Wl(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Pc)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Lc)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Vc)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Uc)return{fieldPath:t.field.canonicalString(),increment:n.k};throw gu()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:ql(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:gu()}(e,t.precondition)),n}function tf(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Kc.updateTime(Bl(e.updateTime)):void 0!==e.exists?Kc.exists(e.exists):Kc.none()}(t.currentDocument):Kc.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)ku("REQUEST_TIME"===t.setToServerValue),n=new Pc;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Lc(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Vc(i)}else"increment"in t?n=new Uc(e,t.increment):gu();var a=Gu.fromServerFormat(t.fieldPath);return new Bc(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Gl(e,t.update.name),a=new Cs({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Hu(t.map((function(e){return Gu.fromServerFormat(e)})))}(t.updateMask);return new $c(i,a,o,n,r)}return new Zc(i,a,n,r)}if(t.delete){var u=Gl(e,t.delete);return new al(u,n)}if(t.verify){var s=Gl(e,t.verify);return new ol(s,n)}return gu()}function nf(e,t){return{documents:[Hl(e,t.path)]}}function rf(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Hl(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Hl(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(ws(e.value))return{unaryFilter:{field:cf(e.field),op:"IS_NAN"}};if(As(e.value))return{unaryFilter:{field:cf(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ws(e.value))return{unaryFilter:{field:cf(e.field),op:"IS_NOT_NAN"}};if(As(e.value))return{unaryFilter:{field:cf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cf(e.field),op:sf(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:cf(e.field),direction:uf(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.N||is(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function af(e){var t=Ql(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ku(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=of(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new ac(lf(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return is(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new ic(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new ic(n,t)}(n.endAt)),lc(t,i,u,o,s,"F",c,l)}function of(e){return e?void 0!==e.unaryFilter?[hf(e)]:void 0!==e.fieldFilter?[ff(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return of(e)})).reduce((function(e,t){return e.concat(t)})):gu():[]}function uf(e){return Ml[e]}function sf(e){return Vl[e]}function cf(e){return{fieldPath:e.canonicalString()}}function lf(e){return Gu.fromServerFormat(e.fieldPath)}function ff(e){return Xs.create(lf(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return gu()}}(e.fieldFilter.op),e.fieldFilter.value)}function hf(e){switch(e.unaryFilter.op){case"IS_NAN":var t=lf(e.unaryFilter.field);return Xs.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=lf(e.unaryFilter.field);return Xs.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=lf(e.unaryFilter.field);return Xs.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=lf(e.unaryFilter.field);return Xs.create(i,"!=",{nullValue:"NULL_VALUE"});default:return gu()}}function df(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function pf(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function vf(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=mf(t)),t=yf(e.get(n),t);return mf(t)}function yf(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function mf(e){return e+"\x01\x01"}function gf(e){var t=e.length;if(ku(t>=2),2===t)return ku("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Ku.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&gu(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:gu()}a=o+2}return new Ku(r)}var kf=["userId","batchId"];function Af(e,t){return[e,vf(t)]}function wf(e,t,n){return[e,vf(t),n]}var bf={},xf=["prefixPath","collectionGroup","readTime","documentId"],If=["prefixPath","collectionGroup","documentId"],Ef=["collectionGroup","readTime","prefixPath","documentId"],_f=["canonicalId","targetId"],Sf=["targetId","path"],Tf=["path","targetId"],Cf=["collectionId","parent"],Nf=["indexId","uid"],Df=["uid","sequenceNumber"],Rf=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Of=["indexId","uid","orderedDocumentKey"],Pf=["userId","collectionPath","documentId"],Lf=["userId","collectionPath","largestBatchId"],Mf=["userId","collectionGroup","largestBatchId"],Vf=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Ff=[].concat(Nt(Vf),["documentOverlays"]),Uf=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],jf=[].concat(Uf,["indexConfiguration","indexState","indexEntries"]),qf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Bf=function(){function e(){Me(this,e),this.onCommittedListeners=[]}return Fe(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),zf=function(){function e(t){var n=this;Me(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Fe(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&gu(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Ue(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),Kf=function(){function e(t,n){var r=this;Me(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new xu,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new Hf(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=Zf(e.target.error);r.At.reject(new Hf(t,n))}}return Fe(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(pu("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"Pt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Xf(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Hf(n,t)}}}]),e}(),Wf=function(){function e(t,n,r){Me(this,e),this.name=t,this.version=n,this.bt=r,12.2===e.Vt(rt())&&vu("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Fe(e,[{key:"Nt",value:function(){var e=ue(ce().mark((function e(t){var n=this;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return pu("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Hf(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new bu(wu.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new bu(wu.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Hf(t,n))},i.onupgradeneeded=function(e){pu("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.bt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){pu("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Mt&&(this.db.onversionchange=function(e){return n.Mt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ot",value:function(e){this.Mt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=ue(ce().mark((function e(t,n,r,i){var a,o,u,s,c=this;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(ce().mark((function e(){var n,o;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Nt(t);case 2:return c.db=e.sent,n=Kf.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.Pt(),e})).catch((function(e){return n.abort(e),zf.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,pu("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return pu("SimpleDb","Removing database:",e),Yf(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"vt",value:function(){if(!ct())return!1;if(e.St())return!0;var t=rt(),n=e.Vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/ivantelegram",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Ct)}},{key:"xt",value:function(e,t){return e.store(t)}},{key:"Vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Gf=function(){function e(t){Me(this,e),this.Ft=t,this.$t=!1,this.Bt=null}return Fe(e,[{key:"isDone",get:function(){return this.$t}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.Ft=e}},{key:"done",value:function(){this.$t=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return Yf(this.Ft.delete())}}]),e}(),Hf=function(e){Be(n,e);var t=He(n);function n(e,r){var i;return Me(this,n),(i=t.call(this,wu.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Fe(n)}(bu);function Qf(e){return"IndexedDbTransactionError"===e.name}var Xf=function(){function e(t){Me(this,e),this.store=t}return Fe(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(pu("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(pu("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Yf(n)}},{key:"add",value:function(e){return pu("SimpleDb","ADD",this.store.name,e,e),Yf(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Yf(this.store.get(e)).next((function(n){return void 0===n&&(n=null),pu("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return pu("SimpleDb","DELETE",this.store.name,e),Yf(this.store.delete(e))}},{key:"count",value:function(){return pu("SimpleDb","COUNT",this.store.name),Yf(this.store.count())}},{key:"qt",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Kt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new zf((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Gt",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new zf((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Qt",value:function(e,t){pu("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Kt(r,(function(e,t,n){return n.delete()}))}},{key:"Wt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Kt(r,t)}},{key:"zt",value:function(e){var t=this.cursor({});return new zf((function(n,r){t.onerror=function(e){var t=Zf(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Kt",value:function(e,t){var n=[];return new zf((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Gf(i),o=t(i.primaryKey,i.value,a);if(o instanceof zf){var u=o.catch((function(e){return a.done(),zf.reject(e)}));n.push(u)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return zf.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Yf(e){return new zf((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Zf(e.target.error);n(t)}}))}var Jf=!1;function Zf(e){var t=Wf.Vt(rt());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new bu("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Jf||(Jf=!0,setTimeout((function(){throw r}),0)),r}}return e}var $f=function(e){Be(n,e);var t=He(n);function n(e,r){var i;return Me(this,n),(i=t.call(this)).Ht=e,i.currentSequenceNumber=r,i}return Fe(n)}(Bf);function eh(e,t){var n=Au(e);return Wf.xt(n.Ht,t)}var th=function(){function e(t,n,r,i){Me(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Fe(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Hc(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=Ue(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&Qc(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=Ue(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&Qc(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Uu.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Il())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Mu(this.mutations,e.mutations,(function(e,t){return Yc(e,t)}))&&Mu(this.baseMutations,e.baseMutations,(function(e,t){return Yc(e,t)}))}}]),e}(),nh=function(){function e(t,n,r,i){Me(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Fe(e,null,[{key:"from",value:function(t,n,r){ku(t.mutations.length===r.length);for(var i=bl,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),rh=function(){function e(t,n){Me(this,e),this.largestBatchId=t,this.mutation=n}return Fe(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),ih=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Uu.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Uu.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Qu.EMPTY_BYTE_STRING;Me(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return Fe(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),ah=Fe((function e(t){Me(this,e),this.Jt=t}));function oh(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:uh(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Wl(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Ul(e,t.version.toTimestamp())}}(e.Jt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:sh(t.version)};else{if(!t.isUnknownDocument())return gu();r.unknownDocument={path:n.path.toArray(),version:sh(t.version)}}return r}function uh(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function sh(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function ch(e){var t=new Fu(e.seconds,e.nanoseconds);return Uu.fromTimestamp(t)}function lh(e,t){for(var n=(t.baseMutations||[]).map((function(t){return tf(e.Jt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return tf(e.Jt,t)})),u=Fu.fromMillis(t.localWriteTimeMs);return new th(t.batchId,u,n,o)}function fh(e){var t,n,r=ch(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?ch(e.lastLimboFreeSnapshotVersion):Uu.min();return void 0!==e.query.documents?(ku(1===(n=e.query).documents.length),t=gc(fc(Ql(n.documents[0])))):t=function(e){return gc(af(e))}(e.query),new ih(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Qu.fromBase64String(e.resumeToken))}function hh(e,t){var n,r=sh(t.snapshotVersion),i=sh(t.lastLimboFreeSnapshotVersion);n=Ws(t.target)?nf(e.Jt,t.target):rf(e.Jt,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:zs(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function dh(e){var t=af({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?kc(t,t.limit,"L"):t}function ph(e,t){return new rh(t.largestBatchId,tf(e.Jt,t.overlayMutation))}function vh(e,t){var n=t.path.lastSegment();return[e,vf(t.path.popLast()),n]}var yh=function(){function e(){Me(this,e)}return Fe(e,[{key:"getBundleMetadata",value:function(e,t){return mh(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:ch(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return mh(e).put({bundleId:(n=t).id,createTime:sh(Bl(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return gh(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:dh(t.bundledQuery),readTime:ch(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return gh(e).put(function(e){return{name:e.name,readTime:sh(Bl(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function mh(e){return eh(e,"bundles")}function gh(e){return eh(e,"namedQueries")}var kh=function(){function e(t,n){Me(this,e),this.M=t,this.userId=n}return Fe(e,[{key:"getOverlay",value:function(e,t){var n=this;return Ah(e).get(vh(this.userId,t)).next((function(e){return e?ph(n.M,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new rh(t,a);i.push(r.Xt(e,o))})),zf.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(vf(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Ah(e).Qt("collectionPathOverlayIndex",i))})),zf.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=wl(),a=vf(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Ah(e).qt("collectionPathOverlayIndex",o).next((function(e){var t,n=Ue(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=ph(r.M,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=wl(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ah(e).Wt({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=ph(a.M,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Xt",value:function(e,t){return Ah(e).put(function(e,t,n){var r=c(vh(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:ef(e.Jt,n.mutation)}}(this.M,this.userId,t))}}],[{key:"Yt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Ah(e){return eh(e,"documentOverlays")}var wh=function(){function e(){Me(this,e)}return Fe(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Ju(e.integerValue));else if("doubleValue"in e){var n=Ju(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),as(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Zu(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?Is(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):gu()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=Ue(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ae",value:function(e,t){var n=this;this.ne(t,37),us.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();function bh(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function xh(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=bh(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}wh.fe=new wh;var Ih=function(){function e(){Me(this,e),this.buffer=new Uint8Array(1024),this.position=0}return Fe(e,[{key:"de",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this._e(n.value),n=t.next();this.we()}},{key:"me",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.ge(n.value),n=t.next();this.ye()}},{key:"pe",value:function(e){var t,n=Ue(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(r<"\ud800"||"\udbff"<r)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{var a=r.codePointAt(0);this._e(240|a>>>18),this._e(128|63&a>>>12),this._e(128|63&a>>>6),this._e(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.we()}},{key:"Ie",value:function(e){var t,n=Ue(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{var a=r.codePointAt(0);this.ge(240|a>>>18),this.ge(128|63&a>>>12),this.ge(128|63&a>>>6),this.ge(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ye()}},{key:"Te",value:function(e){var t=this.Ee(e),n=xh(t);this.Ae(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Re",value:function(e){var t=this.Ee(e),n=xh(t);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Pe",value:function(){this.be(255),this.be(255)}},{key:"Ve",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Se",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"_e",value:function(e){var t=255&e;0===t?(this.be(0),this.be(255)):255===t?(this.be(255),this.be(0)):this.be(t)}},{key:"ge",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"we",value:function(){this.be(0),this.be(1)}},{key:"ye",value:function(){this.ve(0),this.ve(1)}},{key:"be",value:function(e){this.Ae(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Ae(1),this.buffer[this.position++]=~e}},{key:"Ae",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Eh=function(){function e(t){Me(this,e),this.De=t}return Fe(e,[{key:"ue",value:function(e){this.De.de(e)}},{key:"ie",value:function(e){this.De.pe(e)}},{key:"se",value:function(e){this.De.Te(e)}},{key:"ee",value:function(){this.De.Pe()}}]),e}(),_h=function(){function e(t){Me(this,e),this.De=t}return Fe(e,[{key:"ue",value:function(e){this.De.me(e)}},{key:"ie",value:function(e){this.De.Ie(e)}},{key:"se",value:function(e){this.De.Re(e)}},{key:"ee",value:function(){this.De.Ve()}}]),e}(),Sh=function(){function e(){Me(this,e),this.De=new Ih,this.Ce=new Eh(this.De),this.xe=new _h(this.De)}return Fe(e,[{key:"seed",value:function(e){this.De.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.Ce:this.xe}},{key:"Se",value:function(){return this.De.Se()}},{key:"reset",value:function(){this.De.reset()}}]),e}(),Th=function(){function e(t,n,r,i){Me(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return Fe(e,[{key:"ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Ch(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Nh(e.arrayValue,t.arrayValue))?n:0!==(n=Nh(e.directionalValue,t.directionalValue))?n:us.comparator(e.documentKey,t.documentKey)}function Nh(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Dh=function(){function e(t){Me(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];var n,r=Ue(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.S()?this.Fe=i:this.Oe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return Fe(e,[{key:"$e",value:function(e){var t=Os(e);if(void 0!==t&&!this.Be(t))return!1;for(var n=Ps(e),r=0,i=0;r<n.length&&this.Be(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Fe){var a=n[r];if(!this.Le(this.Fe,a)||!this.Ue(this.Me[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Me.length||!this.Ue(this.Me[i++],o))return!1}return!0}},{key:"Be",value:function(e){var t,n=Ue(this.Oe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Le(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Le",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Ue",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),Rh=function(){function e(){Me(this,e),this.qe=new Oh}return Fe(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.qe.add(t),zf.resolve()}},{key:"getCollectionParents",value:function(e,t){return zf.resolve(this.qe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return zf.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return zf.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return zf.resolve(null)}},{key:"getFieldIndex",value:function(e,t){return zf.resolve(null)}},{key:"getFieldIndexes",value:function(e,t){return zf.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return zf.resolve(null)}},{key:"updateCollectionGroup",value:function(e,t,n){return zf.resolve()}},{key:"updateIndexEntries",value:function(e,t){return zf.resolve()}}]),e}(),Oh=function(){function e(){Me(this,e),this.index={}}return Fe(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new pl(Ku.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new pl(Ku.comparator)).toArray()}}]),e}(),Ph=new Uint8Array(0),Lh=function(){function e(t,n){Me(this,e),this.user=t,this.databaseId=n,this.Ke=new Oh,this.Ge=new ll((function(e){return zs(e)}),(function(e,t){return Ks(e,t)})),this.uid=t.uid||""}return Fe(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ke.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ke.add(t)}));var a={collectionId:r,parent:vf(i)};return Mh(e).put(a)}return zf.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Vu(t),""],!1,!0);return Mh(e).qt(r).next((function(e){var r,i=Ue(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(gf(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=Fh(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=Fh(e),r=Uh(e),i=Vh(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Vh(e),i=!0,a=new Map;return zf.forEach(this.Qe(t),(function(t){return n.getFieldIndex(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Il(),o=[];return zf.forEach(a,(function(i,a){var u;pu("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(zs(t)));var s=function(e,t){var n=Os(t);if(void 0===n)return null;var r,i=Ue(Gs(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=Ue(Ps(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=Ue(Gs(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=Ue(Ps(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Hs(e,o.fieldPath,e.startAt):Qs(e,o.fieldPath,e.startAt);if(!u.value)return null;r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new ic(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=Ue(Ps(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Qs(e,o.fieldPath,e.endAt):Hs(e,o.fieldPath,e.endAt);if(!u.value)return null;r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new ic(r,i)}(a,i),h=n.je(i,a,l),d=n.je(i,a,f),p=n.We(i,a,c),v=n.ze(i.indexId,s,h,!!l&&l.inclusive,d,!!f&&f.inclusive,p);return zf.forEach(v,(function(n){return r.Gt(n,t.limit).next((function(t){t.forEach((function(t){var n=us.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return zf.resolve(null)}))}},{key:"Qe",value:function(e){var t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}},{key:"ze",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(null!=n?n.length:1,null!=i?i.length:1),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.He(t[s/c]):Ph,h=n?u.Je(e,f,n[s%c],r):u.Ye(e),d=i?u.Xe(e,f,i[s%c],a):u.Ye(e+1);l.push.apply(l,Nt(u.createRange(h,d,o.map((function(t){return u.Je(e,f,t,!0)})))))},h=0;h<s;++h)f(h);return l}},{key:"Je",value:function(e,t,n,r){var i=new Th(e,us.empty(),t,n);return r?i:i.ke()}},{key:"Xe",value:function(e,t,n,r){var i=new Th(e,us.empty(),t,n);return r?i.ke():i}},{key:"Ye",value:function(e){return new Th(e,us.empty(),Ph,Ph)}},{key:"getFieldIndex",value:function(e,t){var n=new Dh(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t=e.filter((function(e){return n.$e(e)}));return t.sort((function(e,t){return t.fields.length-e.fields.length})),t.length>0?t[0]:null}))}},{key:"Ze",value:function(e,t){var n,r=new Sh,i=Ue(Ps(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ne(a.kind);wh.fe.Zt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Se()}},{key:"He",value:function(e){var t=new Sh;return wh.fe.Zt(e,t.Ne(0)),t.Se()}},{key:"tn",value:function(e,t){var n=new Sh;return wh.fe.Zt(ms(this.databaseId,t),n.Ne(function(e){var t=Ps(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Se()}},{key:"We",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Sh);var i,a=0,o=Ue(Ps(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=Ue(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.en(t,s.fieldPath)&&ks(c))r=this.nn(r,s,c);else{var h=f.Ne(s.kind);wh.fe.Zt(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.sn(r)}},{key:"je",value:function(e,t,n){return null==n?null:this.We(e,t,n.position)}},{key:"sn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Se();return t}},{key:"nn",value:function(e,t,n){var r,i=Nt(e),a=[],o=Ue(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=Ue(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new Sh;f.seed(l.Se()),wh.fe.Zt(s,f.Ne(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"en",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Xs&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=Fh(e),i=Uh(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next((function(e){var t=[];return zf.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Ms(t.sequenceNumber,new Us(ch(t.readTime),new us(gf(t.documentKey)),t.largestBatchId)):Ms.empty(),r=e.fields.map((function(e){var t=c(e,2),n=t[0],r=t[1];return new Ls(Gu.fromServerFormat(n),r)}));return new Rs(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Lu(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=Fh(e),a=Uh(e);return this.rn(e).next((function(e){return i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return zf.forEach(t,(function(t){return a.put(function(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:sh(r.readTime),documentKey:vf(r.documentKey.path),largestBatchId:r.largestBatchId}}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return zf.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?zf.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),zf.forEach(a,(function(r){return n.on(e,t,r).next((function(t){var a=n.un(i,r);return t.isEqual(a)?zf.resolve():n.an(e,i,r,t,a)}))}))}))}))}},{key:"cn",value:function(e,t,n,r){return Vh(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.tn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"hn",value:function(e,t,n,r){return Vh(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.tn(n,t.key),t.key.path.toArray()])}},{key:"on",value:function(e,t,n){var r=Vh(e),i=new pl(Ch);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.tn(n,t)])},(function(e,r){i=i.add(new Th(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"un",value:function(e,t){var n=new pl(Ch),r=this.Ze(t,e);if(null==r)return n;var i=Os(t);if(null!=i){var a=e.data.field(i.fieldPath);if(ks(a)){var o,u=Ue(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new Th(t.indexId,e.key,this.He(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new Th(t.indexId,e.key,Ph,r));return n}},{key:"an",value:function(e,t,n,r,i){var a=this;pu("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=yl(a),s=yl(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=yl(o)):l?(i(u),u=yl(a)):(u=yl(a),s=yl(o))}}(r,i,Ch,(function(r){o.push(a.cn(e,t,n,r))}),(function(r){o.push(a.hn(e,t,n,r))})),zf.waitFor(o)}},{key:"rn",value:function(e){var t=1;return Uh(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Ch(e,t)})).filter((function(e,t,n){return!t||0!==Ch(e,n[t-1])}));var r=[];r.push(e);var i,a=Ue(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=Ch(o,e),s=Ch(o,t);if(0===u)r[0]=e.ke();else if(u>0&&s<0)r.push(o),r.push(o.ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Ph,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Ph,[]]));return c}}]),e}();function Mh(e){return eh(e,"collectionParents")}function Vh(e){return eh(e,"indexEntries")}function Fh(e){return eh(e,"indexConfiguration")}function Uh(e){return eh(e,"indexState")}var jh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qh=function(){function e(t,n,r){Me(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Fe(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Bh(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Wt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){ku(1===u)})));var c,l=[],f=Ue(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=wf(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return zf.waitFor(a).next((function(){return l}))}function zh(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw gu();t=e.noDocument}return JSON.stringify(t).length}qh.DEFAULT_COLLECTION_PERCENTILE=10,qh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qh.DEFAULT=new qh(41943040,qh.DEFAULT_COLLECTION_PERCENTILE,qh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qh.DISABLED=new qh(-1,0,0);var Kh=function(){function e(t,n,r,i){Me(this,e),this.userId=t,this.M=n,this.indexManager=r,this.referenceDelegate=i,this.ln={}}return Fe(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Gh(e).Wt({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Hh(e),o=Gh(e);return o.add({}).next((function(u){ku("number"==typeof u);var s,c=new th(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return ef(e.Jt,t)})),i=n.mutations.map((function(t){return ef(e.Jt,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.M,i.userId,c),f=[],h=new pl((function(e,t){return Lu(e.canonicalString(),t.canonicalString())})),d=Ue(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=wf(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,bf))}}catch(y){d.e(y)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.ln[u]=c.keys()})),zf.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Gh(e).get(t).next((function(e){return e?(ku(e.userId===n.userId),lh(n.M,e)):null}))}},{key:"fn",value:function(e,t){var n=this;return this.ln[t]?zf.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.ln[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Gh(e).Wt({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(ku(t.batchId>=r),a=lh(n.M,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Gh(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Gh(e).qt("userMutationsIndex",n).next((function(e){return e.map((function(e){return lh(t.M,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Af(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Hh(e).Wt({range:i},(function(r,i,o){var u=c(r,3),s=u[0],l=u[1],f=u[2],h=gf(l);if(s===n.userId&&t.path.isEqual(h))return Gh(e).get(f).next((function(e){if(!e)throw gu();ku(e.userId===n.userId),a.push(lh(n.M,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new pl(Lu),i=[];return t.forEach((function(t){var a=Af(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=Hh(e).Wt({range:o},(function(e,i,a){var o=c(e,3),u=o[0],s=o[1],l=o[2],f=gf(s);u===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(u)})),zf.waitFor(i).next((function(){return n.dn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Af(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new pl(Lu);return Hh(e).Wt({range:o},(function(e,t,a){var o=c(e,3),s=o[0],l=o[1],f=o[2],h=gf(l);s===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.dn(e,u)}))}},{key:"dn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Gh(e).get(t).next((function(e){if(null===e)throw gu();ku(e.userId===n.userId),r.push(lh(n.M,e))})))})),zf.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Bh(e.Ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n._n(t.batchId)})),zf.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"_n",value:function(e){delete this.ln[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return zf.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return Hh(e).Wt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=gf(e[1]);i.push(a)}else r.done()})).next((function(){ku(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Wh(e,this.userId,t)}},{key:"wn",value:function(e){var t=this;return Qh(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Yt",value:function(t,n,r,i){return ku(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Wh(e,t,n){var r=Af(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Hh(e).Wt({range:a,jt:!0},(function(e,n,r){var a=c(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function Gh(e){return eh(e,"mutations")}function Hh(e){return eh(e,"documentMutations")}function Qh(e){return eh(e,"mutationQueues")}var Xh=function(){function e(t){Me(this,e),this.mn=t}return Fe(e,[{key:"next",value:function(){return this.mn+=2,this.mn}}],[{key:"gn",value:function(){return new e(0)}},{key:"yn",value:function(){return new e(-1)}}]),e}(),Yh=function(){function e(t,n){Me(this,e),this.referenceDelegate=t,this.M=n}return Fe(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.pn(e).next((function(n){var r=new Xh(n.highestTargetId);return n.highestTargetId=r.next(),t.In(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.pn(e).next((function(e){return Uu.fromTimestamp(new Fu(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.pn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.pn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.In(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Tn(e,t).next((function(){return n.pn(e).next((function(r){return r.targetCount+=1,n.En(t,r),n.In(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Tn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Jh(e).delete(t.targetId)})).next((function(){return n.pn(e)})).next((function(t){return ku(t.targetCount>0),t.targetCount-=1,n.In(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Jh(e).Wt((function(o,u){var s=fh(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return zf.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Jh(e).Wt((function(e,n){var r=fh(n);t(r)}))}},{key:"pn",value:function(e){return Zh(e).get("targetGlobalKey").next((function(e){return ku(null!==e),e}))}},{key:"In",value:function(e,t){return Zh(e).put("targetGlobalKey",t)}},{key:"Tn",value:function(e,t){return Jh(e).put(hh(this.M,t))}},{key:"En",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.pn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=zs(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Jh(e).Wt({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=fh(n);Ks(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=$h(e);return t.forEach((function(t){var o=vf(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),zf.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=$h(e);return zf.forEach(t,(function(t){var a=vf(t.path);return zf.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=$h(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=$h(e),i=Il();return r.Wt({range:n,jt:!0},(function(e,t,n){var r=gf(e[1]),a=new us(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=vf(t.path),r=IDBKeyRange.bound([n],[Vu(n)],!1,!0),i=0;return $h(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},(function(e,t,n){var r=c(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return Jh(e).get(t).next((function(e){return e?fh(e):null}))}}]),e}();function Jh(e){return eh(e,"targets")}function Zh(e){return eh(e,"targetGlobal")}function $h(e){return eh(e,"targetDocuments")}function ed(e){return td.apply(this,arguments)}function td(){return td=ue(ce().mark((function e(t){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===wu.FAILED_PRECONDITION&&t.message===qf){e.next=2;break}throw t;case 2:pu("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),td.apply(this,arguments)}function nd(e,t){var n=c(e,2),r=n[0],i=n[1],a=c(t,2),o=a[0],u=a[1],s=Lu(r,o);return 0===s?Lu(i,u):s}var rd=function(){function e(t){Me(this,e),this.An=t,this.buffer=new pl(nd),this.Rn=0}return Fe(e,[{key:"Pn",value:function(){return++this.Rn}},{key:"bn",value:function(e){var t=[e,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();nd(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),id=function(){function e(t,n){Me(this,e),this.garbageCollector=t,this.asyncQueue=n,this.Vn=!1,this.vn=null}return Fe(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}},{key:"stop",value:function(){this.vn&&(this.vn.cancel(),this.vn=null)}},{key:"started",get:function(){return null!==this.vn}},{key:"Sn",value:function(e){var t=this,n=this.Vn?3e5:6e4;pu("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,ue(ce().mark((function n(){return ce().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.vn=null,t.Vn=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!Qf(n.t0)){n.next=12;break}pu("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,ed(n.t0);case 14:return n.next=16,t.Sn(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),ad=function(){function e(t,n){Me(this,e),this.Dn=t,this.params=n}return Fe(e,[{key:"calculateTargetCount",value:function(e,t){return this.Dn.Cn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return zf.resolve(Ru.A);var r=new rd(t);return this.Dn.forEachTarget(e,(function(e){return r.bn(e.sequenceNumber)})).next((function(){return n.Dn.xn(e,(function(e){return r.bn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Dn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Dn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(pu("LruGarbageCollector","Garbage collection skipped; disabled"),zf.resolve(jh)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(pu("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),jh):n.Nn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Dn.getCacheSize(e)}},{key:"Nn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(pu("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),du()<=Lt.DEBUG&&pu("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),zf.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),od=function(){function e(t,n){Me(this,e),this.db=t,this.garbageCollector=function(e,t){return new ad(e,t)}(this,n)}return Fe(e,[{key:"Cn",value:function(e){var t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"kn",value:function(e){var t=0;return this.xn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"xn",value:function(e,t){return this.Mn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return ud(e,n)}},{key:"removeReference",value:function(e,t,n){return ud(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return ud(e,t)}},{key:"On",value:function(e,t){return function(e,t){var n=!1;return Qh(e).zt((function(r){return Wh(e,r,t).next((function(e){return e&&(n=!0),zf.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Mn(e,(function(o,u){if(u<=t){var s=n.On(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Uu.min()),$h(e).delete([0,vf(o.path)])}))}));i.push(s)}})).next((function(){return zf.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return ud(e,t)}},{key:"Mn",value:function(e,t){var n,r=$h(e),i=Ru.A;return r.Wt({index:"documentTargetsIndex"},(function(e,r){var a=c(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==Ru.A&&t(new us(gf(n)),i),i=s,n=u):i=Ru.A})).next((function(){i!==Ru.A&&t(new us(gf(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function ud(e,t){return $h(e).put(function(e,t){return{targetId:0,path:vf(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var sd=function(){function e(){Me(this,e),this.changes=new ll((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Fe(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Ds.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?zf.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),cd=function(){function e(t){Me(this,e),this.M=t}return Fe(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return hd(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return hd(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],uh(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Fn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Ds.newInvalidDocument(t);return hd(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(dd(t))},(function(e,i){r=n.$n(t,i)})).next((function(){return r}))}},{key:"Bn",value:function(e,t){var n=this,r={size:0,document:Ds.newInvalidDocument(t)};return hd(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(dd(t))},(function(e,i){r={document:n.$n(t,i),size:zh(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=gl();return this.Ln(e,t,(function(e,t){var i=n.$n(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Un",value:function(e,t){var n=this,r=gl(),i=new fl(us.comparator);return this.Ln(e,t,(function(e,t){var a=n.$n(e,t);r=r.insert(e,a),i=i.insert(e,zh(t))})).next((function(){return{documents:r,qn:i}}))}},{key:"Ln",value:function(e,t,n){if(t.isEmpty())return zf.resolve();var r=new pl(vd);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(dd(r.first()),dd(r.last())),a=r.getIterator(),o=a.getNext();return hd(e).Wt({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=us.fromSegments([].concat(Nt(t.prefixPath),[t.collectionGroup,t.documentId]));o&&vd(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.Ut(dd(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),uh(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return hd(e).qt(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=gl(),i=Ue(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.$n(us.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=gl(),o=pd(t,n),u=pd(t,Us.max());return hd(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.$n(us.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new ld(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return fd(e).get("remoteDocumentGlobalKey").next((function(e){return ku(!!e),e}))}},{key:"Fn",value:function(e,t){return fd(e).put("remoteDocumentGlobalKey",t)}},{key:"$n",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Zl(e.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=us.fromSegments(t.noDocument.path),i=ch(t.noDocument.readTime);n=Ds.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return gu();var a=us.fromSegments(t.unknownDocument.path),o=ch(t.unknownDocument.version);n=Ds.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Fu(e[0],e[1]);return Uu.fromTimestamp(t)}(t.readTime)),n}(this.M,t);if(!n.isNoDocument()||!n.version.isEqual(Uu.min()))return n}return Ds.newInvalidDocument(e)}}]),e}(),ld=function(e){Be(n,e);var t=He(n);function n(e,r){var i;return Me(this,n),(i=t.call(this)).Kn=e,i.trackRemovals=r,i.Gn=new ll((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Fe(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new pl((function(e,t){return Lu(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Gn.get(a);if(n.push(t.Kn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=oh(t.Kn.M,o);i=i.add(a.path.popLast());var c=zh(s);r+=c-u.size,n.push(t.Kn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=oh(t.Kn.M,o.convertToNoDocument(Uu.min()));n.push(t.Kn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Kn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Kn.updateMetadata(e,r)),zf.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Kn.Bn(e,t).next((function(e){return n.Gn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Kn.Un(e,t).next((function(e){var t=e.documents;return e.qn.forEach((function(e,r){n.Gn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(sd);function fd(e){return eh(e,"remoteDocumentGlobal")}function hd(e){return eh(e,"remoteDocumentsV14")}function dd(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function pd(e,t){var n=t.documentKey.path.toArray();return[e,uh(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function vd(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Lu(n[a],r[a]))return i;return(i=Lu(n.length,r.length))||((i=Lu(n[n.length-2],r[r.length-2]))||Lu(n[n.length-1],r[r.length-1]))}var yd=function(){function e(t){Me(this,e),this.M=t}return Fe(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new Kf("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",kf,{unique:!0}),e.createObjectStore("documentMutations")}(e),md(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=zf.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),md(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Uu.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").qt().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",kf,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return zf.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Qn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.jn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Wn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.zn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Hn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Pf});t.createIndex("collectionPathOverlayIndex",Lf,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Mf,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:xf});t.createIndex("documentKeyIndex",If),t.createIndex("collectionGroupIndex",Ef)}(e)})).next((function(){return i.Jn(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){!function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Nf}).createIndex("sequenceNumberIndex",Df,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Rf}).createIndex("documentKeyIndex",Of,{unique:!1})}(e)}))),o}},{key:"jn",value:function(e){var t=0;return e.store("remoteDocuments").Wt((function(e,n){t+=zh(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Qn",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.qt().next((function(n){return zf.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",i).next((function(r){return zf.forEach(r,(function(r){ku(r.userId===n.userId);var i=lh(t.M,r);return Bh(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Wn",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Wt((function(n,i){var a=new Ku(n),o=function(e){return[0,vf(e)]}(a);r.push(t.get(o).next((function(n){return n?zf.resolve():function(n){return t.put({targetId:0,path:vf(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return zf.waitFor(r)}))}))}},{key:"zn",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Cf});var n=t.store("collectionParents"),r=new Oh,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:vf(i)})}};return t.store("remoteDocuments").Wt({jt:!0},(function(e,t){var n=new Ku(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Wt({jt:!0},(function(e,t){var n=c(e,3),r=(n[0],n[1]),a=(n[2],gf(r));return i(a.popLast())}))}))}},{key:"Hn",value:function(e){var t=this,n=e.store("targets");return n.Wt((function(e,r){var i=fh(r),a=hh(t.M,i);return n.put(a)}))}},{key:"Jn",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Wt((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new us(Ku.fromString(i.document.name).popFirst(5)):i.noDocument?us.fromSegments(i.noDocument.path):i.unknownDocument?us.fromSegments(i.unknownDocument.path):gu()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return zf.waitFor(r)}))}}]),e}();function md(e){e.createObjectStore("targetDocuments",{keyPath:Sf}).createIndex("documentTargetsIndex",Tf,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",_f,{unique:!0}),e.createObjectStore("targetGlobal")}var gd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",kd=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:13;if(Me(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Yn=a,this.window=o,this.document=u,this.Xn=c,this.Zn=l,this.ts=f,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=function(e){return Promise.resolve()},!e.vt())throw new bu(wu.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new od(this,i),this.hs=n+"main",this.M=new ah(s),this.ls=new Wf(this.hs,this.ts,new yd(this.M)),this.fs=new Yh(this.referenceDelegate,this.M),this.ds=function(e){return new cd(e)}(this.M),this._s=new yh,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===l&&vu("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Fe(e,[{key:"start",value:function(){var e=this;return this.gs().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new bu(wu.FAILED_PRECONDITION,gd);return e.ys(),e.ps(),e.Is(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.fs.getHighestSequenceNumber(t)}))})).then((function(t){e.es=new Ru(t,e.Xn)})).then((function(){e.ns=!0})).catch((function(t){return e.ls&&e.ls.close(),Promise.reject(t)}))}},{key:"Ts",value:function(e){var t=this;return this.cs=function(){var n=ue(ce().mark((function n(r){return ce().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ls.Ot(function(){var t=ue(ce().mark((function t(n){return ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget(ue(ce().mark((function e(){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.gs();case 4:case"end":return e.stop()}}),e)})))))}},{key:"gs",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return wd(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Es(t).next((function(t){t||(e.isPrimary=!1,e.Yn.enqueueRetryable((function(){return e.cs(!1)})))}))})).next((function(){return e.As(t)})).next((function(n){return e.isPrimary&&!n?e.Rs(t).next((function(){return!1})):!!n&&e.Ps(t).next((function(){return!0}))}))})).catch((function(t){if(Qf(t))return pu("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return pu("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Yn.enqueueRetryable((function(){return e.cs(t)})),e.isPrimary=t}))}},{key:"Es",value:function(e){var t=this;return Ad(e).get("owner").next((function(e){return zf.resolve(t.bs(e))}))}},{key:"Vs",value:function(e){return wd(e).delete(this.clientId)}},{key:"vs",value:function(){var e=ue(ce().mark((function e(){var t,n,r,i,a=this;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Ss(this.us,18e5)){e.next=6;break}return this.us=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=eh(e,"clientMetadata");return t.qt().next((function(e){var n=a.Ds(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return zf.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.ws){n=Ue(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.ws.removeItem(this.Cs(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Is",value:function(){var e=this;this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.gs().then((function(){return e.vs()})).then((function(){return e.Is()}))}))}},{key:"bs",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"As",value:function(e){var t=this;return this.Zn?zf.resolve(!0):Ad(e).get("owner").next((function(n){if(null!==n&&t.Ss(n.leaseTimestampMs,5e3)&&!t.xs(n.ownerId)){if(t.bs(n)&&t.networkEnabled)return!0;if(!t.bs(n)){if(!n.allowTabSynchronization)throw new bu(wu.FAILED_PRECONDITION,gd);return!1}}return!(!t.networkEnabled||!t.inForeground)||wd(e).qt().next((function(e){return void 0===t.Ds(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&pu("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=ue(ce().mark((function e(){var t=this;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ns=!1,this.Ns(),this.os&&(this.os.cancel(),this.os=null),this.ks(),this.Ms(),e.next=7,this.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new $f(e,Ru.A);return t.Rs(n).next((function(){return t.Vs(n)}))}));case 7:this.ls.close(),this.Os();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ds",value:function(e,t){var n=this;return e.filter((function(e){return n.Ss(e.updateTimeMs,t)&&!n.xs(e.clientId)}))}},{key:"Fs",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return wd(t).qt().next((function(t){return e.Ds(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.ns}},{key:"getMutationQueue",value:function(e,t){return Kh.Yt(e,this.M,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getIndexManager",value:function(e){return new Lh(e,this.M.Jt.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return kh.Yt(this.M,e)}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;pu("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=14===(i=this.ts)?jf:13===i?Uf:12===i?Ff:11===i?Vf:void gu();return this.ls.runTransaction(e,o,u,(function(i){return a=new $f(i,r.es?r.es.next():Ru.A),"readwrite-primary"===t?r.Es(a).next((function(e){return!!e||r.As(a)})).next((function(t){if(!t)throw vu("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Yn.enqueueRetryable((function(){return r.cs(!1)})),new bu(wu.FAILED_PRECONDITION,qf);return n(a)})).next((function(e){return r.Ps(a).next((function(){return e}))})):r.$s(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"$s",value:function(e){var t=this;return Ad(e).get("owner").next((function(e){if(null!==e&&t.Ss(e.leaseTimestampMs,5e3)&&!t.xs(e.ownerId)&&!t.bs(e)&&!(t.Zn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new bu(wu.FAILED_PRECONDITION,gd)}))}},{key:"Ps",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ad(e).put("owner",t)}},{key:"Rs",value:function(e){var t=this,n=Ad(e);return n.get("owner").next((function(e){return t.bs(e)?(pu("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):zf.resolve()}))}},{key:"Ss",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(vu("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ys",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=function(){e.Yn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.gs()}))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}},{key:"ks",value:function(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}},{key:"ps",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=function(){t.Ns(),!at()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Yn.enterRestrictedMode(!0),t.Yn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ss))}},{key:"Ms",value:function(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}},{key:"xs",value:function(e){var t;try{var n=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return pu("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return vu("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ns",value:function(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(cr){vu("Failed to set zombie client id.",cr)}}},{key:"Os",value:function(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(cr){}}},{key:"Cs",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"vt",value:function(){return Wf.vt()}}]),e}();function Ad(e){return eh(e,"owner")}function wd(e){return eh(e,"clientMetadata")}function bd(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var xd=function(){function e(t,n,r){Me(this,e),this.ds=t,this.Bs=n,this.indexManager=r}return Fe(e,[{key:"Ls",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Us(e,t,r)}))}},{key:"Us",value:function(e,t,n){return this.ds.getEntry(e,t).next((function(e){var t,r=Ue(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"qs",value:function(e,t){e.forEach((function(e,n){var r,i=Ue(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Ks",value:function(e,t){var n=this;return this.ds.getEntries(e,t).next((function(t){return n.Gs(e,t).next((function(){return t}))}))}},{key:"Gs",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.qs(t,e)}))}},{key:"Qs",value:function(e,t,n){return function(e){return us.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.js(e,t.path):yc(t)?this.Ws(e,t,n):this.zs(e,t,n)}},{key:"js",value:function(e,t){return this.Ls(e,new us(t)).next((function(e){var t=Al();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Ws",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Al();return this.indexManager.getCollectionParents(e,i).next((function(o){return zf.forEach(o,(function(o){var u=function(e,t){return new cc(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.zs(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"zs",value:function(e,t,n){var r,i=this;return this.ds.getAllFromCollection(e,t.path,n).next((function(n){return r=n,i.Bs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=Ue(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=Ue(a.mutations);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.key,c=r.get(s);null==c&&(c=Ds.newInvalidDocument(s),r=r.insert(s,c)),Qc(u,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(s))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){xc(t,n)||(r=r.remove(e))})),r}))}}]),e}(),Id=function(){function e(t,n,r,i){Me(this,e),this.targetId=t,this.fromCache=n,this.Hs=r,this.Js=i}return Fe(e,null,[{key:"Ys",value:function(t,n){var r,i=Il(),a=Il(),o=Ue(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Ed=function(){function e(){Me(this,e)}return Fe(e,[{key:"Xs",value:function(e){this.Zs=e}},{key:"Qs",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Uu.min())?this.ti(e,t):this.Zs.Ks(e,r).next((function(a){var o=i.ei(t,a);return(hc(t)||dc(t))&&i.ni(t.limitType,o,r,n)?i.ti(e,t):(du()<=Lt.DEBUG&&pu("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),bc(t)),i.Zs.Qs(e,t,Vs(n,-1)).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"ei",value:function(e,t){var n=new pl(Ec(e));return t.forEach((function(t,r){xc(e,r)&&(n=n.add(r))})),n}},{key:"ni",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"ti",value:function(e,t){return du()<=Lt.DEBUG&&pu("QueryEngine","Using full collection scan to execute query:",bc(t)),this.Zs.Qs(e,t,Us.min())}}]),e}(),_d=function(){function e(t,n,r,i){Me(this,e),this.persistence=t,this.si=n,this.M=i,this.ii=new fl(Lu),this.ri=new ll((function(e){return zs(e)}),Ks),this.oi=new Map,this.ui=t.getRemoteDocumentCache(),this.fs=t.getTargetCache(),this._s=t.getBundleCache(),this.ai(r)}return Fe(e,[{key:"ai",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new xd(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.ii)}))}}]),e}();function Sd(e,t,n,r){return new _d(e,t,n,r)}function Td(e,t){return Cd.apply(this,arguments)}function Cd(){return Cd=ue(ce().mark((function e(t,n){var r;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Au(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.Bs.getAllMutationBatches(e).next((function(i){return t=i,r.ai(n),r.Bs.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Il(),s=Ue(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=Ue(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=Ue(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var y,m=Ue(v.mutations);try{for(m.s();!(y=m.n()).done;){var g=y.value;u=u.add(g.key)}}catch(k){m.e(k)}finally{m.f()}}}catch(k){p.e(k)}finally{p.f()}return r.ci.Ks(e,u).next((function(e){return{hi:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Cd.apply(this,arguments)}function Nd(e,t){var n=Au(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=zf.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);ku(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.Bs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.ci.Ks(e,r)}))}))}function Dd(e){var t=Au(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.fs.getLastRemoteSnapshotVersion(e)}))}function Rd(e,t){var n=Au(e),r=t.snapshotVersion,i=n.ii;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.ui.newChangeBuffer({trackRemovals:!0});i=n.ii;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.fs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.fs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Qu.EMPTY_BYTE_STRING,Uu.min()).withLastLimboFreeSnapshotVersion(Uu.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.fs.updateTargetData(e,c))}}));var u=gl();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Od(e,a,t.documentUpdates).next((function(e){u=e}))),!r.isEqual(Uu.min())){var s=n.fs.getLastRemoteSnapshotVersion(e).next((function(t){return n.fs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return zf.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.ci.Gs(e,u)})).next((function(){return u}))})).then((function(e){return n.ii=i,e}))}function Od(e,t,n){var r=Il();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=gl();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(Uu.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):pu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function Pd(e,t){var n=Au(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.Bs.getNextMutationBatchAfterBatchId(e,t)}))}function Ld(e,t){var n=Au(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.fs.getTargetData(e,t).next((function(i){return i?(r=i,zf.resolve(r)):n.fs.allocateTargetId(e).next((function(i){return r=new ih(t,i,0,e.currentSequenceNumber),n.fs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.ii.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ii=n.ii.insert(e.targetId,e),n.ri.set(t,e.targetId)),e}))}function Md(e,t,n){return Vd.apply(this,arguments)}function Vd(){return Vd=ue(ce().mark((function e(t,n,r){var i,a,o;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Au(t),a=i.ii.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Qf(e.t1)){e.next=12;break}throw e.t1;case 12:pu("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.ii=i.ii.remove(n),i.ri.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Vd.apply(this,arguments)}function Fd(e,t,n){var r=Au(e),i=Uu.min(),a=Il();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Au(e),i=r.ri.get(n);return void 0!==i?zf.resolve(r.ii.get(i)):r.fs.getTargetData(t,n)}(r,e,gc(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.si.Qs(e,t,n?i:Uu.min(),n?a:Il())})).next((function(e){return qd(r,Ic(t),e),{documents:e,li:a}}))}))}function Ud(e,t){var n=Au(e),r=Au(n.fs),i=n.ii.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function jd(e,t){var n=Au(e),r=n.oi.get(t)||Uu.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.ui.getAllFromCollectionGroup(e,t,Vs(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return qd(n,t,e),e}))}function qd(e,t,n){var r=Uu.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.oi.set(t,r)}function Bd(e,t,n,r){return zd.apply(this,arguments)}function zd(){return zd=ue(ce().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Au(t),o=Il(),u=gl(),s=Ue(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.fi(l.metadata.name),l.document&&(o=o.add(f)),(h=n.di(l)).setReadTime(n._i(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.ui.newChangeBuffer({trackRemovals:!0}),e.next=7,Ld(a,function(e){return gc(fc(Ku.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Od(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.fs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.fs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.ci.Gs(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),zd.apply(this,arguments)}function Kd(e,t){return Wd.apply(this,arguments)}function Wd(){return Wd=ue(ce().mark((function e(t,n){var r,i,a,o=arguments;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Il(),e.next=3,Ld(t,gc(dh(n.bundledQuery)));case 3:return i=e.sent,a=Au(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Bl(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a._s.saveNamedQuery(e,n);var o=i.withResumeToken(Qu.EMPTY_BYTE_STRING,t);return a.ii=a.ii.insert(o.targetId,o),a.fs.updateTargetData(e,o).next((function(){return a.fs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.fs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a._s.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Wd.apply(this,arguments)}var Gd=function(){function e(t){Me(this,e),this.M=t,this.wi=new Map,this.mi=new Map}return Fe(e,[{key:"getBundleMetadata",value:function(e,t){return zf.resolve(this.wi.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.wi.set(t.id,{id:(n=t).id,version:n.version,createTime:Bl(n.createTime)}),zf.resolve()}},{key:"getNamedQuery",value:function(e,t){return zf.resolve(this.mi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.mi.set(t.name,function(e){return{name:e.name,query:dh(e.bundledQuery),readTime:Bl(e.readTime)}}(t)),zf.resolve()}}]),e}(),Hd=function(){function e(){Me(this,e),this.overlays=new fl(us.comparator),this.gi=new Map}return Fe(e,[{key:"getOverlay",value:function(e,t){return zf.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),zf.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.gi.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.gi.delete(n)),zf.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=wl(),i=t.length+1,a=new us(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return zf.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new fl((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=wl(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=wl(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return zf.resolve(s)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.gi.get(r.largestBatchId).delete(n.key);this.gi.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new rh(t,n));var a=this.gi.get(t);void 0===a&&(a=Il(),this.gi.set(t,a)),this.gi.set(t,a.add(n.key))}}}]),e}(),Qd=function(){function e(){Me(this,e),this.yi=new pl(Xd.pi),this.Ii=new pl(Xd.Ti)}return Fe(e,[{key:"isEmpty",value:function(){return this.yi.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Xd(e,t);this.yi=this.yi.add(n),this.Ii=this.Ii.add(n)}},{key:"Ei",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Ai(new Xd(e,t))}},{key:"Ri",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Pi",value:function(e){var t=this,n=new us(new Ku([])),r=new Xd(n,e),i=new Xd(n,e+1),a=[];return this.Ii.forEachInRange([r,i],(function(e){t.Ai(e),a.push(e.key)})),a}},{key:"bi",value:function(){var e=this;this.yi.forEach((function(t){return e.Ai(t)}))}},{key:"Ai",value:function(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}},{key:"Vi",value:function(e){var t=new us(new Ku([])),n=new Xd(t,e),r=new Xd(t,e+1),i=Il();return this.Ii.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Xd(e,0),n=this.yi.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Xd=function(){function e(t,n){Me(this,e),this.key=t,this.vi=n}return Fe(e,null,[{key:"pi",value:function(e,t){return us.comparator(e.key,t.key)||Lu(e.vi,t.vi)}},{key:"Ti",value:function(e,t){return Lu(e.vi,t.vi)||us.comparator(e.key,t.key)}}]),e}(),Yd=function(){function e(t,n){Me(this,e),this.indexManager=t,this.referenceDelegate=n,this.Bs=[],this.Si=1,this.Di=new pl(Xd.pi)}return Fe(e,[{key:"checkEmpty",value:function(e){return zf.resolve(0===this.Bs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.Si;this.Si++,this.Bs.length>0&&this.Bs[this.Bs.length-1];var a=new th(i,t,n,r);this.Bs.push(a);var o,u=Ue(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Di=this.Di.add(new Xd(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return zf.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return zf.resolve(this.Ci(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.xi(n),i=r<0?0:r;return zf.resolve(this.Bs.length>i?this.Bs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return zf.resolve(0===this.Bs.length?-1:this.Si-1)}},{key:"getAllMutationBatches",value:function(e){return zf.resolve(this.Bs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Xd(t,0),i=new Xd(t,Number.POSITIVE_INFINITY),a=[];return this.Di.forEachInRange([r,i],(function(e){var t=n.Ci(e.vi);a.push(t)})),zf.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new pl(Lu);return t.forEach((function(e){var t=new Xd(e,0),i=new Xd(e,Number.POSITIVE_INFINITY);n.Di.forEachInRange([t,i],(function(e){r=r.add(e.vi)}))})),zf.resolve(this.Ni(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;us.isDocumentKey(i)||(i=i.child(""));var a=new Xd(new us(i),0),o=new pl(Lu);return this.Di.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.vi)),!0)}),a),zf.resolve(this.Ni(o))}},{key:"Ni",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Ci(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;ku(0===this.ki(t.batchId,"removed")),this.Bs.shift();var r=this.Di;return zf.forEach(t.mutations,(function(i){var a=new Xd(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Di=r}))}},{key:"_n",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Xd(t,0),r=this.Di.firstAfterOrEqual(n);return zf.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.Bs.length,zf.resolve()}},{key:"ki",value:function(e,t){return this.xi(e)}},{key:"xi",value:function(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}},{key:"Ci",value:function(e){var t=this.xi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}]),e}(),Jd=function(){function e(t){Me(this,e),this.Mi=t,this.docs=new fl(us.comparator),this.size=0}return Fe(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Mi(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return zf.resolve(n?n.document.mutableCopy():Ds.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=gl();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Ds.newInvalidDocument(e))})),zf.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=gl(),i=new us(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||js(Fs(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return zf.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){gu()}},{key:"Oi",value:function(e,t){return zf.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Zd(this)}},{key:"getSize",value:function(e){return zf.resolve(this.size)}}]),e}(),Zd=function(e){Be(n,e);var t=He(n);function n(e){var r;return Me(this,n),(r=t.call(this)).Kn=e,r}return Fe(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Kn.addEntry(e,i)):t.Kn.removeEntry(r)})),zf.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Kn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Kn.getEntries(e,t)}}]),n}(sd),$d=function(){function e(t){Me(this,e),this.persistence=t,this.Fi=new ll((function(e){return zs(e)}),Ks),this.lastRemoteSnapshotVersion=Uu.min(),this.highestTargetId=0,this.$i=0,this.Bi=new Qd,this.targetCount=0,this.Li=Xh.gn()}return Fe(e,[{key:"forEachTarget",value:function(e,t){return this.Fi.forEach((function(e,n){return t(n)})),zf.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return zf.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return zf.resolve(this.$i)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Li.next(),zf.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$i&&(this.$i=t),zf.resolve()}},{key:"Tn",value:function(e){this.Fi.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Li=new Xh(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Tn(t),this.targetCount+=1,zf.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Tn(t),zf.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Fi.delete(t.target),this.Bi.Pi(t.targetId),this.targetCount-=1,zf.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Fi.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Fi.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),zf.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return zf.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Fi.get(t)||null;return zf.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Bi.Ei(t,n),zf.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Bi.Ri(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),zf.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Bi.Pi(t),zf.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Bi.Vi(t);return zf.resolve(n)}},{key:"containsKey",value:function(e,t){return zf.resolve(this.Bi.containsKey(t))}}]),e}(),ep=function(){function e(t,n){var r=this;Me(this,e),this.Ui={},this.overlays={},this.es=new Ru(0),this.ns=!1,this.ns=!0,this.referenceDelegate=t(this),this.fs=new $d(this),this.indexManager=new Rh,this.ds=new Jd((function(e){return r.referenceDelegate.qi(e)})),this.M=new ah(n),this._s=new Gd(this.M)}return Fe(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.ns=!1,Promise.resolve()}},{key:"started",get:function(){return this.ns}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Hd,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Ui[e.toKey()];return n||(n=new Yd(t,this.referenceDelegate),this.Ui[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;pu("MemoryPersistence","Starting transaction:",e);var i=new tp(this.es.next());return this.referenceDelegate.Ki(),n(i).next((function(e){return r.referenceDelegate.Gi(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Qi",value:function(e,t){return zf.or(Object.values(this.Ui).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),tp=function(e){Be(n,e);var t=He(n);function n(e){var r;return Me(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Fe(n)}(Bf),np=function(){function e(t){Me(this,e),this.persistence=t,this.ji=new Qd,this.Wi=null}return Fe(e,[{key:"Hi",get:function(){if(this.Wi)return this.Wi;throw gu()}},{key:"addReference",value:function(e,t,n){return this.ji.addReference(n,t),this.Hi.delete(n.toString()),zf.resolve()}},{key:"removeReference",value:function(e,t,n){return this.ji.removeReference(n,t),this.Hi.add(n.toString()),zf.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Hi.add(t.toString()),zf.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.ji.Pi(t.targetId).forEach((function(e){return n.Hi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Hi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ki",value:function(){this.Wi=new Set}},{key:"Gi",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return zf.forEach(this.Hi,(function(r){var i=us.fromPath(r);return t.Ji(e,i).next((function(e){e||n.removeEntry(i,Uu.min())}))})).next((function(){return t.Wi=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Ji(e,t).next((function(e){e?n.Hi.delete(t.toString()):n.Hi.add(t.toString())}))}},{key:"qi",value:function(e){return 0}},{key:"Ji",value:function(e,t){var n=this;return zf.or([function(){return zf.resolve(n.ji.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Qi(e,t)}])}}],[{key:"zi",value:function(t){return new e(t)}}]),e}();function rp(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function ip(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function ap(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var op=function(){function e(t,n,r,i){Me(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Fe(e,[{key:"Xi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Yi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new bu(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(vu("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),up=function(){function e(t,n,r){Me(this,e),this.targetId=t,this.state=n,this.error=r}return Fe(e,[{key:"Xi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Yi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new bu(i.error.code,i.error.message))),a?new e(t,i.state,r):(vu("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),sp=function(){function e(t,n){Me(this,e),this.clientId=t,this.activeTargetIds=n}return Fe(e,null,[{key:"Yi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=_l(),o=0;i&&o<r.activeTargetIds.length;++o)i=os(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(vu("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),cp=function(){function e(t,n){Me(this,e),this.clientId=t,this.onlineState=n}return Fe(e,null,[{key:"Yi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(vu("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),lp=function(){function e(){Me(this,e),this.activeTargetIds=_l()}return Fe(e,[{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"tr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Xi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),fp=function(){function e(t,n,r,i,a){Me(this,e),this.window=t,this.Yn=n,this.persistenceKey=r,this.er=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new fl(Lu),this.started=!1,this.rr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ur=rp(this.persistenceKey,this.er),this.ar=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ir=this.ir.insert(this.er,new lp),this.cr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.hr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.lr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.dr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this._r=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}return Fe(e,[{key:"start",value:function(){var e=ue(ce().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Fs();case 2:t=e.sent,n=Ue(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.er){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(rp(this.persistenceKey,i)))&&(o=sp.Yi(i,a))&&(this.ir=this.ir.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.wr(),(u=this.storage.getItem(this.dr))&&(s=this.mr(u))&&this.gr(s),c=Ue(this.rr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.sr(f)}catch(d){c.e(d)}finally{c.f()}this.rr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ar,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.yr(this.ir)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ir.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.pr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.pr(e,t,n),this.Ir(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(ap(this.persistenceKey,e));if(n){var r=up.Yi(e,n);r&&(t=r.state)}}return this.Tr.Zi(e),this.wr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Tr.tr(e),this.wr()}},{key:"isLocalQueryTarget",value:function(e){return this.Tr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(ap(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Er(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Ir(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Ar(e)}},{key:"notifyBundleLoaded",value:function(e){this.Rr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return pu("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){pu("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){pu("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"sr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(pu("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ur)return void vu("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable(ue(ce().mark((function e(){var r,i,a,o,u,s,c;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.cr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Pr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Vr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.hr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Sr(a));case 16:e.next=41;break;case 18:if(!t.lr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Dr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Cr(o));case 23:e.next=41;break;case 25:if(n.key!==t.dr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.mr(n.newValue))){e.next=30;break}return e.abrupt("return",t.gr(u));case 30:e.next=41;break;case 32:if(n.key!==t.ar){e.next=37;break}s=function(e){var t=Ru.A;if(null!=e)try{var n=JSON.parse(e);ku("number"==typeof n),t=n}catch(e){vu("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Ru.A&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t._r){e.next=41;break}return c=t.Nr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.kr(e)})));case 41:e.next=44;break;case 43:t.rr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Tr",get:function(){return this.ir.get(this.er)}},{key:"wr",value:function(){this.setItem(this.ur,this.Tr.Xi())}},{key:"pr",value:function(e,t,n){var r=new op(this.currentUser,e,t,n),i=ip(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Xi())}},{key:"Ir",value:function(e){var t=ip(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Ar",value:function(e){var t={clientId:this.er,onlineState:e};this.storage.setItem(this.dr,JSON.stringify(t))}},{key:"Er",value:function(e,t,n){var r=ap(this.persistenceKey,e),i=new up(e,t,n);this.setItem(r,i.Xi())}},{key:"Rr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}},{key:"Pr",value:function(e){var t=this.cr.exec(e);return t?t[1]:null}},{key:"Vr",value:function(e,t){var n=this.Pr(e);return sp.Yi(n,t)}},{key:"vr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return op.Yi(new lu(i),r,t)}},{key:"Dr",value:function(e,t){var n=this.lr.exec(e),r=Number(n[1]);return up.Yi(r,t)}},{key:"mr",value:function(e){return cp.Yi(e)}},{key:"Nr",value:function(e){return JSON.parse(e)}},{key:"Sr",value:function(){var e=ue(ce().mark((function e(t){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Mr(t.batchId,t.state,t.error));case 2:pu("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Cr",value:function(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.ir.insert(e,t):this.ir.remove(e),i=this.yr(this.ir),a=this.yr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Fr(o,u).then((function(){n.ir=r}))}},{key:"gr",value:function(e){this.ir.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"yr",value:function(e){var t=_l();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),hp=function(){function e(){Me(this,e),this.$r=new lp,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Fe(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.$r.Zi(e),this.Br[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Br[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.$r.tr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.$r.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Br[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.$r.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.$r.activeTargetIds.has(e)}},{key:"start",value:function(){return this.$r=new lp,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),dp=function(){function e(){Me(this,e)}return Fe(e,[{key:"Lr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),pp=function(){function e(){var t=this;Me(this,e),this.Ur=function(){return t.qr()},this.Kr=function(){return t.Gr()},this.Qr=[],this.jr()}return Fe(e,[{key:"Lr",value:function(e){this.Qr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}},{key:"jr",value:function(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}},{key:"qr",value:function(){pu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Ue(this.Qr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Gr",value:function(){pu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Ue(this.Qr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),vp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},yp=function(){function e(t){Me(this,e),this.Wr=t.Wr,this.zr=t.zr}return Fe(e,[{key:"Hr",value:function(e){this.Jr=e}},{key:"Yr",value:function(e){this.Xr=e}},{key:"onMessage",value:function(e){this.Zr=e}},{key:"close",value:function(){this.zr()}},{key:"send",value:function(e){this.Wr(e)}},{key:"eo",value:function(){this.Jr()}},{key:"no",value:function(e){this.Xr(e)}},{key:"so",value:function(e){this.Zr(e)}}]),e}(),mp=function(e){Be(n,e);var t=He(n);function n(e){var r;return Me(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Fe(n,[{key:"co",value:function(e,t,n,r){return new Promise((function(i,a){var o=new su;o.listenOnce(ru.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case nu.NO_ERROR:var t=o.getResponseJson();pu("Connection","XHR received:",JSON.stringify(t)),i(t);break;case nu.TIMEOUT:pu("Connection",'RPC "'+e+'" timed out'),a(new bu(wu.DEADLINE_EXCEEDED,"Request time out"));break;case nu.HTTP_ERROR:var n=o.getStatus();if(pu("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(wu).indexOf(t)>=0?t:wu.UNKNOWN}(r.status);a(new bu(u,r.message))}else a(new bu(wu.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new bu(wu.UNAVAILABLE,"Connection failed."));break;default:gu()}}finally{pu("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"lo",value:function(e,t,n){var r=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=eu(),a=tu(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new ou({})),this.ao(o.initMessageHeaders,t,n),it()||ut()||rt().indexOf("Electron/")>=0||st()||rt().indexOf("MSAppHost/")>=0||ot()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");pu("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new yp({Wr:function(e){l?pu("Connection","Not sending because WebChannel is closed:",e):(c||(pu("Connection","Opening WebChannel transport."),s.open(),c=!0),pu("Connection","WebChannel sending:",e),s.send(e))},zr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,uu.EventType.OPEN,(function(){l||pu("Connection","WebChannel transport opened.")})),h(s,uu.EventType.CLOSE,(function(){l||(l=!0,pu("Connection","WebChannel transport closed"),f.no())})),h(s,uu.EventType.ERROR,(function(e){l||(l=!0,yu("Connection","WebChannel transport errored:",e),f.no(new bu(wu.UNAVAILABLE,"The operation could not be completed")))})),h(s,uu.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];ku(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){pu("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=rl[e];if(void 0!==t)return cl(t)}(a),u=i.message;void 0===o&&(o=wu.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.no(new bu(o,u)),s.close()}else pu("Connection","WebChannel received:",n),f.so(n)}})),h(a,iu.STAT_EVENT,(function(e){e.stat===au.PROXY?pu("Connection","Detected buffering proxy"):e.stat===au.NOPROXY&&pu("Connection","Detected no buffering proxy")})),setTimeout((function(){f.eo()}),0),f}}]),n}(function(){function e(t){Me(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.io=n+"://"+t.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Fe(e,[{key:"oo",value:function(e,t,n,r,i){var a=this.uo(e,t);pu("RestConnection","Sending: ",a,n);var o={};return this.ao(o,r,i),this.co(e,a,o,n).then((function(e){return pu("RestConnection","Received: ",e),e}),(function(t){throw yu("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ho",value:function(e,t,n,r,i){return this.oo(e,t,n,r,i)}},{key:"ao",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+fu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"uo",value:function(e,t){var n=vp[e];return"".concat(this.io,"/v1/").concat(t,":").concat(n)}}]),e}());function gp(){return"undefined"!=typeof window?window:null}function kp(){return"undefined"!=typeof document?document:null}function Ap(e){return new Fl(e,!0)}var wp=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Me(this,e),this.Yn=t,this.timerId=n,this.fo=r,this._o=i,this.wo=a,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}return Fe(e,[{key:"reset",value:function(){this.mo=0}},{key:"Io",value:function(){this.mo=this.wo}},{key:"To",value:function(e){var t=this;this.cancel();var n=Math.floor(this.mo+this.Eo()),r=Math.max(0,Date.now()-this.po),i=Math.max(0,n-r);i>0&&pu("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.mo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.yo=this.Yn.enqueueAfterDelay(this.timerId,i,(function(){return t.po=Date.now(),e()})),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}},{key:"Ao",value:function(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}},{key:"cancel",value:function(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}},{key:"Eo",value:function(){return(Math.random()-.5)*this.mo}}]),e}(),bp=function(){function e(t,n,r,i,a,o,u,s){Me(this,e),this.Yn=t,this.Ro=r,this.Po=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new wp(t,n)}return Fe(e,[{key:"Co",value:function(){return 1===this.state||5===this.state||this.xo()}},{key:"xo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.No()}},{key:"stop",value:function(){var e=ue(ce().mark((function e(){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Co(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ko",value:function(){this.state=0,this.Do.reset()}},{key:"Mo",value:function(){var e=this;this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,(function(){return e.Oo()})))}},{key:"Fo",value:function(e){this.$o(),this.stream.send(e)}},{key:"Oo",value:function(){var e=ue(ce().mark((function e(){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.xo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"$o",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"Bo",value:function(){this.So&&(this.So.cancel(),this.So=null)}},{key:"close",value:function(){var e=ue(ce().mark((function e(t,n){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.$o(),this.Bo(),this.Do.cancel(),this.Vo++,4!==t?this.Do.reset():n&&n.code===wu.RESOURCE_EXHAUSTED?(vu(n.toString()),vu("Using maximum backoff delay to prevent overloading the backend."),this.Do.Io()):n&&n.code===wu.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Lo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Yr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=c(t,2),i=r[0],a=r[1];e.Vo===n&&e.qo(i,a)}),(function(n){t((function(){var t=new bu(wu.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ko(t)}))}))}},{key:"qo",value:function(e,t){var n=this,r=this.Uo(this.Vo);this.stream=this.Go(e,t),this.stream.Hr((function(){r((function(){return n.state=2,n.So=n.Yn.enqueueAfterDelay(n.Po,1e4,(function(){return n.xo()&&(n.state=3),Promise.resolve()})),n.listener.Hr()}))})),this.stream.Yr((function(e){r((function(){return n.Ko(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"No",value:function(){var e=this;this.state=5,this.Do.To(ue(ce().mark((function t(){return ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Ko",value:function(e){return pu("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Uo",value:function(e){var t=this;return function(n){t.Yn.enqueueAndForget((function(){return t.Vo===e?n():(pu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),xp=function(e){Be(n,e);var t=He(n);function n(e,r,i,a,o,u){var s;return Me(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).M=o,s}return Fe(n,[{key:"Go",value:function(e,t){return this.bo.lo("Listen",e,t)}},{key:"onMessage",value:function(e){this.Do.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:gu()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(ku(void 0===t||"string"==typeof t),Qu.fromBase64String(t||"")):(ku(void 0===t||t instanceof Uint8Array),Qu.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?wu.UNKNOWN:cl(e.code);return new bu(t,e.message||"")}(o);n=new Dl(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Gl(e,s.document.name),l=Bl(s.document.updateTime),f=new Cs({mapValue:{fields:s.document.fields}}),h=Ds.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new Cl(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var y=Gl(e,v.document),m=v.readTime?Bl(v.readTime):Uu.min(),g=Ds.newNoDocument(y,m),k=v.removedTargetIds||[];n=new Cl([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var A=t.documentRemove;A.document;var w=Gl(e,A.document),b=A.removedTargetIds||[];n=new Cl([],b,w,null)}else{if(!("filter"in t))return gu();t.filter;var x=t.filter;x.targetId;var I=x.count||0,E=new ul(I),_=x.targetId;n=new Nl(_,E)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return Uu.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Uu.min():t.readTime?Bl(t.readTime):Uu.min()}(e);return this.listener.Qo(t,n)}},{key:"jo",value:function(e){var t={};t.database=Xl(this.M),t.addTarget=function(e,t){var n,r=t.target;return(n=Ws(r)?{documents:nf(e,r)}:{query:rf(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=jl(e,t.resumeToken):t.snapshotVersion.compareTo(Uu.min())>0&&(n.readTime=Ul(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return gu()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Fo(t)}},{key:"Wo",value:function(e){var t={};t.database=Xl(this.M),t.removeTarget=e,this.Fo(t)}}]),n}(bp),Ip=function(e){Be(n,e);var t=He(n);function n(e,r,i,a,o,u){var s;return Me(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).M=o,s.zo=!1,s}return Fe(n,[{key:"Ho",get:function(){return this.zo}},{key:"start",value:function(){this.zo=!1,this.lastStreamToken=void 0,Qn(ze(n.prototype),"start",this).call(this)}},{key:"Lo",value:function(){this.zo&&this.Jo([])}},{key:"Go",value:function(e,t){return this.bo.lo("Write",e,t)}},{key:"onMessage",value:function(e){if(ku(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();var t=function(e,t){return e&&e.length>0?(ku(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Bl(e.updateTime):Bl(t);return n.isEqual(Uu.min())&&(n=Bl(t)),new zc(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Bl(e.commitTime);return this.listener.Yo(n,t)}return ku(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}},{key:"Zo",value:function(){var e={};e.database=Xl(this.M),this.Fo(e)}},{key:"Jo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return ef(t.M,e)}))};this.Fo(n)}}]),n}(bp),Ep=function(e){Be(n,e);var t=He(n);function n(e,r,i,a){var o;return Me(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.M=a,o.tu=!1,o}return Fe(n,[{key:"eu",value:function(){if(this.tu)throw new bu(wu.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"oo",value:function(e,t,n){var r=this;return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],u=a[1];return r.bo.oo(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===wu.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new bu(wu.UNKNOWN,e.toString())}))}},{key:"ho",value:function(e,t,n){var r=this;return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],u=a[1];return r.bo.ho(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===wu.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new bu(wu.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.tu=!0}}]),n}(function(){return Fe((function e(){Me(this,e)}))}()),_p=function(){function e(t,n){Me(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}return Fe(e,[{key:"ru",value:function(){var e=this;0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.su=null,e.uu("Backend didn't respond within 10 seconds."),e.ou("Offline"),Promise.resolve()})))}},{key:"au",value:function(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ou("Offline")))}},{key:"set",value:function(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}},{key:"ou",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"uu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.iu?(vu(t),this.iu=!1):pu("OnlineStateTracker",t)}},{key:"cu",value:function(){null!==this.su&&(this.su.cancel(),this.su=null)}}]),e}(),Sp=Fe((function e(t,n,r,i,a){var o=this;Me(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=a,this._u.Lr((function(e){r.enqueueAndForget(ue(ce().mark((function e(){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Fp(o),!e.t0){e.next=5;break}return pu("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=ue(ce().mark((function e(t){var n;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Au(t)).fu.add(4),e.next=4,Np(n);case 4:return n.wu.set("Unknown"),n.fu.delete(4),e.next=8,Tp(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.wu=new _p(r,i)}));function Tp(e){return Cp.apply(this,arguments)}function Cp(){return Cp=ue(ce().mark((function e(t){var n,r,i;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Fp(t)){e.next=18;break}n=Ue(t.du),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Cp.apply(this,arguments)}function Np(e){return Dp.apply(this,arguments)}function Dp(){return Dp=ue(ce().mark((function e(t){var n,r,i;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ue(t.du),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Dp.apply(this,arguments)}function Rp(e,t){var n=Au(e);n.lu.has(t.targetId)||(n.lu.set(t.targetId,t),Vp(n)?Mp(n):dv(n).xo()&&Pp(n,t))}function Op(e,t){var n=Au(e),r=dv(n);n.lu.delete(t),r.xo()&&Lp(n,t),0===n.lu.size&&(r.xo()?r.Mo():Fp(n)&&n.wu.set("Unknown"))}function Pp(e,t){e.mu.Z(t.targetId),dv(e).jo(t)}function Lp(e,t){e.mu.Z(t),dv(e).Wo(t)}function Mp(e){e.mu=new Ol({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.lu.get(t)||null}}),dv(e).start(),e.wu.ru()}function Vp(e){return Fp(e)&&!dv(e).Co()&&e.lu.size>0}function Fp(e){return 0===Au(e).fu.size}function Up(e){e.mu=void 0}function jp(e){return qp.apply(this,arguments)}function qp(){return qp=ue(ce().mark((function e(t){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.lu.forEach((function(e,n){Pp(t,e)}));case 1:case"end":return e.stop()}}),e)}))),qp.apply(this,arguments)}function Bp(e,t){return zp.apply(this,arguments)}function zp(){return zp=ue(ce().mark((function e(t,n){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Up(t),Vp(t)?(t.wu.au(n),Mp(t)):t.wu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),zp.apply(this,arguments)}function Kp(e,t,n){return Wp.apply(this,arguments)}function Wp(){return Wp=ue(ce().mark((function e(t,n,r){var i;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.wu.set("Online"),!(n instanceof Dl&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=ue(ce().mark((function e(t,n){var r,i,a,o;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Ue(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.lu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.lu.delete(o),t.mu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),pu("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Gp(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Cl?t.mu.ut(n):n instanceof Nl?t.mu._t(n):t.mu.ht(n),r.isEqual(Uu.min())){e.next=29;break}return e.prev=14,e.next=17,Dd(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.mu.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.lu.get(r);i&&e.lu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.lu.get(t);if(n){e.lu.set(t,n.withResumeToken(Qu.EMPTY_BYTE_STRING,n.snapshotVersion)),Lp(e,t);var r=new ih(n.target,t,1,n.sequenceNumber);Pp(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),pu("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Gp(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Wp.apply(this,arguments)}function Gp(e,t,n){return Hp.apply(this,arguments)}function Hp(){return Hp=ue(ce().mark((function e(t,n,r){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Qf(n)){e.next=2;break}throw n;case 2:return t.fu.add(1),e.next=5,Np(t);case 5:t.wu.set("Offline"),r||(r=function(){return Dd(t.localStore)}),t.asyncQueue.enqueueRetryable(ue(ce().mark((function e(){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pu("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.fu.delete(1),e.next=6,Tp(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Hp.apply(this,arguments)}function Qp(e,t){return t().catch((function(n){return Gp(e,n,t)}))}function Xp(e){return Yp.apply(this,arguments)}function Yp(){return Yp=ue(ce().mark((function e(t){var n,r,i,a;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Au(t),r=pv(n),i=n.hu.length>0?n.hu[n.hu.length-1].batchId:-1;case 2:if(!Jp(n)){e.next=19;break}return e.prev=3,e.next=6,Pd(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.hu.length&&r.Mo(),e.abrupt("break",19);case 10:i=a.batchId,Zp(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Gp(n,e.t0);case 17:e.next=2;break;case 19:$p(n)&&ev(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Yp.apply(this,arguments)}function Jp(e){return Fp(e)&&e.hu.length<10}function Zp(e,t){e.hu.push(t);var n=pv(e);n.xo()&&n.Ho&&n.Jo(t.mutations)}function $p(e){return Fp(e)&&!pv(e).Co()&&e.hu.length>0}function ev(e){pv(e).start()}function tv(e){return nv.apply(this,arguments)}function nv(){return nv=ue(ce().mark((function e(t){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:pv(t).Zo();case 1:case"end":return e.stop()}}),e)}))),nv.apply(this,arguments)}function rv(e){return iv.apply(this,arguments)}function iv(){return iv=ue(ce().mark((function e(t){var n,r,i,a;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=pv(t),r=Ue(t.hu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Jo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),iv.apply(this,arguments)}function av(e,t,n){return ov.apply(this,arguments)}function ov(){return ov=ue(ce().mark((function e(t,n,r){var i,a;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.hu.shift(),a=nh.from(i,n,r),e.next=3,Qp(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Xp(t);case 5:case"end":return e.stop()}}),e)}))),ov.apply(this,arguments)}function uv(e,t){return sv.apply(this,arguments)}function sv(){return sv=ue(ce().mark((function e(t,n){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&pv(t).Ho,!e.t0){e.next=4;break}return e.next=4,function(){var e=ue(ce().mark((function e(t,n){var r,i;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!sl(i=n.code)||i===wu.ABORTED){e.next=7;break}return r=t.hu.shift(),pv(t).ko(),e.next=5,Qp(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Xp(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:$p(t)&&ev(t);case 5:case"end":return e.stop()}}),e)}))),sv.apply(this,arguments)}function cv(e,t){return lv.apply(this,arguments)}function lv(){return lv=ue(ce().mark((function e(t,n){var r,i;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Au(t)).asyncQueue.verifyOperationInProgress(),pu("RemoteStore","RemoteStore received new credentials"),i=Fp(r),r.fu.add(3),e.next=6,Np(r);case 6:return i&&r.wu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.fu.delete(3),e.next=12,Tp(r);case 12:case"end":return e.stop()}}),e)}))),lv.apply(this,arguments)}function fv(e,t){return hv.apply(this,arguments)}function hv(){return hv=ue(ce().mark((function e(t,n){var r;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Au(t),!n){e.next=7;break}return r.fu.delete(2),e.next=5,Tp(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.fu.add(2),e.next=12,Np(r);case 12:r.wu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),hv.apply(this,arguments)}function dv(e){return e.gu||(e.gu=function(e,t,n){var r=Au(e);return r.eu(),new xp(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Hr:jp.bind(null,e),Yr:Bp.bind(null,e),Qo:Kp.bind(null,e)}),e.du.push(function(){var t=ue(ce().mark((function t(n){return ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.gu.ko(),Vp(e)?Mp(e):e.wu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.gu.stop();case 6:Up(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}function pv(e){return e.yu||(e.yu=function(e,t,n){var r=Au(e);return r.eu(),new Ip(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Hr:tv.bind(null,e),Yr:uv.bind(null,e),Xo:rv.bind(null,e),Yo:av.bind(null,e)}),e.du.push(function(){var t=ue(ce().mark((function t(n){return ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.yu.ko(),t.next=4,Xp(e);case 4:t.next=9;break;case 6:return t.next=8,e.yu.stop();case 8:e.hu.length>0&&(pu("RemoteStore","Stopping write stream with ".concat(e.hu.length," pending writes")),e.hu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.yu}var vv=function(){function e(t,n,r,i,a){Me(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new xu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Fe(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new bu(wu.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function yv(e,t){if(vu("AsyncQueue","".concat(t,": ").concat(e)),Qf(e))return new bu(wu.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var mv=function(){function e(t){Me(this,e),this.comparator=t?function(e,n){return t(e,n)||us.comparator(e.key,n.key)}:function(e,t){return us.comparator(e.key,t.key)},this.keyedMap=Al(),this.sortedSet=new fl(this.comparator)}return Fe(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),gv=function(){function e(){Me(this,e),this.pu=new fl(us.comparator)}return Fe(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.pu.get(t);n?0!==e.type&&3===n.type?this.pu=this.pu.insert(t,e):3===e.type&&1!==n.type?this.pu=this.pu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.pu=this.pu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.pu=this.pu.remove(t):1===e.type&&2===n.type?this.pu=this.pu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):gu():this.pu=this.pu.insert(t,e)}},{key:"Iu",value:function(){var e=[];return this.pu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),kv=function(){function e(t,n,r,i,a,o,u,s){Me(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return Fe(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ac(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,mv.emptySet(n),a,r,i,!0,!1)}}]),e}(),Av=Fe((function e(){Me(this,e),this.Tu=void 0,this.listeners=[]})),wv=Fe((function e(){Me(this,e),this.queries=new ll((function(e){return wc(e)}),Ac),this.onlineState="Unknown",this.Eu=new Set}));function bv(e,t){return xv.apply(this,arguments)}function xv(){return xv=ue(ce().mark((function e(t,n){var r,i,a,o,u;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Au(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Av),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Tu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=yv(e.t0,"Initialization of query '".concat(bc(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Au(r.onlineState),o.Tu&&n.Ru(o.Tu)&&Tv(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),xv.apply(this,arguments)}function Iv(e,t){return Ev.apply(this,arguments)}function Ev(){return Ev=ue(ce().mark((function e(t,n){var r,i,a,o,u;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Au(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Ev.apply(this,arguments)}function _v(e,t){var n,r=Au(e),i=!1,a=Ue(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=Ue(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Ru(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Tu=o}}}catch(f){a.e(f)}finally{a.f()}i&&Tv(r)}function Sv(e,t,n){var r=Au(e),i=r.queries.get(t);if(i){var a,o=Ue(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function Tv(e){e.Eu.forEach((function(e){e.next()}))}var Cv=function(){function e(t,n,r){Me(this,e),this.query=t,this.Pu=n,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}return Fe(e,[{key:"Ru",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Ue(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new kv(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),a=!0):this.Su(e,this.onlineState)&&(this.Du(e),a=!0),this.Vu=e,a}},{key:"onError",value:function(e){this.Pu.error(e)}},{key:"Au",value:function(e){this.onlineState=e;var t=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),t=!0),t}},{key:"Su",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Cu||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Du",value:function(e){e=kv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}]),e}(),Nv=function(){function e(t,n){Me(this,e),this.payload=t,this.byteLength=n}return Fe(e,[{key:"xu",value:function(){return"metadata"in this.payload}}]),e}(),Dv=function(){function e(t){Me(this,e),this.M=t}return Fe(e,[{key:"fi",value:function(e){return Gl(this.M,e)}},{key:"di",value:function(e){return e.metadata.exists?Zl(this.M,e.document,!1):Ds.newNoDocument(this.fi(e.metadata.name),this._i(e.metadata.readTime))}},{key:"_i",value:function(e){return Bl(e)}}]),e}(),Rv=function(){function e(t,n,r){Me(this,e),this.Nu=t,this.localStore=n,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Ov(t)}return Fe(e,[{key:"ku",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=Ku.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Mu",value:function(e){var t,n=new Map,r=new Dv(this.M),i=Ue(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.fi(a.metadata.name),s=Ue(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Il()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=ue(ce().mark((function e(){var t,n,r,i,a;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bd(this.localStore,new Dv(this.M),this.documents,this.Nu.id);case 2:t=e.sent,n=this.Mu(this.documents),r=Ue(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Kd(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Ou:this.collectionGroups,Fu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ov(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Pv=Fe((function e(t){Me(this,e),this.key=t})),Lv=Fe((function e(t){Me(this,e),this.key=t})),Mv=function(){function e(t,n){Me(this,e),this.query=t,this.$u=n,this.Bu=null,this.current=!1,this.Lu=Il(),this.mutatedKeys=Il(),this.Uu=Ec(t),this.qu=new mv(this.Uu)}return Fe(e,[{key:"Ku",get:function(){return this.$u}},{key:"Gu",value:function(e,t){var n=this,r=t?t.Qu:new gv,i=t?t.qu:this.qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s=hc(this.query)&&i.size===this.query.limit?i.last():null,c=dc(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=xc(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.ju(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Uu(f,s)>0||c&&n.Uu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),hc(this.query)||dc(this.query))for(;o.size>this.query.limit;){var l=hc(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{qu:o,Qu:r,ni:u,mutatedKeys:a}}},{key:"ju",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;var a=e.Qu.Iu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gu()}};return n(e)-n(t)}(e.type,t.type)||r.Uu(e.doc,t.doc)})),this.Wu(n);var o=t?this.zu():[],u=0===this.Lu.size&&this.current?1:0,s=u!==this.Bu;return this.Bu=u,0!==a.length||s?{snapshot:new kv(this.query,e.qu,i,a,e.mutatedKeys,0===u,s,!1),Hu:o}:{Hu:o}}},{key:"Au",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new gv,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}},{key:"Ju",value:function(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}},{key:"Wu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.$u=t.$u.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.$u=t.$u.delete(e)})),this.current=e.current)}},{key:"zu",value:function(){var e=this;if(!this.current)return[];var t=this.Lu;this.Lu=Il(),this.qu.forEach((function(t){e.Ju(t.key)&&(e.Lu=e.Lu.add(t.key))}));var n=[];return t.forEach((function(t){e.Lu.has(t)||n.push(new Lv(t))})),this.Lu.forEach((function(e){t.has(e)||n.push(new Pv(e))})),n}},{key:"Yu",value:function(e){this.$u=e.li,this.Lu=Il();var t=this.Gu(e.documents);return this.applyChanges(t,!0)}},{key:"Xu",value:function(){return kv.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}]),e}(),Vv=Fe((function e(t,n,r){Me(this,e),this.query=t,this.targetId=n,this.view=r})),Fv=Fe((function e(t){Me(this,e),this.key=t,this.Zu=!1})),Uv=function(){function e(t,n,r,i,a,o){Me(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.ta={},this.ea=new ll((function(e){return wc(e)}),Ac),this.na=new Map,this.sa=new Set,this.ia=new fl(us.comparator),this.ra=new Map,this.oa=new Qd,this.ua={},this.aa=new Map,this.ca=Xh.yn(),this.onlineState="Unknown",this.ha=void 0}return Fe(e,[{key:"isPrimaryClient",get:function(){return!0===this.ha}}]),e}();function jv(e,t){return qv.apply(this,arguments)}function qv(){return qv=ue(ce().mark((function e(t,n){var r,i,a,o,u,s;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Oy(t),!(o=r.ea.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Xu(),e.next=15;break;case 6:return e.next=8,Ld(r.localStore,gc(n));case 8:return u=e.sent,r.isPrimaryClient&&Rp(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,Bv(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),qv.apply(this,arguments)}function Bv(e,t,n,r){return zv.apply(this,arguments)}function zv(){return zv=ue(ce().mark((function e(t,n,r,i){var a,o,u,s,c,l;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.la=function(e,n,r){return function(){var e=ue(ce().mark((function e(t,n,r,i){var a,o,u;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Gu(r),e.t0=a.ni,!e.t0){e.next=6;break}return e.next=5,Fd(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Gu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(cy(t,n.targetId,u.Hu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Fd(t.localStore,n,!0);case 3:return a=e.sent,o=new Mv(n,a.li),u=o.Gu(a.documents),s=Tl.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),cy(t,r,c.Hu),l=new Vv(n,r,o),e.abrupt("return",(t.ea.set(n,l),t.na.has(r)?t.na.get(r).push(n):t.na.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),zv.apply(this,arguments)}function Kv(e,t){return Wv.apply(this,arguments)}function Wv(){return Wv=ue(ce().mark((function e(t,n){var r,i,a;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Au(t),i=r.ea.get(n),!((a=r.na.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.na.set(i.targetId,a.filter((function(e){return!Ac(e,n)}))),void r.ea.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Md(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Op(r.remoteStore,i.targetId),uy(r,i.targetId)})).catch(ed);case 9:e.next=14;break;case 11:return uy(r,i.targetId),e.next=14,Md(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Wv.apply(this,arguments)}function Gv(e,t,n){return Hv.apply(this,arguments)}function Hv(){return Hv=ue(ce().mark((function e(t,n,r){var i,a,o;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Py(t),e.prev=1,e.next=4,function(e,t){var n,r=Au(e),i=Fu.now(),a=t.reduce((function(e,t){return e.add(t.key)}),Il());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.ci.Ks(e,a).next((function(a){n=a;var o,u=[],s=Ue(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Xc(c,n.get(c.key));null!=l&&u.push(new $c(c.key,l,Ns(l.value.mapValue),Kc.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.Bs.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ua[e.currentUser.toKey()];r||(r=new fl(Lu)),r=r.insert(t,n),e.ua[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,hy(i,a.changes);case 9:return e.next=11,Xp(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=yv(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Hv.apply(this,arguments)}function Qv(e,t){return Xv.apply(this,arguments)}function Xv(){return Xv=ue(ce().mark((function e(t,n){var r,i;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Au(t),e.prev=1,e.next=4,Rd(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ra.get(t);n&&(ku(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Zu=!0:e.modifiedDocuments.size>0?ku(n.Zu):e.removedDocuments.size>0&&(ku(n.Zu),n.Zu=!1))})),e.next=8,hy(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,ed(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Xv.apply(this,arguments)}function Yv(e,t,n){var r=Au(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ea.forEach((function(e,n){var r=n.view.Au(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Au(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Ue(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Au(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Tv(n)}(r.eventManager,t),i.length&&r.ta.Qo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Jv(e,t,n){return Zv.apply(this,arguments)}function Zv(){return Zv=ue(ce().mark((function e(t,n,r){var i,a,o,u,s,c;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Au(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ra.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new fl(us.comparator)).insert(o,Ds.newNoDocument(o,Uu.min())),s=Il().add(o),c=new Sl(Uu.min(),new Map,new pl(Lu),u,s),e.next=9,Qv(i,c);case 9:i.ia=i.ia.remove(o),i.ra.delete(n),fy(i),e.next=16;break;case 14:return e.next=16,Md(i.localStore,n,!1).then((function(){return uy(i,n,r)})).catch(ed);case 16:case"end":return e.stop()}}),e)}))),Zv.apply(this,arguments)}function $v(e,t){return ey.apply(this,arguments)}function ey(){return ey=ue(ce().mark((function e(t,n){var r,i,a;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Au(t),i=n.batch.batchId,e.prev=1,e.next=4,Nd(r.localStore,n);case 4:return a=e.sent,oy(r,i,null),ay(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,hy(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,ed(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),ey.apply(this,arguments)}function ty(e,t,n){return ny.apply(this,arguments)}function ny(){return ny=ue(ce().mark((function e(t,n,r){var i,a;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Au(t),e.prev=1,e.next=4,function(e,t){var n=Au(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.Bs.lookupMutationBatch(e,t).next((function(t){return ku(null!==t),r=t.keys(),n.Bs.removeMutationBatch(e,t)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.ci.Ks(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,oy(i,n,r),ay(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,hy(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,ed(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),ny.apply(this,arguments)}function ry(e,t){return iy.apply(this,arguments)}function iy(){return iy=ue(ce().mark((function e(t,n){var r,i,a,o;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fp((r=Au(t)).remoteStore)||pu("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Au(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Bs.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.aa.get(i)||[]).push(n),r.aa.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=yv(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),iy.apply(this,arguments)}function ay(e,t){(e.aa.get(t)||[]).forEach((function(e){e.resolve()})),e.aa.delete(t)}function oy(e,t,n){var r=Au(e),i=r.ua[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ua[r.currentUser.toKey()]=i}}function uy(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Ue(e.na.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ea.delete(a),n&&e.ta.fa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.na.delete(t),e.isPrimaryClient&&e.oa.Pi(t).forEach((function(t){e.oa.containsKey(t)||sy(e,t)}))}function sy(e,t){e.sa.delete(t.path.canonicalString());var n=e.ia.get(t);null!==n&&(Op(e.remoteStore,n),e.ia=e.ia.remove(t),e.ra.delete(n),fy(e))}function cy(e,t,n){var r,i=Ue(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Pv?(e.oa.addReference(a.key,t),ly(e,a)):a instanceof Lv?(pu("SyncEngine","Document no longer in limbo: "+a.key),e.oa.removeReference(a.key,t),e.oa.containsKey(a.key)||sy(e,a.key)):gu()}}catch(o){i.e(o)}finally{i.f()}}function ly(e,t){var n=t.key,r=n.path.canonicalString();e.ia.get(n)||e.sa.has(r)||(pu("SyncEngine","New document in limbo: "+n),e.sa.add(r),fy(e))}function fy(e){for(;e.sa.size>0&&e.ia.size<e.maxConcurrentLimboResolutions;){var t=e.sa.values().next().value;e.sa.delete(t);var n=new us(Ku.fromString(t)),r=e.ca.next();e.ra.set(r,new Fv(n)),e.ia=e.ia.insert(n,r),Rp(e.remoteStore,new ih(gc(fc(n.path)),r,2,Ru.A))}}function hy(e,t,n){return dy.apply(this,arguments)}function dy(){return dy=ue(ce().mark((function e(t,n,r){var i,a,o,u;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Au(t),a=[],o=[],u=[],e.t0=i.ea.isEmpty(),e.t0){e.next=9;break}return i.ea.forEach((function(e,t){u.push(i.la(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Id.Ys(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.ta.Qo(a),e.next=9,function(){var e=ue(ce().mark((function e(t,n){var r,i,a,o,u,s,c,l;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Au(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return zf.forEach(n,(function(t){return zf.forEach(t.Hs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return zf.forEach(t.Js,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Qf(e.t0)){e.next=10;break}throw e.t0;case 10:pu("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Ue(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.ii.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.ii=r.ii.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),dy.apply(this,arguments)}function py(e,t){return vy.apply(this,arguments)}function vy(){return vy=ue(ce().mark((function e(t,n){var r,i;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Au(t)).currentUser.isEqual(n)){e.next=11;break}return pu("SyncEngine","User change. New user:",n.toKey()),e.next=5,Td(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.aa.forEach((function(e){e.forEach((function(e){e.reject(new bu(wu.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.aa.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,hy(r,i.hi);case 11:case"end":return e.stop()}}),e)}))),vy.apply(this,arguments)}function yy(e,t){var n=Au(e),r=n.ra.get(t);if(r&&r.Zu)return Il().add(r.key);var i=Il(),a=n.na.get(t);if(!a)return i;var o,u=Ue(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ea.get(s);i=i.unionWith(c.view.Ku)}}catch(l){u.e(l)}finally{u.f()}return i}function my(e,t){return gy.apply(this,arguments)}function gy(){return gy=ue(ce().mark((function e(t,n){var r,i,a;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Au(t),e.next=3,Fd(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Yu(i),e.abrupt("return",(r.isPrimaryClient&&cy(r,n.targetId,a.Hu),a));case 6:case"end":return e.stop()}}),e)}))),gy.apply(this,arguments)}function ky(e,t){return Ay.apply(this,arguments)}function Ay(){return Ay=ue(ce().mark((function e(t,n){var r;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Au(t),e.abrupt("return",jd(r.localStore,n).then((function(e){return hy(r,e)})));case 2:case"end":return e.stop()}}),e)}))),Ay.apply(this,arguments)}function wy(e,t,n,r){return by.apply(this,arguments)}function by(){return by=ue(ce().mark((function e(t,n,r,i){var a,o;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Au(t),e.next=3,function(e,t){var n=Au(e),r=Au(n.Bs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.fn(e,t).next((function(t){return t?n.ci.Ks(e,t):zf.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,Xp(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(oy(a,n,i||null),ay(a,n),function(e,t){Au(Au(e).Bs)._n(t)}(a.localStore,n)):gu();case 11:return e.next=13,hy(a,o);case 13:e.next=16;break;case 15:pu("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),by.apply(this,arguments)}function xy(e,t){return Iy.apply(this,arguments)}function Iy(){return Iy=ue(ce().mark((function e(t,n){var r,i,a,o,u,s,c,l;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Oy(r=Au(t)),Py(r),!0!==n||!0===r.ha){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Ey(r,i.toArray());case 5:return a=e.sent,r.ha=!0,e.next=9,fv(r.remoteStore,!0);case 9:o=Ue(a);try{for(o.s();!(u=o.n()).done;)s=u.value,Rp(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ha){e.next=25;break}return c=[],l=Promise.resolve(),r.na.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return uy(r,t),Md(r.localStore,t,!0)})),Op(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,Ey(r,c);case 21:return function(e){var t=Au(e);t.ra.forEach((function(e,n){Op(t.remoteStore,n)})),t.oa.bi(),t.ra=new Map,t.ia=new fl(us.comparator)}(r),r.ha=!1,e.next=25,fv(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),Iy.apply(this,arguments)}function Ey(e,t,n){return _y.apply(this,arguments)}function _y(){return _y=ue(ce().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,y,m;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Au(t),a=[],o=[],u=Ue(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.na.get(c))||0===f.length){e.next=34;break}return e.next=11,Ld(i.localStore,gc(f[0]));case 11:l=e.sent,h=Ue(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ea.get(p),e.next=20,my(i,v);case 20:(y=e.sent).snapshot&&o.push(y.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Ud(i.localStore,c);case 36:return m=e.sent,e.next=39,Ld(i.localStore,m);case 39:return l=e.sent,e.next=42,Bv(i,Sy(m),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.ta.Qo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),_y.apply(this,arguments)}function Sy(e){return lc(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Ty(e){var t=Au(e);return Au(Au(t.localStore).persistence).Fs()}function Cy(e,t,n,r){return Ny.apply(this,arguments)}function Ny(){return Ny=ue(ce().mark((function e(t,n,r,i){var a,o,u,s;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Au(t)).ha){e.next=3;break}return e.abrupt("return",void pu("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.na.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,jd(a.localStore,Ic(o[0]));case 10:return u=e.sent,s=Sl.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,hy(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,Md(a.localStore,n,!0);case 17:return uy(a,n,i),e.abrupt("break",20);case 19:gu();case 20:case"end":return e.stop()}}),e)}))),Ny.apply(this,arguments)}function Dy(e,t,n){return Ry.apply(this,arguments)}function Ry(){return Ry=ue(ce().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=Oy(t)).ha){e.next=45;break}a=Ue(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.na.has(u)){e.next=10;break}return pu("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,Ud(i.localStore,u);case 12:return s=e.sent,e.next=15,Ld(i.localStore,s);case 15:return c=e.sent,e.next=18,Bv(i,Sy(s),c.targetId,!1);case 18:Rp(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Ue(r),e.prev=30,h=ce().mark((function e(){var t;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.na.has(t),!e.t0){e.next=5;break}return e.next=5,Md(i.localStore,t,!1).then((function(){Op(i.remoteStore,t),uy(i,t)})).catch(ed);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),Ry.apply(this,arguments)}function Oy(e){var t=Au(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Qv.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=yy.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Jv.bind(null,t),t.ta.Qo=_v.bind(null,t.eventManager),t.ta.fa=Sv.bind(null,t.eventManager),t}function Py(e){var t=Au(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$v.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ty.bind(null,t),t}function Ly(e,t,n){var r=Au(e);(function(){var e=ue(ce().mark((function e(t,n,r){var i,a,o,u,s;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Au(e),r=Bl(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n._s.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(Ov(i)),a=new Rv(i,t.localStore,n.M),e.next=15,n.da();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.ku(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.da();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,hy(t,s.Fu,void 0);case 31:return e.next=33,function(e,t){var n=Au(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n._s.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Ou));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(yu("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var My=function(){function e(){Me(this,e),this.synchronizeTabs=!1}return Fe(e,[{key:"initialize",value:function(){var e=ue(ce().mark((function e(t){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=Ap(t.databaseInfo.databaseId),this.sharedClientState=this._a(t),this.persistence=this.wa(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.ma(t),this.localStore=this.ga(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ma",value:function(e){return null}},{key:"ga",value:function(e){return Sd(this.persistence,new Ed,e.initialUser,this.M)}},{key:"wa",value:function(e){return new ep(np.zi,this.M)}},{key:"_a",value:function(e){return new hp}},{key:"terminate",value:function(){var e=ue(ce().mark((function e(){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Vy=function(e){Be(n,e);var t=He(n);function n(e,r,i){var a;return Me(this,n),(a=t.call(this)).ya=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Fe(n,[{key:"initialize",value:function(){var e=ue(ce().mark((function e(t){var r=this;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qn(ze(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.ya.initialize(this,t);case 4:return e.next=6,Py(this.ya.syncEngine);case 6:return e.next=8,Xp(this.ya.remoteStore);case 8:return e.next=10,this.persistence.Ts((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ga",value:function(e){return Sd(this.persistence,new Ed,e.initialUser,this.M)}},{key:"ma",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new id(t,e.asyncQueue)}},{key:"wa",value:function(e){var t=bd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?qh.withCacheSize(this.cacheSizeBytes):qh.DEFAULT;return new kd(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,gp(),kp(),this.M,this.sharedClientState,!!this.forceOwnership)}},{key:"_a",value:function(e){return new hp}}]),n}(My),Fy=function(e){Be(n,e);var t=He(n);function n(e,r){var i;return Me(this,n),(i=t.call(this,e,r,!1)).ya=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Fe(n,[{key:"initialize",value:function(){var e=ue(ce().mark((function e(t){var r,i=this;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qn(ze(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.ya.syncEngine,e.t0=this.sharedClientState instanceof fp,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Mr:wy.bind(null,r),Or:Cy.bind(null,r),Fr:Dy.bind(null,r),Fs:Ty.bind(null,r),kr:ky.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Ts(function(){var e=ue(ce().mark((function e(t){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xy(i.ya.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_a",value:function(e){var t=gp();if(!fp.vt(t))throw new bu(wu.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=bd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new fp(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(Vy),Uy=function(){function e(){Me(this,e)}return Fe(e,[{key:"initialize",value:function(){var e=ue(ce().mark((function e(t,n){var r=this;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Yv(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=py.bind(null,this.syncEngine),e.next=12,fv(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new wv}},{key:"createDatastore",value:function(e){var t,n=Ap(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new mp(t));return function(e,t,n,r){return new Ep(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Yv(o.syncEngine,e,0)},a=pp.vt()?new pp:new dp,new Sp(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new Uv(e,t,n,r,i,a);return o&&(u.ha=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=ue(ce().mark((function e(t){var n;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Au(t),pu("RemoteStore","RemoteStore shutting down."),n.fu.add(5),e.next=5,Np(n);case 5:n._u.shutdown(),n.wu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function jy(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return ue(ce().mark((function r(){var i;return ce().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return ue(ce().mark((function e(){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var qy=function(){function e(t){Me(this,e),this.observer=t,this.muted=!1}return Fe(e,[{key:"next",value:function(e){this.observer.next&&this.pa(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Ia",value:function(){this.muted=!0}},{key:"pa",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),By=function(){function e(t,n){var r=this;Me(this,e),this.Ta=t,this.M=n,this.metadata=new xu,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then((function(e){e&&e.xu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return Fe(e,[{key:"close",value:function(){return this.Ta.cancel()}},{key:"getMetadata",value:function(){var e=ue(ce().mark((function e(){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"da",value:function(){var e=ue(ce().mark((function e(){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Aa());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Aa",value:function(){var e=ue(ce().mark((function e(){var t,n,r,i;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ra();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ea.decode(t),r=Number(n),isNaN(r)&&this.Pa("length string (".concat(n,") is not valid number")),e.next=9,this.ba(r);case 9:return i=e.sent,e.abrupt("return",new Nv(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Va",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Ra",value:function(){var e=ue(ce().mark((function e(){var t,n;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Va()<0)){e.next=7;break}return e.next=3,this.va();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Va())<0&&this.Pa("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ba",value:function(){var e=ue(ce().mark((function e(t){var n;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.va();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Pa("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ea.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Pa",value:function(e){throw this.Ta.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"va",value:function(){var e=ue(ce().mark((function e(){var t,n;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ta.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),zy=function(){function e(t){Me(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Fe(e,[{key:"lookup",value:function(){var e=ue(ce().mark((function e(t){var n,r=this;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new bu(wu.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=ue(ce().mark((function e(t,n){var r,i,a,o,u,s;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Au(t),i=Xl(r.M)+"/documents",a={documents:n.map((function(e){return Wl(r.M,e)}))},e.next=5,r.ho("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=$l(r.M,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());ku(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new al(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=ue(ce().mark((function e(){var t,n=this;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=us.fromPath(t);n.mutations.push(new ol(r,n.precondition(r)))})),e.next=7,function(){var e=ue(ce().mark((function e(t,n){var r,i,a;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Au(t),i=Xl(r.M)+"/documents",a={writes:n.map((function(e){return ef(r.M,e)}))},e.next=3,r.oo("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw gu();t=Uu.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new bu(wu.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Kc.updateTime(t):Kc.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Uu.min()))throw new bu(wu.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Kc.updateTime(t)}return Kc.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),Ky=function(){function e(t,n,r,i){Me(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.Sa=5,this.Do=new wp(this.asyncQueue,"transaction_retry")}return Fe(e,[{key:"run",value:function(){this.Sa-=1,this.Da()}},{key:"Da",value:function(){var e=this;this.Do.To(ue(ce().mark((function t(){var n,r;return ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new zy(e.datastore),(r=e.Ca(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.xa(t)}))}))})).catch((function(t){e.xa(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Ca",value:function(e){try{var t=this.updateFunction(e);return!is(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"xa",value:function(e){var t=this;this.Sa>0&&this.Na(e)?(this.Sa-=1,this.asyncQueue.enqueueAndForget((function(){return t.Da(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Na",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!sl(t)}return!1}}]),e}(),Wy=function(){function e(t,n,r,i){var a=this;Me(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=lu.UNAUTHENTICATED,this.clientId=Pu.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=ue(ce().mark((function e(t){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pu("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return pu("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Fe(e,[{key:"getConfiguration",value:function(){var e=ue(ce().mark((function e(){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new bu(wu.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new xu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(ue(ce().mark((function n(){var r;return ce().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=yv(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Gy(e,t){return Hy.apply(this,arguments)}function Hy(){return Hy=ue(ce().mark((function e(t,n){var r,i;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),pu("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=ue(ce().mark((function e(t){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Td(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Hy.apply(this,arguments)}function Qy(e,t){return Xy.apply(this,arguments)}function Xy(){return Xy=ue(ce().mark((function e(t,n){var r,i;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Yy(t);case 3:return r=e.sent,pu("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return cv(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return cv(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),Xy.apply(this,arguments)}function Yy(e){return Jy.apply(this,arguments)}function Jy(){return Jy=ue(ce().mark((function e(t){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return pu("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,Gy(t,new My);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),Jy.apply(this,arguments)}function Zy(e){return $y.apply(this,arguments)}function $y(){return $y=ue(ce().mark((function e(t){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return pu("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,Qy(t,new Uy);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),$y.apply(this,arguments)}function em(e){return Yy(e).then((function(e){return e.persistence}))}function tm(e){return Yy(e).then((function(e){return e.localStore}))}function nm(e){return Zy(e).then((function(e){return e.remoteStore}))}function rm(e){return Zy(e).then((function(e){return e.syncEngine}))}function im(e){return am.apply(this,arguments)}function am(){return am=ue(ce().mark((function e(t){var n,r;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zy(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=jv.bind(null,n.syncEngine),r.onUnlisten=Kv.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),am.apply(this,arguments)}function om(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new xu;return e.asyncQueue.enqueueAndForget(ue(ce().mark((function i(){return ce().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new qy({next:function(a){t.enqueueAndForget((function(){return Iv(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new bu(wu.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new bu(wu.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Cv(fc(n.path),a,{includeMetadataChanges:!0,Cu:!0});return bv(e,o)},i.next=3,im(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function um(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new xu;return e.asyncQueue.enqueueAndForget(ue(ce().mark((function i(){return ce().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new qy({next:function(n){t.enqueueAndForget((function(){return Iv(e,o)})),n.fromCache&&"server"===r.source?i.reject(new bu(wu.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Cv(n,a,{includeMetadataChanges:!0,Cu:!0});return bv(e,o)},i.next=3,im(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var sm=new Map;function cm(e,t,n){if(!n)throw new bu(wu.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function lm(e,t,n,r){if(!0===t&&!0===r)throw new bu(wu.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function fm(e){if(!us.isDocumentKey(e))throw new bu(wu.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function hm(e){if(us.isDocumentKey(e))throw new bu(wu.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function dm(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":gu()}function pm(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new bu(wu.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=dm(e);throw new bu(wu.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function vm(e,t){if(t<=0)throw new bu(wu.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var ym=function(){function e(t){var n;if(Me(this,e),void 0===t.host){if(void 0!==t.ssl)throw new bu(wu.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new bu(wu.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,lm("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Fe(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),mm=function(){function e(t,n,r){Me(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ym({}),this._settingsFrozen=!1,t instanceof rs?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new bu(wu.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rs(e.options.projectId)}(t))}return Fe(e,[{key:"app",get:function(){if(!this._app)throw new bu(wu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new bu(wu.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ym(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Eu;switch(e.type){case"gapi":var t=e.client;return ku(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Cu(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new bu(wu.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=sm.get(e);t&&(pu("ComponentProvider","Removing Datastore"),sm.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function gm(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=pm(e,mm))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&yu("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=lu.MOCK_USER;else{o=nt(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new bu(wu.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new lu(s)}e._authCredentials=new _u(new Iu(o,u))}}var km=function(){function e(t,n,r){Me(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Fe(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new wm(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Am=function(){function e(t,n,r){Me(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Fe(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),wm=function(e){Be(n,e);var t=He(n);function n(e,r,i){var a;return Me(this,n),(a=t.call(this,e,r,fc(i)))._path=i,a.type="collection",a}return Fe(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new km(this.firestore,null,new us(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Am);function bm(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=xt(e),cm("collection","path",t),e instanceof mm){var a=Ku.fromString.apply(Ku,[t].concat(r));return hm(a),new wm(e,null,a)}if(!(e instanceof km||e instanceof wm))throw new bu(wu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Ku.fromString.apply(Ku,[t].concat(r)));return hm(o),new wm(e.firestore,null,o)}function xm(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=xt(e),1===arguments.length&&(t=Pu.R()),cm("doc","path",t),e instanceof mm){var a=Ku.fromString.apply(Ku,[t].concat(r));return fm(a),new km(e,null,new us(a))}if(!(e instanceof km||e instanceof wm))throw new bu(wu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Ku.fromString.apply(Ku,[t].concat(r)));return fm(o),new km(e.firestore,e instanceof wm?e.converter:null,new us(o))}function Im(e,t){return e=xt(e),t=xt(t),(e instanceof km||e instanceof wm)&&(t instanceof km||t instanceof wm)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Em(e,t){return e=xt(e),t=xt(t),e instanceof Am&&t instanceof Am&&e.firestore===t.firestore&&Ac(e._query,t._query)&&e.converter===t.converter}var _m=function(){function e(){var t=this;Me(this,e),this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new wp(this,"async_queue_retry"),this.qa=function(){var e=kp();e&&pu("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Do.Ao()};var n=kp();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.qa)}return Fe(e,[{key:"isShuttingDown",get:function(){return this.Oa}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Ka(),this.Ga(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;var t=kp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qa)}}},{key:"enqueue",value:function(e){var t=this;if(this.Ka(),this.Oa)return new Promise((function(){}));var n=new xu;return this.Ga((function(){return t.Oa&&t.La?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Ma.push(e),t.Qa()}))}},{key:"Qa",value:function(){var e=ue(ce().mark((function e(){var t=this;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Ma.length){e.next=14;break}return e.prev=1,e.next=4,this.Ma[0]();case 4:this.Ma.shift(),this.Do.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Qf(e.t0)){e.next=12;break}throw e.t0;case 12:pu("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Ma.length>0&&this.Do.To((function(){return t.Qa()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Ga",value:function(e){var t=this,n=this.ka.then((function(){return t.Ba=!0,e().catch((function(e){t.$a=e,t.Ba=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw vu("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ba=!1,e}))}));return this.ka=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Ka(),this.Ua.indexOf(e)>-1&&(t=0);var i=vv.createAndSchedule(this,e,t,n,(function(e){return r.ja(e)}));return this.Fa.push(i),i}},{key:"Ka",value:function(){this.$a&&gu()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Wa",value:function(){var e=ue(ce().mark((function e(){var t;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.ka,e.next=3,t;case 3:if(t!==this.ka){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"za",value:function(e){var t,n=Ue(this.Fa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Ha",value:function(e){var t=this;return this.Wa().then((function(){t.Fa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Ue(t.Fa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Wa()}))}},{key:"Ja",value:function(e){this.Ua.push(e)}},{key:"ja",value:function(e){var t=this.Fa.indexOf(e);this.Fa.splice(t,1)}}]),e}();function Sm(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Ue(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var Tm=function(){function e(){Me(this,e),this._progressObserver={},this._taskCompletionResolver=new xu,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Fe(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),Cm=function(e){Be(n,e);var t=He(n);function n(e,r,i){var a;return Me(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new _m,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return Fe(n,[{key:"_terminate",value:function(){return this._firestoreClient||Dm(this),this._firestoreClient.terminate()}}]),n}(mm);function Nm(e){return e._firestoreClient||Dm(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Dm(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new ns(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Wy(e._authCredentials,e._appCheckCredentials,e._queue,r)}function Rm(e,t,n){var r=new xu;return e.asyncQueue.enqueue(ue(ce().mark((function i(){return ce().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Gy(e,n);case 3:return i.next=5,Qy(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===wu.FAILED_PRECONDITION||e.code===wu.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function Om(e){return function(e){return e.asyncQueue.enqueue(ue(ce().mark((function t(){var n,r;return ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,em(e);case 2:return n=t.sent,t.next=5,nm(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Au(e);return t.fu.delete(0),Tp(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(Nm(e=pm(e,Cm)))}function Pm(e){return function(e){return e.asyncQueue.enqueue(ue(ce().mark((function t(){var n,r;return ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,em(e);case 2:return n=t.sent,t.next=5,nm(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=ue(ce().mark((function e(t){var n;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Au(t)).fu.add(0),e.next=4,Np(n);case 4:n.wu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(Nm(e=pm(e,Cm)))}function Lm(e,t){var n=Nm(e=pm(e,Cm)),r=new Tm;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new By(e,t)}(function(e,t){if(e instanceof Uint8Array)return jy(e,t);if(e instanceof ArrayBuffer)return jy(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Ap(t));e.asyncQueue.enqueueAndForget(ue(ce().mark((function t(){return ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Ly,t.next=3,rm(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function Mm(e,t){return function(e,t){return e.asyncQueue.enqueue(ue(ce().mark((function n(){return ce().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Au(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n._s.getNamedQuery(e,t)}))},n.next=3,tm(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(Nm(e=pm(e,Cm)),t).then((function(t){return t?new Am(e,null,t.query):null}))}function Vm(e){if(e._initialized||e._terminated)throw new bu(wu.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Fm=function(){function e(){Me(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new bu(wu.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gu(n)}return Fe(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var Um=function(){function e(t){Me(this,e),this._byteString=t}return Fe(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Qu.fromBase64String(t))}catch(t){throw new bu(wu.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Qu.fromUint8Array(t))}}]),e}(),jm=Fe((function e(t){Me(this,e),this._methodName=t})),qm=function(){function e(t,n){if(Me(this,e),!isFinite(t)||t<-90||t>90)throw new bu(wu.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new bu(wu.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Fe(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Lu(this._lat,e._lat)||Lu(this._long,e._long)}}]),e}(),Bm=/^__.*__$/,zm=function(){function e(t,n,r){Me(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Fe(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new $c(e,this.data,this.fieldMask,t,this.fieldTransforms):new Zc(e,this.data,t,this.fieldTransforms)}}]),e}(),Km=function(){function e(t,n,r){Me(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Fe(e,[{key:"toMutation",value:function(e,t){return new $c(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function Wm(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gu()}}var Gm=function(){function e(t,n,r,i,a,o){Me(this,e),this.settings=t,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Ya(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Fe(e,[{key:"path",get:function(){return this.settings.path}},{key:"Xa",get:function(){return this.settings.Xa}},{key:"Za",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"tc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Za({path:n,ec:!1});return r.nc(e),r}},{key:"sc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Za({path:n,ec:!1});return r.Ya(),r}},{key:"ic",value:function(e){return this.Za({path:void 0,ec:!0})}},{key:"rc",value:function(e){return hg(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Ya",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.nc(this.path.get(e))}},{key:"nc",value:function(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(Wm(this.Xa)&&Bm.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}]),e}(),Hm=function(){function e(t,n,r){Me(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=r||Ap(t)}return Fe(e,[{key:"ac",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Gm({Xa:e,methodName:t,uc:n,path:Gu.emptyPath(),ec:!1,oc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function Qm(e){var t=e._freezeSettings(),n=Ap(e._databaseId);return new Hm(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Xm(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ac(a.merge||a.mergeFields?2:0,t,n,i);sg("Data must be an object, but it was:",o,r);var u,s,c=og(r,o);if(a.merge)u=new Hu(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Ue(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=cg(t,d,n);if(!o.contains(p))throw new bu(wu.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));dg(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new Hu(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new zm(new Cs(c),u,s)}var Ym=function(e){Be(n,e);var t=He(n);function n(){return Me(this,n),t.apply(this,arguments)}return Fe(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Xa)throw 1===e.Xa?e.rc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.rc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(jm);function Jm(e,t,n){return new Gm({Xa:3,uc:t.settings.uc,methodName:e._methodName,ec:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}var Zm=function(e){Be(n,e);var t=He(n);function n(){return Me(this,n),t.apply(this,arguments)}return Fe(n,[{key:"_toFieldTransform",value:function(e){return new Bc(e.path,new Pc)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(jm),$m=function(e){Be(n,e);var t=He(n);function n(e,r){var i;return Me(this,n),(i=t.call(this,e)).cc=r,i}return Fe(n,[{key:"_toFieldTransform",value:function(e){var t=Jm(this,e,!0),n=this.cc.map((function(e){return ag(e,t)})),r=new Lc(n);return new Bc(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(jm),eg=function(e){Be(n,e);var t=He(n);function n(e,r){var i;return Me(this,n),(i=t.call(this,e)).cc=r,i}return Fe(n,[{key:"_toFieldTransform",value:function(e){var t=Jm(this,e,!0),n=this.cc.map((function(e){return ag(e,t)})),r=new Vc(n);return new Bc(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(jm),tg=function(e){Be(n,e);var t=He(n);function n(e,r){var i;return Me(this,n),(i=t.call(this,e)).hc=r,i}return Fe(n,[{key:"_toFieldTransform",value:function(e){var t=new Uc(e.M,Cc(e.M,this.hc));return new Bc(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(jm);function ng(e,t,n,r){var i=e.ac(1,t,n);sg("Data must be an object, but it was:",i,r);var a=[],o=Cs.empty();qu(r,(function(e,r){var u=fg(t,e,n);r=xt(r);var s=i.sc(u);if(r instanceof Ym)a.push(u);else{var c=ag(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Hu(a);return new Km(o,u,i.fieldTransforms)}function rg(e,t,n,r,i,a){var o=e.ac(1,t,n),u=[cg(t,r,n)],s=[i];if(a.length%2!=0)throw new bu(wu.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(cg(t,a[c])),s.push(a[c+1]);for(var l=[],f=Cs.empty(),h=u.length-1;h>=0;--h)if(!dg(l,u[h])){var d=u[h],p=s[h];p=xt(p);var v=o.sc(d);if(p instanceof Ym)l.push(d);else{var y=ag(p,v);null!=y&&(l.push(d),f.set(d,y))}}var m=new Hu(l);return new Km(f,m,o.fieldTransforms)}function ig(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return ag(n,e.ac(r?4:3,t))}function ag(e,t){if(ug(e=xt(e)))return sg("Unsupported field value:",t,e),og(e,t);if(e instanceof jm)return function(e,t){if(!Wm(t.Xa))throw t.rc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.rc("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ec&&4!==t.Xa)throw t.rc("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Ue(e);try{for(a.s();!(n=a.n()).done;){var o=ag(n.value,t.ic(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=xt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Cc(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Fu.fromDate(e);return{timestampValue:Ul(t.M,n)}}if(e instanceof Fu){var r=new Fu(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ul(t.M,r)}}if(e instanceof qm)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Um)return{bytesValue:jl(t.M,e._byteString)};if(e instanceof km){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.rc("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:zl(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.rc("Unsupported field value: ".concat(dm(e)))}(e,t)}function og(e,t){var n={};return Bu(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):qu(e,(function(e,r){var i=ag(r,t.tc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function ug(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Fu||e instanceof qm||e instanceof Um||e instanceof km||e instanceof jm)}function sg(e,t,n){if(!ug(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=dm(n);throw"an object"===r?t.rc(e+" a custom object"):t.rc(e+" "+r)}}function cg(e,t,n){if((t=xt(t))instanceof Fm)return t._internalPath;if("string"==typeof t)return fg(e,t);throw hg("Field path arguments must be of type string or ",e,!1,void 0,n)}var lg=new RegExp("[~\\*/\\[\\]]");function fg(e,t,n){if(t.search(lg)>=0)throw hg("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Qe(Fm,Nt(t.split(".")))._internalPath}catch(r){throw hg("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function hg(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new bu(wu.INVALID_ARGUMENT,u+e+s)}function dg(e,t){return e.some((function(e){return e.isEqual(t)}))}var pg=function(){function e(t,n,r,i,a){Me(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Fe(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new km(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new vg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(yg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),vg=function(e){Be(n,e);var t=He(n);function n(){return Me(this,n),t.apply(this,arguments)}return Fe(n,[{key:"data",value:function(){return Qn(ze(n.prototype),"data",this).call(this)}}]),n}(pg);function yg(e,t){return"string"==typeof t?fg(e,t):t instanceof Fm?t._internalPath:t._delegate._internalPath}var mg=function(){function e(t,n){Me(this,e),this.hasPendingWrites=t,this.fromCache=n}return Fe(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),gg=function(e){Be(n,e);var t=He(n);function n(e,r,i,a,o,u){var s;return Me(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Fe(n,[{key:"exists",value:function(){return Qn(ze(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new kg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(yg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(pg),kg=function(e){Be(n,e);var t=He(n);function n(){return Me(this,n),t.apply(this,arguments)}return Fe(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Qn(ze(n.prototype),"data",this).call(this,e)}}]),n}(gg),Ag=function(){function e(t,n,r,i){Me(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new mg(i.hasPendingWrites,i.fromCache),this.query=r}return Fe(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new kg(n._firestore,n._userDataWriter,r.key,r,new mg(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new bu(wu.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new kg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new mg(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new kg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new mg(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:wg(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function wg(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gu()}}function bg(e,t){return e instanceof gg&&t instanceof gg?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Ag&&t instanceof Ag&&e._firestore===t._firestore&&Em(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function xg(e){if(dc(e)&&0===e.explicitOrderBy.length)throw new bu(wu.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ig=Fe((function e(){Me(this,e)}));function Eg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var _g=function(e){Be(n,e);var t=He(n);function n(e,r,i){var a;return Me(this,n),(a=t.call(this)).lc=e,a.fc=r,a.dc=i,a.type="where",a}return Fe(n,[{key:"_apply",value:function(e){var t=Qm(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new bu(wu.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){Vg(o,a);var s,c=[],l=Ue(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(Mg(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=Mg(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||Vg(o,a),u=ig(n,"where",o,"in"===a||"not-in"===a);var h=Xs.create(i,a,u);return function(e,t){if(t.S()){var n=vc(e);if(null!==n&&!n.isEqual(t.field))throw new bu(wu.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=pc(e);null!==r&&Fg(e,t.field,r)}var i=function(e,t){var n,r=Ue(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new bu(wu.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new bu(wu.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.lc,this.fc,this.dc);return new Am(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new cc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(Ig);var Sg=function(e){Be(n,e);var t=He(n);function n(e,r){var i;return Me(this,n),(i=t.call(this)).lc=e,i._c=r,i.type="orderBy",i}return Fe(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new bu(wu.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new bu(wu.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new ac(t,n);return function(e,t){if(null===pc(e)){var n=vc(e);null!==n&&Fg(e,n,t.field)}}(e,r),r}(e._query,this.lc,this._c);return new Am(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new cc(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(Ig);var Tg=function(e){Be(n,e);var t=He(n);function n(e,r,i){var a;return Me(this,n),(a=t.call(this)).type=e,a.wc=r,a.mc=i,a}return Fe(n,[{key:"_apply",value:function(e){return new Am(e.firestore,e.converter,kc(e._query,this.wc,this.mc))}}]),n}(Ig);var Cg=function(e){Be(n,e);var t=He(n);function n(e,r,i){var a;return Me(this,n),(a=t.call(this)).type=e,a.gc=r,a.yc=i,a}return Fe(n,[{key:"_apply",value:function(e){var t=Lg(e,this.type,this.gc,this.yc);return new Am(e.firestore,e.converter,function(e,t){return new cc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(Ig);function Ng(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Cg("startAt",t,!0)}function Dg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Cg("startAfter",t,!1)}var Rg=function(e){Be(n,e);var t=He(n);function n(e,r,i){var a;return Me(this,n),(a=t.call(this)).type=e,a.gc=r,a.yc=i,a}return Fe(n,[{key:"_apply",value:function(e){var t=Lg(e,this.type,this.gc,this.yc);return new Am(e.firestore,e.converter,function(e,t){return new cc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(Ig);function Og(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Rg("endBefore",t,!1)}function Pg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Rg("endAt",t,!0)}function Lg(e,t,n,r){if(n[0]=xt(n[0]),n[0]instanceof pg)return function(e,t,n,r,i){if(!r)throw new bu(wu.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=Ue(mc(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(ms(t,r.key));else{var c=r.data.field(s.field);if($u(c))throw new bu(wu.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new bu(wu.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new ic(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Qm(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new bu(wu.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new bu(wu.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!yc(e)&&-1!==c.indexOf("/"))throw new bu(wu.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Ku.fromString(c));if(!us.isDocumentKey(l))throw new bu(wu.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new us(l);u.push(ms(t,f))}else{var h=ig(n,r,c);u.push(h)}}return new ic(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function Mg(e,t,n){if("string"==typeof(n=xt(n))){if(""===n)throw new bu(wu.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yc(t)&&-1!==n.indexOf("/"))throw new bu(wu.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Ku.fromString(n));if(!us.isDocumentKey(r))throw new bu(wu.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return ms(e,new us(r))}if(n instanceof km)return ms(e,n._key);throw new bu(wu.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(dm(n),"."))}function Vg(e,t){if(!Array.isArray(e)||0===e.length)throw new bu(wu.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new bu(wu.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function Fg(e,t,n){if(!n.isEqual(t))throw new bu(wu.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var Ug=function(){function e(){Me(this,e)}return Fe(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(ls(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ju(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Zu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw gu()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return qu(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new qm(Ju(e.latitude),Ju(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=es(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ts(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Yu(e);return new Fu(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Ku.fromString(e);ku(pf(n));var r=new rs(n.get(1),n.get(3)),i=new us(n.popFirst(5));return r.isEqual(t)||vu("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function jg(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var qg=function(e){Be(n,e);var t=He(n);function n(e){var r;return Me(this,n),(r=t.call(this)).firestore=e,r}return Fe(n,[{key:"convertBytes",value:function(e){return new Um(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new km(this.firestore,null,t)}}]),n}(Ug),Bg=function(){function e(t,n){Me(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Qm(t)}return Fe(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=zg(e,this._firestore),i=jg(r.converter,t,n),a=Xm(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Kc.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=zg(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=xt(t))||t instanceof Fm?rg(this._dataReader,"WriteBatch.update",i._key,t,n,o):ng(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Kc.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=zg(e,this._firestore);return this._mutations=this._mutations.concat(new al(t._key,Kc.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new bu(wu.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function zg(e,t){if((e=xt(e)).firestore!==t)throw new bu(wu.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var Kg=function(e){Be(n,e);var t=He(n);function n(e){var r;return Me(this,n),(r=t.call(this)).firestore=e,r}return Fe(n,[{key:"convertBytes",value:function(e){return new Um(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new km(this.firestore,null,t)}}]),n}(Ug);function Wg(e){e=pm(e,km);var t=pm(e.firestore,Cm),n=Nm(t),r=new Kg(t);return function(e,t){var n=new xu;return e.asyncQueue.enqueueAndForget(ue(ce().mark((function r(){return ce().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=ue(ce().mark((function e(t,n,r){var i,a;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Au(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.ci.Ls(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new bu(wu.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=yv(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,tm(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new gg(t,r,e._key,n,new mg(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function Gg(e){e=pm(e,Am);var t=pm(e.firestore,Cm),n=Nm(t),r=new Kg(t);return function(e,t){var n=new xu;return e.asyncQueue.enqueueAndForget(ue(ce().mark((function r(){return ce().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=ue(ce().mark((function e(t,n,r){var i,a,o,u,s;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fd(t,n,!0);case 3:i=e.sent,a=new Mv(n,i.li),o=a.Gu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=yv(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,tm(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new Ag(t,r,e,n)}))}function Hg(e,t,n){e=pm(e,km);var r=pm(e.firestore,Cm),i=jg(e.converter,t,n);return Jg(r,[Xm(Qm(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Kc.none())])}function Qg(e,t,n){e=pm(e,km);for(var r=pm(e.firestore,Cm),i=Qm(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return Jg(r,[("string"==typeof(t=xt(t))||t instanceof Fm?rg(i,"updateDoc",e._key,t,n,o):ng(i,"updateDoc",e._key,t)).toMutation(e._key,Kc.exists(!0))])}function Xg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=xt(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||Sm(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(Sm(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof km)l=pm(e.firestore,Cm),f=fc(e._key.path),c={next:function(t){n[s]&&n[s](Zg(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=pm(e,Am);l=pm(p.firestore,Cm),f=p._query;var v=new Kg(l);c={next:function(e){n[s]&&n[s](new Ag(l,v,p,e))},error:n[s+1],complete:n[s+2]},xg(e._query)}return function(e,t,n,r){var i=new qy(r),a=new Cv(t,i,n);return e.asyncQueue.enqueueAndForget(ue(ce().mark((function t(){return ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=bv,t.next=3,im(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Ia(),e.asyncQueue.enqueueAndForget(ue(ce().mark((function t(){return ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Iv,t.next=3,im(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Nm(l),f,h,c)}function Yg(e,t){return function(e,t){var n=new qy(t);return e.asyncQueue.enqueueAndForget(ue(ce().mark((function t(){return ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Au(e).Eu.add(t),t.next()},t.next=3,im(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Ia(),e.asyncQueue.enqueueAndForget(ue(ce().mark((function t(){return ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Au(e).Eu.delete(t)},t.next=3,im(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Nm(e=pm(e,Cm)),Sm(t)?t:{next:t})}function Jg(e,t){return function(e,t){var n=new xu;return e.asyncQueue.enqueueAndForget(ue(ce().mark((function r(){return ce().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Gv,r.next=3,rm(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Nm(e),t)}function Zg(e,t,n){var r=n.docs.get(t._key),i=new Kg(e);return new gg(e,i,t._key,r,new mg(n.hasPendingWrites,n.fromCache),t.converter)}var $g=function(e){Be(n,e);var t=He(n);function n(e,r){var i;return Me(this,n),(i=t.call(this,e,r))._firestore=e,i}return Fe(n,[{key:"get",value:function(e){var t=this,r=zg(e,this._firestore),i=new Kg(this._firestore);return Qn(ze(n.prototype),"get",this).call(this,e).then((function(e){return new gg(t._firestore,i,r._key,e._document,new mg(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Me(this,e),this._firestore=t,this._transaction=n,this._dataReader=Qm(t)}return Fe(e,[{key:"get",value:function(e){var t=this,n=zg(e,this._firestore),r=new qg(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return gu();var i=e[0];if(i.isFoundDocument())return new pg(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new pg(t._firestore,r,n._key,null,n.converter);throw gu()}))}},{key:"set",value:function(e,t,n){var r=zg(e,this._firestore),i=jg(r.converter,t,n),a=Xm(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=zg(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=xt(t))||t instanceof Fm?rg(this._dataReader,"Transaction.update",i._key,t,n,o):ng(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=zg(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function ek(e,t){return function(e,t){var n=new xu;return e.asyncQueue.enqueueAndForget(ue(ce().mark((function r(){var i;return ce().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return Zy(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new Ky(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(Nm(e=pm(e,Cm)),(function(n){return t(new $g(e,n))}))}function tk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new $m("arrayUnion",t)}function nk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new eg("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){fu=e}(cn),tn(new Dt("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new Cm(i,new Su(e.getProvider("auth-internal")),new Du(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),vn(cu,"3.4.8",e),vn(cu,"3.4.8","esm2017")}();var rk=function(){return rk=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},rk.apply(this,arguments)},ik=function(e){return{loading:void 0===e||null===e,value:e}},ak=function(e){var t=e?e():void 0,n=(0,r.useReducer)((function(e,t){switch(t.type){case"error":return rk(rk({},e),{error:t.error,loading:!1,value:void 0});case"reset":return ik(t.defaultValue);case"value":return rk(rk({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),ik(t)),i=n[0],a=n[1],o=function(){var t=e?e():void 0;a({type:"reset",defaultValue:t})},u=function(e){a({type:"error",error:e})},s=function(e){a({type:"value",value:e})};return(0,r.useMemo)((function(){return{error:i.error,loading:i.loading,reset:o,setError:u,setValue:s,value:i.value}}),[i.error,i.loading,o,u,s,i.value])},ok=function(e,t,n){var i=(0,r.useRef)(e);return(0,r.useEffect)((function(){t(e,i.current)||(i.current=e,n&&n())})),i},uk=function(e,t){var n=!e&&!t,r=!!e&&!!t&&Em(e,t);return n||r},sk=function(e,t){return ok(e,uk,t)},ck=function(e,t){var n=null===t||void 0===t?void 0:t.snapshotOptions,i=function(e,t){var n=ak(),i=n.error,a=n.loading,o=n.reset,u=n.setError,s=n.setValue,c=n.value,l=sk(e,o);(0,r.useEffect)((function(){if(l.current){var e=(null===t||void 0===t?void 0:t.snapshotListenOptions)?Xg(l.current,t.snapshotListenOptions,s,u):Xg(l.current,s,u);return function(){e()}}s(void 0)}),[l.current]);var f=[c,a,i];return(0,r.useMemo)((function(){return f}),f)}(e,t),a=i[0],o=i[1],u=i[2],s=[lk(a,n),o,u,a];return(0,r.useMemo)((function(){return s}),s)},lk=function(e,t){return(0,r.useMemo)((function(){return null===e||void 0===e?void 0:e.docs.map((function(e){return e.data(t)}))}),[e,t])},fk="Loader_wrapper__p8WWG",hk="Loader_lds-roller__cD7vv",dk=function(){return(0,ie.jsx)("div",{className:fk,children:(0,ie.jsxs)("div",{className:hk,children:[(0,ie.jsx)("div",{}),(0,ie.jsx)("div",{}),(0,ie.jsx)("div",{})]})})},pk=function(){var e=Ae((function(e){return e.firebaseStore.auth})),t=Ae((function(e){return e.firebaseStore.firestore})),n=Ce(),r=c(ck(t.collection("users").orderBy("createdAt")),2);r[0];function i(){return(i=ue(ce().mark((function t(){var r,i;return ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new Un.auth.GoogleAuthProvider,t.prev=1,t.next=4,e.signInWithPopup(r);case 4:i=t.sent,i.user,n(Wn()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),alert("You canceled your registration");case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))).apply(this,arguments)}return r[1]?(0,ie.jsx)(dk,{}):(0,ie.jsxs)("div",{className:Le,children:[(0,ie.jsx)("h1",{children:"Telegram copy"}),(0,ie.jsx)("h5",{children:"By IvanNugiban"}),(0,ie.jsx)("img",{src:Gn,alt:""}),(0,ie.jsx)(Pe,{onClick:function(){return i.apply(this,arguments)},children:"Login"})]})},vk={Contact:"CreateContact_Contact__xaVnJ",Contact__text:"CreateContact_Contact__text__1SgPl",Contact__time:"CreateContact_Contact__time__c8FQg",dark:"CreateContact_dark__S+Cl2",active:"CreateContact_active__VXnRT"},yk=function(e){var t=e.theme,n=e.contact,r=e.index,i=e.click,a=e.active,o=[vk.Contact,vk[t]];return a?o.push(vk.active):o=[vk.Contact,vk[t]],(0,ie.jsxs)("div",{onClick:i,id:r,className:o.join(" "),children:[(0,ie.jsx)("img",{src:n.logo,alt:""}),(0,ie.jsxs)("div",{className:vk.Contact__text,children:[(0,ie.jsx)("span",{children:n.name}),(0,ie.jsx)("span",{children:n.text})]}),(0,ie.jsx)("span",{className:vk.Contact__time,children:n.time})]})},mk="Contact_wrapper__pqWFF",gk=function(e){var t=e.contacts,n=e.choosenContactSetter,i=e.theme,a=(0,r.useRef)(void 0);function o(e){var r=e.target.closest("div[id]").id;t[r].active||(t[a.current]&&(t[a.current].active=!1),t[r].active=!0,a.current=r,n(t[r]))}return(0,ie.jsx)("div",{className:i,children:(0,ie.jsx)("div",{className:mk,children:t.length?t.map((function(e,t){return(0,ie.jsx)(yk,{theme:i,active:e.active,contact:e,index:t,click:o},t)})):(0,ie.jsx)("h3",{children:"There are no contacts yet"})})})},kk="BurgerMenu_BurgerMenu__Rr2LA",Ak="BurgerMenu_BurgerMenu__img__7885b",wk=function(e){return(0,ie.jsx)("div",Re(Re({},e),{},{className:kk,children:(0,ie.jsx)("img",{className:Ak,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALiQAAC4kBN8nLrQAACxVJREFUeJzt3X/ob3ddwPHndu/m5o+L2jRtdqddTQ13nbm2chBokabij6IhhdUflUaMot9IQX8YBBERSYPCZFEEGY6N1ippLMGGstLrApV2y8tEcrWmm3P37u5u/XH2pYt3u11v9/t5nd3v4wH37/eT+8/79X2f9zmfAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtss50wGn6NnVW6vXVvurvdWeatdkFAA73qPV/dWh6kB1S3Vjdc9k1KlY+wDw8uo91dXV+cMtAHAqHqo+WL23+sxwyxNa6wBwQct/3M9Wu4dbAOB0PFz9XvVr1eHhlhOscQD45pbjk8umQwDgDPhk9ZbqrumQ461tANhX3Vq9YLgDAM6ku1rusR2cDtmypgHgoupj1bdMhwDANjhYXdlKLgieOx1wnOuy+QNw9trXstetwloGgB+p3jgdAQDb7E3VD09H1DoeAZxX3dnybj8AnO0OVS+pjk5GrOEE4Ops/gDsHJdUPzQdsYYB4EenAwBgw8b3vulHABdWX8pX/gDYWR6qnlk9OBUwfQLw7dn8Adh5zm/ZA8dMDwAvHV4fAKaM7oHTA8BFw+sDwJTnTi4+PQA4/gdgpzpvcvHpAeArw+sDwJTRPXB6AFjVLyMBwAaN7oHTA8C/DK8PAFM+Nbn49HcAqr5QPX86AgA26AvVxZMB0ycAVR+aDgCADRvf+9ZwArC/OjAdAQAbtL+6YzJgDScAn6pumI4AgA25vuHNv9ZxAlC1r+VC4AXTIQCwjR6sXlH923TIrumAx9xb3VO9eToEALbRz1R/Px1R6xkAqm6vnlNdMR0CANvgfdV7pyO2rGkAqPqblm8jf8d0CACcQX9QXTMdcby1DQCPVje1PA74nmr3bA4A/L8cqX6u+o3hjhOsbQDY8vHqL1t+KnHfcAsAnI6/rd5W3Twd8njW8hbAybymelf19uoZwy0AcDL3tbzafm1123DLST0ZBoAtu6vLWz6ecEm1p+GfUgRgxzvWsukfavmo3e3V0dEiAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC+xjnTAafoadUbq9dW+6u91Z5q92QUADveI9X91aHqQHVLdXP1lcmoU7H2AeBF1S9X72wZAgBg7R6o/rT6repzsylPbK0DwHnVr7ds/k8ZbgGA03GkZQj4zerocMsJ1jgAPK+6vvrO6RAAOANuq95efXE65HhrGwD2Vre2HP0DwNniYMs9trumQ7asaQB4VsuU9NLpEADYBp+uvqv68nRI1bnTAcf5QDZ/AM5eL6/ePx2xZS0DwDuqt05HAMA2+8HH/o1bwyOA3dWd1SXTIQCwAQdbTryPTUas4QTg6mz+AOwc+6ofmI5YwwDwY9MBALBh43vf9COAp1b3VucPdwDAJh1uefvt8FTA9AnAq7P5A7DzXFC9ajJgegDw2h8AO9XLJhefHgCeM7w+AEx57uTi0wPAhcPrA8CU0Ufg0wPAV4fXB4ApD0wuPj0AfH54fQCYMvrDQNMDwB3D6wPAlNE9cPo7ALuq/2x5FxIAdoovVs+vHp0KmD4BOFbdMNwAAJt2fYObf80PAFV/OB0AABv2R9MBaxgAbqtumY4AgA356+qfpyOm7wBsubT6p+q86RAA2EZHqldWn50O2TUd8Ji7q6PV906HAMA2+sXqpumIWs8AUPXR6sXV/ukQANgGf1y9Zzpiy5oGgKobq5e0PBIAgLPFddVPNnzz/3hrGwAeqT7U8nrgd7eOS4oAcLoebvmr/5da0eZf67kE+Hgur95XXTkdAgCn4aPVNdUnpkMez5oHgC1vqN5dfX/Dv5wEAP+HIy2v+V1bfXi45aSeDAPAlqdXV7VcEtxb7Wl9jzAA2FmOVfdVh6oD1T82/Ct/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABft3OmA74OF1ZXVpdVe6unV+eOFgGw0z1S3V8dqg5UH6sOjxadoifDAPC66qerN7UMAQCwVl+t/qq6trp1NuXk1jwAvKr6/eqq6RAAOA3/UF1T3TEd8nh2TQc8gV+t/rx64XAHAJyuF1Y/UT1Q3TabcqK1DQC7qg9Uv5Dn+wA8+e2qXl9dXN1UPTqb87/WNgC8v/rx6QgAOMNeXX1jyxCwCmsaAH6++pXpCADYJpdXd1e3T4fUei4Bflv1ier86RAA2EaHq0urO6dD1vKc/Xez+QNw9rug+p3piFrHCcAVLR9OAICd4rKWDweNWcMJwLumAwBgw35qOmD6BODclgsR3zDcAQCb9B/VNzX4WuD0CcArsvkDsPM8r/rWyYDpAWD/8PoAMOXSycWnB4AXDK8PAFP2Ti4+PQA8dXh9AJjytMnFpweAh4fXB4ApD00uPj0A3D28PgBMGd0DpweAzw6vDwBTRvfA6e8APKP672r3cAcAbNKR6lnVg1MB0ycA91cfGW4AgE27pcHNv+YHgKo/mQ4AgA27bjpg+hFA1VOqg9XF0yEAsAH/3vIVwNE34XZNLv6YY9U91dumQwBgA95d3TEdsYYTgC03V2+YjgCAbXRDK/mDd00DwEXVx6sXTYcAwDb41+rK6t7pkFrHJcAt/1V9X/X56RAAOMMOVa9vJZt/rWsAqLqzuqr65HQIAJwht1evabn8txpruAT4tb7c8nrEhdUVrW9IAYBTcbT67eqd1ZeGW06wxgGgllcj/q76YPXM6mWttxUAjnek+rPqHdVftLzttjprugR4Ms+u3lK9rnply28o78npAACzHqnuqz5XHWj5wt+NrfAvfgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYHP+B2j79naddbd8AAAAAElFTkSuQmCC",alt:""})}))},bk={HeaderLeft:"HeaderLeft_HeaderLeft__iXUN+"},xk={PopUpItem:"PopUpItem_PopUpItem__bLQJd",dark:"PopUpItem_dark__jlx-u",logo:"PopUpItem_logo__ayPhS",text:"PopUpItem_text__vPFYi"},Ik={switch:"ToggleSwitch_switch__4JJ9K",slider:"ToggleSwitch_slider__U4JkU",dark:"ToggleSwitch_dark__Udzvh",round:"ToggleSwitch_round__WwbP4"},Ek=function(e){var t=e.theme,n=e.text,i=e.togglerState,a=e.func,o=e.click,u=e.dispatch;return(0,r.useEffect)((function(){u(a(i)),localStorage.setItem(n,i)}),[u,a,n,i]),(0,ie.jsx)("div",{className:Ik.wrapper,children:(0,ie.jsxs)("label",{className:Ik.switch,children:[(0,ie.jsx)("input",{onChange:o,className:Ik[t],checked:i,type:"checkbox"}),(0,ie.jsx)("span",{className:[Ik.slider,Ik.round,Ik[t]].join(" ")})]})})},_k=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,r.useState)(e),n=c(t,2),i=n[0],a=n[1],o=(0,r.useCallback)((function(){return a((function(e){return!e}))}),[]);return[i,o]},Sk=function(e){var t=e.theme,n=e.logo,r=e.text,i=e.func,a=e.switcherNeeded,o=Ce(),u=c(_k((function(){return JSON.parse(localStorage.getItem(r))})),2),s=u[0],l=u[1];function f(){o(i(s)),a&&l()}return(0,ie.jsxs)("div",{onClick:f,className:"".concat(xk.PopUpItem," ").concat(xk[t]),children:[(0,ie.jsx)("span",{className:xk.logo,children:(0,ie.jsx)("img",{src:n,alt:""})}),(0,ie.jsx)("span",{className:xk.text,children:r}),a?(0,ie.jsx)(Ek,{dispatch:o,click:f,text:r,theme:t,func:i,togglerState:s}):(0,ie.jsx)("span",{})]})},Tk={wrapper:"PopUpWindow_wrapper__ugf56",dark:"PopUpWindow_dark__aye5y",active:"PopUpWindow_active__PB1sR",PopUpWindow:"PopUpWindow_PopUpWindow__sha5K"},Ck=function(e){var t=e.setClicked,n=e.theme,i=Ae((function(e){return e.options.options})),a=Ae((function(e){return e.options.logined})),o=Ae((function(e){return e.firebaseStore.auth}));function u(e){e.target.closest("#PopUpWindow")||t(!1)}return(0,r.useEffect)((function(){return document.body.addEventListener("click",u),function(){document.body.removeEventListener("click",u)}}),[]),(0,r.useEffect)((function(){a||o.signOut()}),[a]),(0,ie.jsx)("div",{id:"PopUpWindow",className:"".concat(Tk.wrapper," ").concat(Tk[n]),children:(0,ie.jsx)("div",{className:Tk.PopUpWindow,children:i.map((function(e,t){return(0,ie.jsx)(Sk,{theme:n,logo:e.logo,text:e.text,func:e.func,switcherNeeded:e.SwitcherNeeded},t)}))})})},Nk={Form:"SearchBar_Form__o4Oc1",dark:"SearchBar_dark__SYtrQ",searchIcon:"SearchBar_searchIcon__tOr+G"},Dk="MyInput_MyInput__eI+U1",Rk=function(e){return(0,ie.jsx)("input",Re({className:Dk},e))},Ok=function(e){var t=c((0,r.useState)(e),2),n=t[0],i=t[1];return{bind:{value:n,onChange:function(e){i(e.target.value)}},clear:function(){i("")}}};var Pk=n.p+"static/media/search.22075a79917f4fa105aaeab98e950815.svg",Lk={contacts:[{logo:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAABF1BMVEUNhsv///8RhMsAAAANitH+eIkAhMoNi9IAfsgAgckAgMn8/PwNiM0Ojtf6///5+fnv7+93sN0AescAABrw8PAARG2UkpAAHTv1+fzK4fIAU4Hb29s5MioJAAC2tbQAJEMAS3cLfLytrKsAZJp9enfW1tYAOF7+b4IAABXGxsbk5OTV5vSoyehRn9YxkNGCtN++2O5Al9Le6/awzulgpNibmpgrIxoABSZMR0IANFUAaqJgYGA+Pj6+vr7NzcxYVFCQveFxbmwbDQAAAA0kFwMtIxgAFDFQS0aioaCGg4EGO1oWAAD+3uH5s7n9ys5mYl/+lqP/7e/+ipf/oKvvoKn8zc30d4ciIiLrh5Plzs/+vsMsLCwUFBRFEOQUAAALbUlEQVR4nO2ceVfiSBeHU1RMWBKCIovsAYQGAVdksRGx3RjtRttu552e+f6f461KQAFZCqgEUie/M2ecP+aYery37laVcGCmwgel0na5Uqlwjk0Th1ZV3i6VDsKzEbhZdIdlp9PtcggCt5kSBIfL7XSWD2dRTiU82K44XZuKNirB5axsHyxIeHTsdq174QvJ5T4+WoDwqOK0hvWGJTgrExknEJ6cWZAPS3CenZAQltyOdS91aTncpbmE4bJ73ctcSe7yeFgdI9yTrBVgPssl7c0iPN1Z9wIpaOd0OmHJue7VUZGzNI2wxIIFsXZKkwmZcFFdw476QXjEhovqch59JjywSBFKJsF1ME4YllgCRIhSeIywbPU8OC5XeZSQkTwxrEHO0AlPmNqEugTXyRDhGWs+iuU6+yBkKlF8SE8ZGmGFPR/FEioDQkZN2DciJjxm04TIiMc64QGrJkRGPNAIt1kMpLpc25gwzGicwRIqYUS4x66TIjfdQ4SH7DopctNDRMhsJMVC0ZQLs9PZT9JOmGN6G+KNyJVY3oZoI5a4K8YJr7gzlgMNCjVnHMP5HkuocNK612CwJI5tE3Kcwya0vGxC68smtL5sQuvLJrS+bELryya0vmxC68smtL5sQuvLJrS+bELryya0vmxC68tcQl418WF9mUooqTAjmvc4XWYSSpK/DVWzzyvNJORDPVCFpj2uLxMJxVxMAaBzZ7KfmkcoR659+MpuLGcuommEYgZGtYvlPhgxFdEsQl6Fhf4bHvuwyZvyTF0mEaI88fD+qlXC1IBqEiHvzw69Edj9ZuIdF3MIxWQbDKudNM9PTSGUAzHPCKESC5gWbQwnlERRTUEfGFUxnpF5czzVYEJRbgYgrO+DcV3CZKTJyaJkOKaRhDyvBuBNp+D5xIdzRrV3C/2BjMCLxhrTMEJJ5DJ3sFNQJuENfDWRrcNaoMkZCWkUoSik4PnD+PabIF8ie408VpWNCj2GECL7pWC9MB+vr2i1Dv0p1RhLGkGI7df+HFzmmLL3+C2l8vQtSZ+Q5zPw/nIxPk27rR6sIXelXAxQJ5SbtcfWEnw6ZKIOQxlRpOmtlAl5Lgery/Jp8lVvYQBtSWpLokoooSawXVwJEKvQg8kmT4uRJiHPNWBiZT6sYjBey1BiXJRQ4nlRnOxDYhO2CRIgmZT0NYxQYVyMUBKFTCCXC0TUzw8XU0NNLg0lYjDDTWckxV+IUFQbsJ4NVru9uD8ijTyBF5LnUaqASC3EOAWElyMZMsRFCOUIzPbjiJI496tD2VlUYW9WBbqsEte1pvw5d/ByMwn/IqsOFiDkGzfDVqoOTejlDAwawIf1ABvCqLFQKMh8iVc7KdqE+kAXAO/g2ZfvY0Fk3KWT/Fz5OijkDJlR5CIwllZAl3BMQEzIZx5xoPR4sTzAg5q+aFxHFANx6ltwWJfnofcdIaOW8177cwZzMmVCLdV5vE/ffyiKTgn2NUeVG+fUksRkebowgnEkGYW6Xr+mp03IR+rot3q9P/L5/DP6qTy9IHctQJQ2QnUjYsyoLq+TqE1u3sHu+x+TNqFYS2uEP7e2tvIv3h9bCNSD44CavJ84paAspfcl4r+tDjkLZUJJhbsYsE+obOEff9BzLmB76qroqhpLjPhKl/CEh5CQz5zjP6TX+ye/lX8FT3lM+Ir24q6BUXS2snRjqRjAU3lkQ/D9+Y/X+/KGCX/haNOCxu/CiaKcD8UkqjmVX8/fFZ0TB5y3J4B34EVnPYTtCNWqTaoVAPiOsF5RIvR6Xjwvv3+/6FnRBxccyVBSnW5dKuDjzWfkmm9F8PScz2+9egZ5HwTrayGMNclmHWSEKJT6+oT/+N60MPNTy/lYyuSuPnrx94WBpY7nhvBuDjGhgr10K/8/3z9bmvJPnpl5sAixjCt2fHHCY1ZCL9UIldf8zyfwJ68T/gAzCYMa4WpTqVmKQrodsEaIajXUWfzqE/72ziTsaoRG9VS4syEraRYkxK3F88BLZxMWNMJlJsNkSocMIfQgwlfNhvln7+x9qLmpcU6KShqqXjooSzGhtg/zz8o8QuAr9OOM8n5Gs/os9V1twnRISihAvDgE5fF6fr29/fyB0yFpT1Ec2DL9NzVAhTRZEHdPfm1HYUKEpmg/yZum6H/tS5+vcAG/UiMsQtILK6S9RSit/2YN0asXp+RStNwRjEJqbpq4I50Wk1bejZGgsRCerl3cgnS/ao1IdPWOizjQkHdP3ZUXhXUBuw/dr3D1X3ZOfDeOlDCVnf9UEhWynW5i9VquSH41jpQw0lmdjqIeQsTH4cSE9X1je/nCxdcFDnbqhO0vOSGnNmC8HSxQTNmjauFgS7wTFnBSYkJJ5NRMDsJYNmFI0/evVsaS/gH3DSDE4kVRaAZqEPYe9mnPSDVA8nlIp0F7Hw4kSaIsNCNJCJHL0mxvLzDgf7uk/7uPeiwdxRQ1l/0C69kErY3p+4oIyW9RgW6S1IjL3lSQeJFXMwE/vO2lqczaPIUEsQUBNiLhIGqluxjYZblmJARhvVpYZHk0VK3R7YBnYPIyp0YayGW7iaIZZzR97T5SnSbOpcQbE0XZWCdNPcpOU5Dw9SJ6N4Z4HuWSVAjG76uXZhxleAhfTKF76wu5LI9c9huMdVs+o40ZJAunBtwv5WVp4LJRI41JmBMNugWNcgly2Tt40zbQZbNEZ6TG3dXvuywqf7DLGkEYJTKi0W+UYMpMrgbPs+kidWO2SQ5JzXgrCJc/OMre9qr7VAuDFsnZhVlv5/E8z2GXjde7M8qf3QW9+YZgLGzq2+q8LGsV+zWq2Ce5rG/REVWVYJhh9jcVUPgR1WYgBG8+u2xx4RkcShhzn7iOr0ZIWi5BLnt93x1qMpUlhowE1xXW9V0MSW+/chBF2X6T+W9nYUCQ8G8soS5tYwbu4GPvIdpZ5lBDmX/WvfZvmyBbipw2F1kqkXRS84y4dkIs1EqLS94ea32b1whvBCE+NVjyAqDvcV403RBCfukT/7nRdDMI+eb5koDgYd6Nhc0gFHNLn7ftz/sczIYQ3i3/vtS8seKGENYWGAaP3cWatxE3hZA4VxQTF6OlQXXOEcZmEMoNkuthu4VqOw4hTI8YsVWzgg35zO0806U759DfiDTVyF94+vwxypt372QzCDnxywwjKpfBOgylmir+/IKkjfJy+igPU3rmdFAbQiip0+7ARR/a17CREXh+6OWnj1Hew+W8y8IbQoi/shS7HA2SHl8reA9hKKLKE76D8jHKi88eZWwKIcdzEXjTqbb2i8XofiEdzN4/wlouonIz38/XRnmW8FIs1ESlkjXttNsfyqXQwsk+e2KJurQv3PfrEtF/UPp0zUYRGiKb0PqyCa0vm9D6sgmtL5vQ+rIJrS+b0PqyCa0vm9D6sgmtL5vQ+rIJrS+b0PpyrHsBhsvBVda9BIPl4I4Zd1OJO2PcUY+5K9e612CoXIdciXHCErfnXPciDJX7lAvvrHsRhmonzAGmg6nAeThwyPJGdG0DDjC9EZ1HiDAsseumghBGhIDhnO8oA0y45173QgyT+0gjBBVW3VQQgE54yqoR3Vd9QsBqG+wEA8IjNhOGu/ROCI5ZDKdCBXwQnrBY16Bs/0EIrtgLNqhgGyYEFdb8VKh4RgnDAmPxdOcEjBKyFk/7m3CYEJyyhKgnijFCcMVOt+88A5MI2UEcBhwhRI7KRLhxXoFphODUxQCiswSmE4I9yep5UfiIohMJQfjY2iHVXTkAswlxAWddMwo7V+Fxns+E4OTYqgHnswEnE6L6RnJbj1FwjYWYWYQAlDiL+argdl1N/o76FEIUVctuy0A6XM7y0TSQqYRoP55uO52uDc+Qgsvl3Dm7OpmOMYMQKXxSKpX7cyoB/zP413qpBqtBqpRKJ5/C54j+D9w5C7Q5GHwVAAAAAElFTkSuQmCC",name:"\u0421\u0430\u043d\u0430",text:"\u0413\u043e \u0432 \u0434\u0431\u0434",time:"19:00",active:!1},{logo:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHCBUVFRgVFRUZGBgYGBgYGBwYGBoYGRkYHBgaGRoaGBgcIS4lHB4rIRgZJjgmKy8xNTU1HCQ7QDszPy40NTEBDAwMEA8QHhISHzQhJCs0NDQxNDQ0NDQ0NDQ0ND00NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NP/AABEIAMMBAgMBIgACEQEDEQH/xAAcAAABBQEBAQAAAAAAAAAAAAACAAEDBAUGBwj/xAA7EAACAgAFAgQDBgQFBAMAAAABAgARAwQSITFBUQUiYXEGgZETMlKhsdEHQsHwFBUjYuEWcoLxM0OS/8QAGAEBAQEBAQAAAAAAAAAAAAAAAAECAwT/xAAlEQEBAAIBBAIBBQEAAAAAAAAAAQIRIQMSMVFBYRMEFCKBkTL/2gAMAwEAAhEDEQA/AOoVZKqxASRRMNnVZIqxlElUQhBYSiOBDVZoMohgRwIQEBgIYEVQgIDVCAiAhVAaoqhVFUAaiqFURhDVFUyPEviTLYBp8QA9px3jn8QhYTABN2QeO4+nWTaO/wA7nsPCUviOqACySamAvxZl9ZOsVzfp2955b4iczmLOM7sNjV0K6AevrMtshiA8UPU7S6pt7Xj/ABhlVNHEvvQv5TVyHiSYwtDc+fcRCotj7AHmDgZwoxKYjoxFgqxG/qfkekapuPpAwSJ4dlPjzNYbIDis6CgSQHH1K2f12nsfg/iuFmcNcTDcOp6juOQR0MC4YBkpEAiURMQBZNCZuP4si3y1dQNvrLXin3DvXEwMWgllqrcWP92/yqcOrnljdR0wxl5qd86Xogn0riuvvKGZJKt5jYKg0NgfeQ5/xYYS4hP/ANWzc8MAykem/SJ8NmLKTSY2F5T1Rz1v23+U47t8u0knhcwAmGFLEWdG/Vy1+UStmM4w+yKISr4jo1HdEOo6vXcSp/lorBfEZj/hVcNuTqJUEEjqeZpqSMUpoCqUVlr8XmuEZOKc4pKqqlQSAbO4BoRS5heKkAAvZAAJ0Hc1vFH8V3l6dGokiiCokiiepwGokiiMohrAICGojCOJpBAQwIwEMCAgI9RxHgNUcCKPAVRVEYoQpzHxr8RplcLnzngck9qE2fGM+MDDZyRsDzx+XM8I8a8ZbFxy7nXdHfat+g6cQM3O4z4jF8Syzknf3Ow9BxL3hSaVbHfc2QgI+pj+Jsj4QxFG4NNXSxZ/v0j+JgrgooNbCwO/JvvzN614Y3tUzPijMfvV7cR8DxBur6h133HyMynEJE9K/K+nWZ5XTaxcLULSyNvQj1oTMcUSDdDkcH5dJby2G4osraeNunbeW8bLa1sbnqDQIm9bTemHh4lHYV6c/r1mh4R4pj5Zy2BiFVJth/KTX8y8XM3MYZViDBUnpd9+sxY09u8F/iBgYiJ9sro7EL90spbva3Q950+Tzy4l6Vda41rpv1AO/wBQJ85ZbEax94kUVo9t+OvtPa/gDNYeYywxvs8NcRWZHKALenglRxYo1Gh0PieFrw2A5qx3nLYGC5fU7jTpp09T295rN8QI5x0Tf7IjDJ66zdiuwGnfuT2mVTOu3lfTwedSkV8jPP1tbjt0/CTOKmlS4B10rihRHAvvM/Hw1YYgZz/puMRADuBXBA6c/Waq4YdW1HjbbnVyfoZSwMFG14uHqLO6K4Io2h0tz0qcrHSVPmbfWUFhsMFf9z1t9KhlSGXGcgaU0sCetin+lwcyrEpoGy4q6qNUlG/1jZ3AVkxVxDqRtyLC0gAsX0HWaRxOe+DmbEdgz0zsR5uhYkdIp2645oUdunP7RS91RuKJKogKJIondyEskWAskE0CEIRhCWEGsMQBDEBxCjCPAQiiEeEICMxhSLNYmhGar0qTXehxCPNv4m/EB0nLoQONZri+LM8txyNjqBNbleJP4j4g2O512SzEt/3Wbodh09oWQyAdwCbSydq3Vf06XEFpaXA0G7feq47H1kXi2YtUB50AmHmxqLMPursPkNqkWLhK+CGumRiD3KEjb9am974TStlkFF2+6Nz/AEhtkTbhy6uoBAC3bFlsNZBQUSeDwBW9ixkEOIjCwEB2HWwCeg7HvvXtJ8fP4bMSBpXSqqo1EKByFOq6u61FqBocCp4agcng4hSmOwNDvpIsbHpvJ8TGCVvv0voK6SbBzBcF3th5a63pUAA3wAABXQCvSYWZxNTH04/aa3qMWbLxDED0RyNjKgF0LqGiEgtXlG19L5qABvM1paRGS1K7n7puqI3BHXj1E0Mh4nmMAk4GM6BwNY6E8WOfqKMymzTEgkk1XPpxJkx0JtxYroaqz0jhHU/BniKhsdHNtiFGO5LWnLev3ub6TvGXe9tirCuqXvc89+CvDg+Kzfaf/FqfSDYDG1RieuzN+U7nAtVIYgoPKw4tWPlo9Kv8p5+rOXbp3gYQJra6/wBTWSTSkNQ+np6RfaOS+gE0yhQu2olvNV8LXMmdcMGiNWqsM3wdIsX7RsoWDA/dGhyxv7vmoTjXSXgaYbFn1NzWmhxpNt+0iRFN4jWUxKVlq9ilV85FlsQA4JLahuljYMzDtJXwmXCdFIYB9lG3m1bj2HPyl8qP7N+iium/SNJft0GxQ2NjzFJv7X+m0skWAskUT1POJZIsBZIs0CAhLBENYQ4hiCIQgEI8YRxCHjxhHhClXxTECYOI5FhUZiO9KTLUp+L46Jg4juQFCNzuNwQBXX2ij518QyROadMFdTayFVAOa82kDYKDfsOTOswPCAiUzAuQAxFabr7qkDf1PX5SsMRMthg4aefEFkn77r+J+wP4Rt7yhmPEXILPt+GtvYdu0VqRa8S8Jcra19RUwcrhEYuiudjYv3uptZbOfbIU1BXFVe112PeVk8OcYltsSOnX/wAus3J6ZrJxS2GzIreU9uN+3bgfQQcBAWF8frLmLlGJNb9fnIkyjL97y0Rzt7yaGrnXVEVdgCOK3r+7nP5ltyanQeJZU6FY8KNI35G3ac3mXJ25MuTMX8sjDDbg6qFdQeQa+RlBlq5MGZTfaSeJUX1KKDAN9RJfCqIjr6w0y5YEgWBufQd5fyWUVhZINcr3Q/zLXO/SJFQ5DOPlzrw2pmBDdiORPQfhXxlsZdWIKZ9xX3WCkg12qtxOFbLYYG/mGkkVY3HTffcby98JeKNh46YTEaCbUno3p2vqPSY6mO41jlqvUwR5lQfdcOCeCvp+cZE06gxtSTd9Uc8H2kOWexTeXzsgrerG1yuhLKytZOgoB+JkO081unaTa9lsJEIwVCqAjMgUVsp6f/qRYmKC+C5YgMOK2uxuT36fOMDif6DlQCBpxBe4UpY0996EbDy7HDb7agEZ3XSatSSRfYgVFtvJJJwLGbzHfqeg7xSD7PV5hoo7j2O4ik23p1SiGsBYaz0vONZIICiGJoOIYjRxCCEIRhCEBxHEQjwhxHjCPCFPO/jzMZnFbRg4LuiE0dlRmGxLEkWoP6TqvjDxV8rlMXHQAsoULe27MFv5XfynhuN47jYrlsd2dSSWAYqOKAG+w6fMycbWSlnFxSxLsNY5A4A9K6Sjj4uI/lPSzXHvXeXMTN5dh/pK4N76iCPSiKrrz36yvmMcFduVY7+hA29tjNcHKlgMb2NflOqXGZcEMWDFa9QRvx9BOVw8E9dh3M6LJ5rD+z0Uzcny7HjvxLilTZfNq+6jr0HHHO+3FS4dLeVqar7b8bX9N5jY+UbD04iWVIthtag/i78SY55qqlPz4HNkczW/bNir4ln1W8NBQBIo77HehfrMXLl2cKlWx5oXXueBJs2SSSTzv3/ONkF8xN1Q+kzvda1qNbDwVGJpch1CMxI6kD/3KuZwdWhfRh+ZI/f5yLM5kNWnYKoUdL5N/UmLLZ0hrYXtt6EVR/L85dxnR/DsTSdJNAnS399pM4VCWV7O1r73ZHpVfOUMXEtiR1Mi+0O9dZNrpYzOMGr/AMgR87H13gJiacVGbbSyMD/tFSve80cwgKIa56diNjX4W69jvJ5Xw9ey2XQrqrVqCkVuBQ8phHKuytpoE8Hsb/ac14dm8xo14S3gkAEE7p0LL6dx/wCpstkMZwC2YfDPUIV0/mJ5cp8O8vy0PsgfOxAGkj+hMhzGaw0BDOpNbjYkqCAbHUbytieDYSimd3IBolzdAWeKgJlMAElMJS6Vd7sQdxv1sD8pm7jWtrKeLZShRFUK/uopLgZ3AZVYaaIBHsRcUvHuM7dEsNZGskE9DmkEIQAYYmkEIQgiEDAMQhAEIQDEcRhHhKeOY0eEcL/FTFYZZFH3Wch66jSdt9t954woraye1810n0X8R+FrmcBsI7E7qfwtwD+c8J8RyBwMR8F6tG0bDZRvek8nlfqfeTXLUvCjgDABRmVzQfWAwXUa8mkgWBZ3B7c70AxHWidNdlHA32snc+5N8SXGUHdV3FA13r13J4+nzlRzxt+o6yoDWzHr6TTyeW00zmr4HUnpQ/oZm4TldxX9/wBZo+H4LMbALNvzdA/vLBu4GcB2PmYn7puwOvsKEwvFXOorRsGyaq79gKEuvjrhhRduR5q6AE7f1+UysbE1uSDQvn1+ctvwRdyzpoKEAkKTRH6Sn4e609jkHbuACd+0J8BUQsXGvpVNYPN1JPCEs6GUm742NN5jv7CWeUqgwqARNfHyYOP9moOnV+old8oVJFWFNSXE2osJGyzVwfDHcWF5Fj6w8z4SUC6iLNWL45G/zFR202zMtgF2CjrwfXpLGeYl9xpbbUBxYAH0mi+T+xXErfZD6gFiLB+n1mS5JJY/WLNE5d38J4znCCKdnGoAmqKsExB7UV/Obv8Ag9eAMI4hVmbSGB3oG1o+wnHfB/iSpiJhuaQFgvoXAq/QkV71O7XGw9Cp92im5F+YnT+88/UnLrjeEuIinQSxIQFwQaDUCh1dx1kq5VQKQHygaT3oWLPXkiUMu6liNJpQ6qK2o2aPuRLa4xcA0RpRWHIFlTt6kGpzdEf+Xp+AfQxTQperm+saO1NtdYYgrDWehyEIYgiEJoEIQgQgYRIIQMjBkggEI8aPcMnEeDccGUJxPCv4l5Yr4g4GwZEck7ACyCxP0/Ke7TyT+MuVXVgYoYb60cew1IT9G+slWOTyDZfGX7Nl0NvpN6S538xG9dOvXrW9LPYOh2XWeo6G+11wK4+cy2xLonkcGEc01b1243+sbVdXXpJUg73WkX67H5b+kixc4+4vSvZfKPpKpzL9/wC7uQvfWTYsPi2ASep/pJcXMJoAXkE88/WUSePSPKJcuupwD1M0UddezEDgnuAenbiUsk5RtVA7Eb+or+skFk6iR5m9hZ34HTeJUrocuxZS4FFiBfYAd/Y/lAy2bVSCaIa7vtqAB/K5ljMkKFB2UtfqDtY+UjxsQX5eKUfRQP1E33M9rWx/GmDMFFKGIA7C9pFn8B2PJrSlnnYgFj9Zjk3c08TxNnXQRVlRq4oX1iZb8rrXhO2Y1EKd9aHDPbUN0J9yq/WYbvwB6H5y9nCUK1swRT/5A8/pIMZFYa/5STqHVSTf9fyi0gExKIYbEFevYgiexYWIrIpIsNRvaiShY/mJ48VFEMdJG4YcMp4u56P8P55mwsIldRGgHpVgofcTj1G8W1hMLYADYI3uTyR+cupiKRXHmZfoQBXeyZmsXZmULsEXS38pYMbU/IfnCxcy6gjQd2tD3BC17b39J57dOsm1bGwMTUfKvJ6nv7RTU/xbHfQd/QxTHbPbfd9OgUQxGVZIFnu7a82yEIQlWOFl7U2COIemOFjtTYVkoiCwgJe1NhhARxUWoDrHabICVs/4hh4CF8V1RRuSxAnG/F/8Q8PLFsLAH2mKNif5EP8AuPf0E8l8W8Xx80+vHcuei8Iv/av9ZLZ8E3XffEn8Ty1plF241sNv/Fes87zWcfFYviOzserG/oOkgMj4Mw2F0owQJNqvk+0FHI6D5zQjMTywFoXKrwHAk2AilqJr1kIEmOHtdwJMOg1Nencbfl+csBgWBIHt0uj+0oNJRmjseojaDDbxy20gOLe55PMdn8tdjz3B6QqXDfkd5fwM4gQhkUmrB9hxXrMvATUavepPiJpABI3iWxKuY2bw3H3dJA8u9/K+xlXCzmjUAisG5Dcj5yHDQE1BxqD7ekttEq4oZSukem/Hpv0mz4D40+XGggOm9A9CRVg/0mLoGx6ekkANgA8kC5nKbnKy6r2TK4utUcEkOU2GwFL1HeR4iMUAZhqAaulEP+0o/DXhpy6aXdnBTUvmoK43Hy5+suDLMaBfbz33pxYN9xwJ58o643lpsRZ84+n/ABFIQqdcSz1PeKNxdOgUv3EkAbuPpCCw1Wep5whG/FEFP4jJQkWiBHXqYgPUwmWNCHVYYUSMGGDKDAHaeffxJ+LvsE/w+Aw+1f7xG5Re/v2na57xFMLTrYKWNCzW9XPn74nzf22cxsTYgvpBHBCitjM30SM1r9ydyTySepMEHvDYXBKQ0Z3ldnuTOsgMKQaHg7sOsjlvLJp3PJgSYu+0ifDA4hYri9oBMngt2jjlzVRFY1SgCY0OozLACIGGAIlq94QKPUdnJNk3LH+G8uqVtJ7QHXEI4jqhO8SJ0mhliqDfkxIiHBw2Xe9pISeQPaPiYokSYu/NS8D0D4O8RfGw3Rz50VhZP4vu0O86XBwtqZr1JhX/ALVVreveeVeEZ77HGVzuh8r11U7Haej5bCQrqRyQQic2dP3hZ9bnn6k1XbG7jRdNzSrVmopWbPLZ5inHujrqu4UQxAUGSgT3PGQMe44EepRG0EiZXxL8S5fIqGxm8zXoRRbPXYfMb8bzzXP/AMUsy7f6OEiL0127EetUBJtY9O8W8YwcsurFdU9zzOJzX8UsLzDDw3Y/ynhSfn0nm/jfjGLm8Q4mMQT/ACqPuqPQTPGKRJumm98SfE2PnGH2lKq8KvF+pmOsiDExy9QqW4xeTZTBOIQoodyd7keZy2hyhIJHaBCzi95XcyU7RiR2gRoLIE0nFpt7TOqjcuq4raFV1EkVd4NQtUBItmSPgESJSRvNhHV0B61+cSDFYRgZLjLvIiIQ6qOkbCw7NGNDD94GpiKqqBY4upm4+PcZga2N/rIDtLakiRGqM72YIIjyBCFogiSosKfBejuLE6P4e8YbAxFRt8NnU79DWkG/YznB2MsPibSWbmqsuq9Gf4hwQSNa7EiKZOB/D4sqscYWQCfKOouKce3D7dO7J3R8ZzP4VHzg/wCZ5k9VHt/7jphDtcnTbpM8/Npx6ir/AI3Mn+f8oQxcfq5lz7SuggYrkgiuQZdT3f8ATf1Hj3xH4q+bx3Yny4QKrZuxq3PzqYpUkgLW/r27ze8X+HsRcVzhDSpJ2P57ymvw/j6fur72f2m8erhrW2bhlvwyQ0E+guay/DuNxa36bzX8N+GyoOo6r+kZdfCTi7MellfPDlQrnpEcJl3IM75fBlA+7Gfw3bZbvvOP7n6dPwz24nLEM1ayoPaPjoEY0wexyd+f6zfxvhcsSRa324kf/STWPMRXpOk/UYM3o5OfwMMudIFnmWf8uc9BOnyfw79mdXJPUy8PDD7Tnl+p5/i3j0eOXEN4diAWRtARKE7vDyGryniZ2c+EbLHDxCt70RYEuHXl/wCmculrw5XTfpF9mOvSa7/DOYF0yN9RK7fDuZ32UfPn8p2nUxvy59uXpklqMs5LMAMBxZqWv+m8f/bfuf2lPMeFY+GNTIaHUb1U1M8fill9L2Yy2oEjm6mc2GQaljJ5+wFY7jg9/wDmHjinsjY7+83WVIiICXM5lSqhu53rpKmEekgZDXpDxEL7jcjt1H9Y+Jh17QFYqRR9RCBOEw5UgeoMcIe0v5nPu6BWOynoOT/x/WVFJMkWo9BhJtCcbesHDMqJ1pq3o/kYeBgFnUGwQw2rsesgdDV0al/J53RofYugP3uCOBdGzUlnDUru/wDMH/D+TRTkv+ps0dximvREr5eSKc/x5e43+Seq9a9oYQmXsPKVJVy84breooJl/SSjBllyo63IiCeny/cx3GmNn8ipN8n++spDw0Hn6CdG+B3grlh7TnljLdty1h4XhSjoJZOVUcATW0DoIIwr2AsxMZF5Yr5O+n5Q08Nr9p0GHlK947ZUCLibYJyCiRtkxzX/ADNv7CuKkbZXqZm4rKx/8H1IH1gvk1NDvNV8t6ewgHLje+T/AHUzo2z8DKKNwL6DaE2VUdJr4OCFHAkTrZ4Xf3m9SRndtZC5cdoDYC9prsn+1YNCuBE0MNsAXxzIMTKAiiB6ftN/Sdh5e/Hp2gHDa7IFb9IVxviPw1g4i7oqN+JRpPoduZht8J5hSArI4HViVP0oz0bHyfmsDkfIGDjZM15Qb9x85rHq5YpcMcnnmZ8FzQ2+xDCq2dSOl8kGtpUxPA8bSQuVa9QIOtbWgQR97cH+gnp65Zu19v2ibJMewv1nT9zl6Z/Di8sy/heZUjVl2PT+VhR5vfaFj+H5kYZU4KqiNrtqDKQKIXe9J22rkT08+HHuL9/+JDnvCtaOmuiylbq6B9OvMs6+V+EvSx9vHiLHPr8zBUzSz3gePgMythMVU7MoJVh3scfOZQcaiONztv8ATeemZS+HG46WnTD+xLFz9rr2UDy6KF2e97+wjYKYZwmJdhihtl02rKfW7vneq6HoYDjy9NjZ9qlfWvevWNml58UaANW56eldZGrIU4AZQwJ336qfQjj1ls5R3TTh4Du3R1RqPqTVTR8B+F8w7EuDhAEffWy29+UWONt5Ms5JtZjbdOt8P8ZzX2WH/p/yJ0b8I9IpuYWJiAAc0ALo77R54+527a6teZDmHNVcUUogwBLKxRQpjAfrFFJViPoJdyo8t97/AFiilhRtsDIT+0UUlSBTk/31jvz9IopFR4vJ9v6yricRRTNWLLjaIoL4iimmUbDYyLGQbbdo0UlIBtvr+0bH5iij2o2/v6wDzFFJSIev9+sdooploRH6/vBbp/feKKbZPVg/I/lKjZPDxK+0w1f/ALlDfrFFL6RVx/AcqoOnL4QtqPkXcduJWHg2WQ6kwMIMKIIRbB7jaKKaytSNBuPpDVYopyjaaKKKUf/Z",name:"\u0411\u0438\u043c",text:"\u0413\u0430\u0432",time:"10:00",active:!1}]},Mk="ADD_CONTACT",Vk="CHANGE_CONTACTS",Fk=function(e){var t=e.theme,n=Ok("").bind,i=Ce(),a=(0,r.useRef)();return(0,r.useMemo)((function(){a.current=Lk.contacts.filter((function(e){return e.text.toLocaleLowerCase().includes(n.value.toLocaleLowerCase())||e.name.toLocaleLowerCase().includes(n.value.toLocaleLowerCase())}))}),[n.value]),(0,r.useEffect)((function(){var e;i((e=a.current,{type:Vk,payload:e}))}),[a.current]),(0,ie.jsx)("div",{children:(0,ie.jsxs)("form",{className:"".concat(Nk.Form," ").concat(Nk[t]),children:[(0,ie.jsx)("label",{className:Nk.searchIcon,htmlFor:"search",children:(0,ie.jsx)("img",{src:Pk,alt:""})}),(0,ie.jsx)(Rk,Re(Re({},n),{},{name:"search",placeholder:"Search",type:"text"}))]})})},Uk=function(e){var t=e.theme,n=c((0,r.useState)(!1),2),i=n[0],a=n[1];return(0,ie.jsxs)("div",{className:"".concat(bk.HeaderLeft," ").concat(bk[t]),children:[(0,ie.jsx)(wk,{onClick:function(){return a(!0)}}),(0,ie.jsx)(Fk,{theme:t}),i?(0,ie.jsx)(Ck,{theme:t,setClicked:a}):(0,ie.jsx)("span",{})]})},jk=function(e){var t=e.contacts,n=e.choosenContactSetter,r=e.theme;return(0,ie.jsx)("div",{className:r,children:(0,ie.jsxs)("div",{className:"LeftSide ".concat(r),children:[(0,ie.jsx)(Uk,{theme:r}),(0,ie.jsx)(gk,{theme:r,contacts:t,choosenContactSetter:n})]})})},qk="Chat_container__xt8zf",Bk="Chat_Chat__zLAFv",zk="Chat_Chat__form__MJTXY";function Kk(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Wk;Object.create;var Gk="facebook.com",Hk="github.com",Qk="google.com",Xk="password",Yk="twitter.com",Jk="EMAIL_SIGNIN",Zk="PASSWORD_RESET",$k="RECOVER_EMAIL",eA="REVERT_SECOND_FACTOR_ADDITION",tA="VERIFY_AND_CHANGE_EMAIL",nA="VERIFY_EMAIL";function rA(){return Ne({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var iA=function(){var e;return Ne(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Ne(e,"argument-error",""),Ne(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Ne(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Ne(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Ne(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Ne(e,"cordova-not-ready","Cordova framework is not ready."),Ne(e,"cors-unsupported","This browser is not supported."),Ne(e,"credential-already-in-use","This credential is already associated with a different user account."),Ne(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Ne(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Ne(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Ne(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Ne(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Ne(e,"email-already-in-use","The email address is already in use by another account."),Ne(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Ne(e,"expired-action-code","The action code has expired."),Ne(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Ne(e,"internal-error","An internal AuthError has occurred."),Ne(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Ne(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Ne(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Ne(e,"invalid-auth-event","An internal AuthError has occurred."),Ne(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Ne(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Ne(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Ne(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Ne(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Ne(e,"invalid-email","The email address is badly formatted."),Ne(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Ne(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Ne(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Ne(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Ne(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Ne(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Ne(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Ne(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Ne(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Ne(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Ne(e,"wrong-password","The password is invalid or the user does not have a password."),Ne(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Ne(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Ne(e,"invalid-provider-id","The specified provider ID is invalid."),Ne(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Ne(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Ne(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Ne(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Ne(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Ne(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Ne(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Ne(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Ne(e,"missing-continue-uri","A continue URL must be provided in the request."),Ne(e,"missing-iframe-start","An internal AuthError has occurred."),Ne(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Ne(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Ne(e,"missing-multi-factor-info","No second factor identifier is provided."),Ne(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Ne(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Ne(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Ne(e,"app-deleted","This instance of FirebaseApp has been deleted."),Ne(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Ne(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Ne(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Ne(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Ne(e,"no-auth-event","An internal AuthError has occurred."),Ne(e,"no-such-provider","User was not linked to an account with the given provider."),Ne(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Ne(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Ne(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Ne(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Ne(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Ne(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Ne(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Ne(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Ne(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Ne(e,"rejected-credential","The request contains malformed or mismatching credentials."),Ne(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Ne(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Ne(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Ne(e,"timeout","The operation has timed out."),Ne(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Ne(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Ne(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Ne(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Ne(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Ne(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Ne(e,"unverified-email","The operation requires a verified email."),Ne(e,"user-cancelled","The user did not grant your application the permissions it requested."),Ne(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Ne(e,"user-disabled","The user account has been disabled by an administrator."),Ne(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Ne(e,"user-signed-out",""),Ne(e,"weak-password","The password must be 6 characters long or more."),Ne(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Ne(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},aA=rA,oA=new ft("auth","Firebase",rA()),uA=new Kt("@firebase/auth");function sA(e){if(uA.logLevel<=Lt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];uA.error.apply(uA,["Auth (".concat(cn,"): ").concat(e)].concat(n))}}function cA(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw dA.apply(void 0,[e].concat(n))}function lA(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return dA.apply(void 0,[e].concat(n))}function fA(e,t,n){var r=Object.assign(Object.assign({},aA()),Ne({},t,n));return new ft("auth","Firebase",r).create(t,{appName:e.name})}function hA(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&cA(e,"argument-error"),fA(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function dA(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Nt(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Nt(o)))}return oA.create.apply(oA,[e].concat(n))}function pA(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw dA.apply(void 0,[t].concat(r))}}function vA(e){var t="INTERNAL ASSERTION FAILED: "+e;throw sA(t),new Error(t)}function yA(e,t){e||vA(t)}var mA=new Map;function gA(e){yA(e instanceof Function,"Expected a class definition");var t=mA.get(e);return t?(yA(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,mA.set(e,t),t)}function kA(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function AA(){return"http:"===wA()||"https:"===wA()}function wA(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var bA=function(){function e(t,n){Me(this,e),this.shortDelay=t,this.longDelay=n,yA(n>t,"Short delay should be less than long delay!"),this.isMobile=it()||ut()}return Fe(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(AA()||ot()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function xA(e,t){yA(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var IA=function(){function e(){Me(this,e)}return Fe(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void vA("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void vA("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void vA("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),EA=(Ne(Wk={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Ne(Wk,"MISSING_CUSTOM_TOKEN","internal-error"),Ne(Wk,"INVALID_IDENTIFIER","invalid-email"),Ne(Wk,"MISSING_CONTINUE_URI","internal-error"),Ne(Wk,"INVALID_PASSWORD","wrong-password"),Ne(Wk,"MISSING_PASSWORD","internal-error"),Ne(Wk,"EMAIL_EXISTS","email-already-in-use"),Ne(Wk,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Ne(Wk,"INVALID_IDP_RESPONSE","invalid-credential"),Ne(Wk,"INVALID_PENDING_TOKEN","invalid-credential"),Ne(Wk,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Ne(Wk,"MISSING_REQ_TYPE","internal-error"),Ne(Wk,"EMAIL_NOT_FOUND","user-not-found"),Ne(Wk,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Ne(Wk,"EXPIRED_OOB_CODE","expired-action-code"),Ne(Wk,"INVALID_OOB_CODE","invalid-action-code"),Ne(Wk,"MISSING_OOB_CODE","internal-error"),Ne(Wk,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Ne(Wk,"INVALID_ID_TOKEN","invalid-user-token"),Ne(Wk,"TOKEN_EXPIRED","user-token-expired"),Ne(Wk,"USER_NOT_FOUND","user-token-expired"),Ne(Wk,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Ne(Wk,"INVALID_CODE","invalid-verification-code"),Ne(Wk,"INVALID_SESSION_INFO","invalid-verification-id"),Ne(Wk,"INVALID_TEMPORARY_PROOF","invalid-credential"),Ne(Wk,"MISSING_SESSION_INFO","missing-verification-id"),Ne(Wk,"SESSION_EXPIRED","code-expired"),Ne(Wk,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Ne(Wk,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Ne(Wk,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Ne(Wk,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Ne(Wk,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Ne(Wk,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Ne(Wk,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Ne(Wk,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Ne(Wk,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Ne(Wk,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Ne(Wk,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Wk),_A=new bA(3e4,6e4);function SA(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function TA(e,t,n,r){return CA.apply(this,arguments)}function CA(){return CA=ue(ce().mark((function e(t,n,r,i){var a,o=arguments;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",NA(t,a,ue(ce().mark((function e(){var a,o,u,s;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=mt(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",IA.fetch()(PA(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),CA.apply(this,arguments)}function NA(e,t,n){return DA.apply(this,arguments)}function DA(){return(DA=ue(ce().mark((function e(t,n,r){var i,a,o,u,s,l,f,h,d,p;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},EA),n),e.prev=2,a=new LA(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw MA(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,l=s.split(" : "),f=c(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw MA(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=25;break}throw MA(t,"email-already-in-use",u);case 25:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw fA(t,p,d);case 30:cA(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof lt)){e.next=37;break}throw e.t0;case 37:cA(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])})))).apply(this,arguments)}function RA(e,t,n,r){return OA.apply(this,arguments)}function OA(){return OA=ue(ce().mark((function e(t,n,r,i){var a,o,u=arguments;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,TA(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&cA(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),OA.apply(this,arguments)}function PA(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?xA(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var LA=function(){function e(t){var n=this;Me(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(lA(n.auth,"network-request-failed"))}),_A.get())}))}return Fe(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function MA(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=lA(e,t,r);return i.customData._tokenResponse=n,i}function VA(e,t){return FA.apply(this,arguments)}function FA(){return(FA=ue(ce().mark((function e(t,n){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",TA(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function UA(e,t){return jA.apply(this,arguments)}function jA(){return(jA=ue(ce().mark((function e(t,n){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",TA(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qA(e,t){return BA.apply(this,arguments)}function BA(){return(BA=ue(ce().mark((function e(t,n){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",TA(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zA(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function KA(){return KA=ue(ce().mark((function e(t){var n,r,i,a,o,u,s=arguments;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=xt(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,pA((a=GA(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:zA(WA(a.auth_time)),issuedAtTime:zA(WA(a.iat)),expirationTime:zA(WA(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),KA.apply(this,arguments)}function WA(e){return 1e3*Number(e)}function GA(e){var t=c(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return sA("JWT malformed, contained fewer than 3 sections"),null;try{var a=$e(r);return a?JSON.parse(a):(sA("Failed to decode base64 JWT payload"),null)}catch(o){return sA("Caught error parsing JWT payload as JSON",o),null}}function HA(e,t){return QA.apply(this,arguments)}function QA(){return QA=ue(ce().mark((function e(t,n){var r=arguments;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof lt&&XA(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),QA.apply(this,arguments)}function XA(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var YA=function(){function e(t){Me(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Fe(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(ue(ce().mark((function t(){return ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=ue(ce().mark((function e(){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),JA=function(){function e(t,n){Me(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Fe(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=zA(this.lastLoginAt),this.creationTime=zA(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function ZA(e){return $A.apply(this,arguments)}function $A(){return $A=ue(ce().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,HA(t,qA(r,{idToken:i}));case 6:pA(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?nw(o.providerUserInfo):[],s=tw(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new JA(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),$A.apply(this,arguments)}function ew(){return(ew=ue(ce().mark((function e(t){var n;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=xt(t),e.next=3,ZA(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tw(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Nt(n),Nt(t))}function nw(e){return e.map((function(e){var t=e.providerId,n=Kk(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function rw(e,t){return iw.apply(this,arguments)}function iw(){return(iw=ue(ce().mark((function e(t,n){var r;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,NA(t,{},ue(ce().mark((function e(){var r,i,a,o,u,s;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mt({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=PA(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",IA.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var aw=function(){function e(){Me(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Fe(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){pA(e.idToken,"internal-error"),pA("undefined"!==typeof e.idToken,"internal-error"),pA("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=GA(e);return pA(t,"internal-error"),pA("undefined"!==typeof t.exp,"internal-error"),pA("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=ue(ce().mark((function e(t){var n,r=arguments;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],pA(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=ue(ce().mark((function e(t,n){var r,i,a,o;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rw(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return vA("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(pA("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(pA("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(pA("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function ow(e,t){pA("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var uw=function(){function e(t){Me(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Kk(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new YA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?Nt(a.providerData):[],this.metadata=new JA(a.createdAt||void 0,a.lastLoginAt||void 0)}return Fe(e,[{key:"getIdToken",value:function(){var e=ue(ce().mark((function e(t){var n;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,HA(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(pA(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return KA.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return ew.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(pA(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){pA(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=ue(ce().mark((function e(t){var n,r,i=arguments;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,ZA(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=ue(ce().mark((function e(){var t;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,HA(this,VA(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,y=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,m=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,A=n.emailVerified,w=n.isAnonymous,b=n.providerData,x=n.stsTokenManager;pA(k&&x,t,"internal-error");var I=aw.fromJSON(this.name,x);pA("string"===typeof k,t,"internal-error"),ow(f,t.name),ow(h,t.name),pA("boolean"===typeof A,t,"internal-error"),pA("boolean"===typeof w,t,"internal-error"),ow(d,t.name),ow(p,t.name),ow(v,t.name),ow(y,t.name),ow(m,t.name),ow(g,t.name);var E=new e({uid:k,auth:t,email:h,emailVerified:A,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:m,lastLoginAt:g});return b&&Array.isArray(b)&&(E.providerData=b.map((function(e){return Object.assign({},e)}))),y&&(E._redirectEventId=y),E}},{key:"_fromIdTokenResponse",value:function(){var t=ue(ce().mark((function t(n,r){var i,a,o,u=arguments;return ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new aw).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,ZA(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),sw=function(){function e(){Me(this,e),this.type="NONE",this.storage={}}return Fe(e,[{key:"_isAvailable",value:function(){var e=ue(ce().mark((function e(){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ue(ce().mark((function e(t,n){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ue(ce().mark((function e(t){var n;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ue(ce().mark((function e(t){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();sw.type="NONE";var cw=sw;function lw(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var fw=function(){function e(t,n,r){Me(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=lw(this.userKey,a.apiKey,o),this.fullPersistenceKey=lw("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Fe(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=ue(ce().mark((function e(){var t;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?uw._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=ue(ce().mark((function e(t){var n;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=ue(ce().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(gA(cw),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=ue(ce().mark((function e(t){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||gA(cw),u=lw(i,n.config.apiKey,n.name),s=null,c=Ue(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=uw._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=ue(ce().mark((function e(t){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function hw(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(yw(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(dw(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(gw(t))return"Blackberry";if(kw(t))return"Webos";if(pw(t))return"Safari";if((t.includes("chrome/")||vw(t))&&!t.includes("edge/"))return"Chrome";if(mw(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function dw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt();return/firefox\//i.test(e)}function pw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function vw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt();return/crios\//i.test(e)}function yw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt();return/iemobile/i.test(e)}function mw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt();return/android/i.test(e)}function gw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt();return/blackberry/i.test(e)}function kw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt();return/webos/i.test(e)}function Aw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt();return/iphone|ipad|ipod/i.test(e)}function ww(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt();return Aw(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function bw(){return st()&&10===document.documentMode}function xw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt();return Aw(e)||mw(e)||kw(e)||gw(e)||/windows phone/i.test(e)||yw(e)}function Iw(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=hw(rt());break;case"Worker":t="".concat(hw(rt()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(cn,"/").concat(r)}var Ew=function(){function e(t,n,r){Me(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sw(this),this.idTokenSubscription=new Sw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oA,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return Fe(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=gA(t)),this._initializationPromise=this.queue(ue(ce().mark((function r(){var i,a;return ce().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,fw.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=ue(ce().mark((function e(){var t;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=ue(ce().mark((function e(t){var n,r,i,a,o;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return pA(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=ue(ce().mark((function e(t){var n;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=ue(ce().mark((function e(t){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ZA(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=ue(ce().mark((function e(){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=ue(ce().mark((function e(t){var n;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?xt(t):null)&&pA(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=ue(ce().mark((function e(t){var n=this;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&pA(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(ue(ce().mark((function e(){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=ue(ce().mark((function e(){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(ue(ce().mark((function n(){return ce().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(gA(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new ft("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=ue(ce().mark((function e(t,n){var r;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=ue(ce().mark((function e(t){var n;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return pA(n=t&&gA(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,fw.create(this,[gA(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=ue(ce().mark((function e(t){var n,r;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(ue(ce().mark((function e(){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=ue(ce().mark((function e(t){var n=this;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(ue(ce().mark((function e(){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return pA(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=ue(ce().mark((function e(t){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return pA(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Iw(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=ue(ce().mark((function e(){var t,n,r;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ne({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function _w(e){return xt(e)}var Sw=function(){function e(t){var n=this;Me(this,e),this.auth=t,this.observer=null,this.addObserver=At((function(e){return n.observer=e}))}return Fe(e,[{key:"next",get:function(){return pA(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Tw(e,t,n){var r=_w(e);pA(r._canInitEmulator,r,"emulator-config-failed"),pA(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Cw(t),o=function(e){var t=Cw(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Nw(r.substr(a.length+1))}}var o=c(r.split(":"),2);return{host:o[0],port:Nw(o[1])}}(t),u=o.host,s=o.port,l=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Cw(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Nw(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Dw=function(){function e(t,n){Me(this,e),this.providerId=t,this.signInMethod=n}return Fe(e,[{key:"toJSON",value:function(){return vA("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return vA("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return vA("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return vA("not implemented")}}]),e}();function Rw(e,t){return Ow.apply(this,arguments)}function Ow(){return(Ow=ue(ce().mark((function e(t,n){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",TA(t,"POST","/v1/accounts:resetPassword",SA(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pw(e,t){return Lw.apply(this,arguments)}function Lw(){return(Lw=ue(ce().mark((function e(t,n){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",TA(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mw(e,t){return Vw.apply(this,arguments)}function Vw(){return(Vw=ue(ce().mark((function e(t,n){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",TA(t,"POST","/v1/accounts:update",SA(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fw(e,t){return Uw.apply(this,arguments)}function Uw(){return(Uw=ue(ce().mark((function e(t,n){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",RA(t,"POST","/v1/accounts:signInWithPassword",SA(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jw(e,t){return qw.apply(this,arguments)}function qw(){return(qw=ue(ce().mark((function e(t,n){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",TA(t,"POST","/v1/accounts:sendOobCode",SA(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bw(e,t){return zw.apply(this,arguments)}function zw(){return(zw=ue(ce().mark((function e(t,n){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jw(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kw(e,t){return Ww.apply(this,arguments)}function Ww(){return(Ww=ue(ce().mark((function e(t,n){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jw(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gw(e,t){return Hw.apply(this,arguments)}function Hw(){return(Hw=ue(ce().mark((function e(t,n){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jw(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qw(e,t){return Xw.apply(this,arguments)}function Xw(){return(Xw=ue(ce().mark((function e(t,n){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jw(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yw(e,t){return Jw.apply(this,arguments)}function Jw(){return(Jw=ue(ce().mark((function e(t,n){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",RA(t,"POST","/v1/accounts:signInWithEmailLink",SA(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zw(e,t){return $w.apply(this,arguments)}function $w(){return($w=ue(ce().mark((function e(t,n){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",RA(t,"POST","/v1/accounts:signInWithEmailLink",SA(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var eb=function(e){Be(n,e);var t=He(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Me(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Fe(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=ue(ce().mark((function e(t){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Fw(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Yw(t,{email:this._email,oobCode:this._password}));case 5:cA(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=ue(ce().mark((function e(t,n){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Pw(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Zw(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:cA(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Dw);function tb(e,t){return nb.apply(this,arguments)}function nb(){return(nb=ue(ce().mark((function e(t,n){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",RA(t,"POST","/v1/accounts:signInWithIdp",SA(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var rb=function(e){Be(n,e);var t=He(n);function n(){var e;return Me(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Fe(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return tb(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,tb(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,tb(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=mt(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):cA("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Kk(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Dw);function ib(e,t){return ab.apply(this,arguments)}function ab(){return(ab=ue(ce().mark((function e(t,n){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",TA(t,"POST","/v1/accounts:sendVerificationCode",SA(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ob(){return(ob=ue(ce().mark((function e(t,n){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",RA(t,"POST","/v1/accounts:signInWithPhoneNumber",SA(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ub(){return(ub=ue(ce().mark((function e(t,n){var r;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,RA(t,"POST","/v1/accounts:signInWithPhoneNumber",SA(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw MA(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var sb=Ne({},"USER_NOT_FOUND","user-not-found");function cb(){return(cb=ue(ce().mark((function e(t,n){var r;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",RA(t,"POST","/v1/accounts:signInWithPhoneNumber",SA(t,r),sb));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var lb=function(e){Be(n,e);var t=He(n);function n(e){var r;return Me(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Fe(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return ob.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return ub.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return cb.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Dw);var fb=function(){function e(t){var n,r,i,a,o,u;Me(this,e);var s=gt(kt(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);pA(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return Fe(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=gt(kt(e)).link,n=t?gt(kt(t)).deep_link_id:null,r=gt(kt(e)).deep_link_id;return(r?gt(kt(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(fy){return null}}}]),e}();var hb=function(){function e(){Me(this,e),this.providerId=e.PROVIDER_ID}return Fe(e,null,[{key:"credential",value:function(e,t){return eb._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=fb.parseLink(t);return pA(n,"argument-error"),eb._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();hb.PROVIDER_ID="password",hb.EMAIL_PASSWORD_SIGN_IN_METHOD="password",hb.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var db=function(){function e(t){Me(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Fe(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),pb=function(e){Be(n,e);var t=He(n);function n(){var e;return Me(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Fe(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Nt(this.scopes)}}]),n}(db),vb=function(e){Be(n,e);var t=He(n);function n(){return Me(this,n),t.apply(this,arguments)}return Fe(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return pA(e.idToken||e.accessToken,"argument-error"),rb._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return pA("providerId"in t&&"signInMethod"in t,"argument-error"),rb._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(pb),yb=function(e){Be(n,e);var t=He(n);function n(){return Me(this,n),t.call(this,"facebook.com")}return Fe(n,null,[{key:"credential",value:function(e){return rb._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(fy){return null}}}]),n}(pb);yb.FACEBOOK_SIGN_IN_METHOD="facebook.com",yb.PROVIDER_ID="facebook.com";var mb=function(e){Be(n,e);var t=He(n);function n(){var e;return Me(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Fe(n,null,[{key:"credential",value:function(e,t){return rb._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(fy){return null}}}]),n}(pb);mb.GOOGLE_SIGN_IN_METHOD="google.com",mb.PROVIDER_ID="google.com";var gb=function(e){Be(n,e);var t=He(n);function n(){return Me(this,n),t.call(this,"github.com")}return Fe(n,null,[{key:"credential",value:function(e){return rb._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(fy){return null}}}]),n}(pb);gb.GITHUB_SIGN_IN_METHOD="github.com",gb.PROVIDER_ID="github.com";var kb=function(e){Be(n,e);var t=He(n);function n(e,r){var i;return Me(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Fe(n,[{key:"_getIdTokenResponse",value:function(e){return tb(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,tb(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,tb(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Dw),Ab=function(e){Be(n,e);var t=He(n);function n(e){return Me(this,n),pA(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Fe(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=kb.fromJSON(e);return pA(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return kb._create(r,n)}catch(i){return null}}}]),n}(db),wb=function(e){Be(n,e);var t=He(n);function n(){return Me(this,n),t.call(this,"twitter.com")}return Fe(n,null,[{key:"credential",value:function(e,t){return rb._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(fy){return null}}}]),n}(pb);function bb(e,t){return xb.apply(this,arguments)}function xb(){return(xb=ue(ce().mark((function e(t,n){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",RA(t,"POST","/v1/accounts:signUp",SA(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}wb.TWITTER_SIGN_IN_METHOD="twitter.com",wb.PROVIDER_ID="twitter.com";var Ib=function(){function e(t){Me(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Fe(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=ue(ce().mark((function t(n,r,i){var a,o,u,s,c=arguments;return ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,uw._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Eb(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=ue(ce().mark((function t(n,r,i){var a;return ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Eb(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Eb(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function _b(){return _b=ue(ce().mark((function e(t){var n,r,i,a;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_w(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Ib({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,bb(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Ib._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),_b.apply(this,arguments)}var Sb=function(e){Be(n,e);var t=He(n);function n(e,r,i,a){var o,u;return Me(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(je(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Fe(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(lt);function Tb(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Sb._fromErrorAndOperation(e,n,t,r);throw n}))}function Cb(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Nb(e,t){return Db.apply(this,arguments)}function Db(){return Db=ue(ce().mark((function e(t,n){var r,i,a,o;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xt(t),e.next=3,Pb(!0,r,n);case 3:return e.t0=UA,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Cb(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Db.apply(this,arguments)}function Rb(e,t){return Ob.apply(this,arguments)}function Ob(){return Ob=ue(ce().mark((function e(t,n){var r,i,a=arguments;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=HA,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Ib._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Ob.apply(this,arguments)}function Pb(e,t,n){return Lb.apply(this,arguments)}function Lb(){return(Lb=ue(ce().mark((function e(t,n,r){var i,a;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ZA(n);case 2:i=Cb(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",pA(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mb(e,t){return Vb.apply(this,arguments)}function Vb(){return Vb=ue(ce().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,HA(t,Tb(i,a,n,t),r);case 6:return pA((o=e.sent).idToken,i,"internal-error"),pA(u=GA(o.idToken),i,"internal-error"),s=u.sub,pA(t.uid===s,i,"user-mismatch"),e.abrupt("return",Ib._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&cA(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Vb.apply(this,arguments)}function Fb(e,t){return Ub.apply(this,arguments)}function Ub(){return Ub=ue(ce().mark((function e(t,n){var r,i,a,o,u=arguments;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Tb(t,i,n);case 4:return a=e.sent,e.next=7,Ib._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Ub.apply(this,arguments)}function jb(e,t){return qb.apply(this,arguments)}function qb(){return(qb=ue(ce().mark((function e(t,n){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fb(_w(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bb(e,t){return zb.apply(this,arguments)}function zb(){return(zb=ue(ce().mark((function e(t,n){var r;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xt(t),e.next=3,Pb(!1,r,n.providerId);case 3:return e.abrupt("return",Rb(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kb(e,t){return Wb.apply(this,arguments)}function Wb(){return(Wb=ue(ce().mark((function e(t,n){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mb(xt(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gb(e,t){return Hb.apply(this,arguments)}function Hb(){return(Hb=ue(ce().mark((function e(t,n){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",RA(t,"POST","/v1/accounts:signInWithCustomToken",SA(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qb(){return(Qb=ue(ce().mark((function e(t,n){var r,i,a;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_w(t),e.next=3,Gb(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Ib._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Xb=function(){function e(t,n){Me(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Fe(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Yb._fromServerResponse(e,t):cA(e,"internal-error")}}]),e}(),Yb=function(e){Be(n,e);var t=He(n);function n(e){var r;return Me(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Fe(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Xb);function Jb(e,t,n){var r;pA((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),pA("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(pA(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(pA(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Zb(){return(Zb=ue(ce().mark((function e(t,n,r){var i,a;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=xt(t),a={requestType:"PASSWORD_RESET",email:n},r&&Jb(i,a,r),e.next=5,Kw(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $b(){return($b=ue(ce().mark((function e(t,n,r){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rw(xt(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ex(){return(ex=ue(ce().mark((function e(t,n){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mw(xt(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tx(e,t){return nx.apply(this,arguments)}function nx(){return(nx=ue(ce().mark((function e(t,n){var r,i,a,o;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xt(t),e.next=3,Rw(r,{oobCode:n});case 3:i=e.sent,pA(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return pA(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:pA(i.mfaInfo,r,"internal-error");case 13:pA(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Xb._fromServerResponse(_w(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rx(){return(rx=ue(ce().mark((function e(t,n){var r,i;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tx(xt(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ix(e,t,n){return ax.apply(this,arguments)}function ax(){return(ax=ue(ce().mark((function e(t,n,r){var i,a,o;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_w(t),e.next=3,bb(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Ib._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ox(){return(ox=ue(ce().mark((function e(t,n,r){var i,a;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=xt(t),a={requestType:"EMAIL_SIGNIN",email:n},pA(r.handleCodeInApp,i,"argument-error"),r&&Jb(i,a,r),e.next=6,Gw(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ux(){return(ux=ue(ce().mark((function e(t,n,r){var i,a;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=xt(t),pA((a=hb.credentialWithLink(n,r||kA()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",jb(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sx(e,t){return cx.apply(this,arguments)}function cx(){return(cx=ue(ce().mark((function e(t,n){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",TA(t,"POST","/v1/accounts:createAuthUri",SA(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lx(){return(lx=ue(ce().mark((function e(t,n){var r,i,a,o;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=AA()?kA():"http://localhost",i={identifier:n,continueUri:r},e.next=4,sx(xt(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fx(){return(fx=ue(ce().mark((function e(t,n){var r,i,a,o;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xt(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Jb(r.auth,a,n),e.next=8,Bw(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hx(){return(hx=ue(ce().mark((function e(t,n,r){var i,a,o,u;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=xt(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Jb(i.auth,o,r),e.next=8,Qw(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dx(e,t){return px.apply(this,arguments)}function px(){return(px=ue(ce().mark((function e(t,n){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",TA(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vx(){return(vx=ue(ce().mark((function e(t,n){var r,i,a,o,u,s,c;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=xt(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,HA(a,dx(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yx(e,t,n){return mx.apply(this,arguments)}function mx(){return(mx=ue(ce().mark((function e(t,n,r){var i,a,o,u;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,HA(t,Pw(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var gx=Fe((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Me(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),kx=function(e){Be(n,e);var t=He(n);function n(e,r,i,a){var o;return Me(this,n),(o=t.call(this,e,r,i)).username=a,o}return Fe(n)}(gx),Ax=function(e){Be(n,e);var t=He(n);function n(e,r){return Me(this,n),t.call(this,e,"facebook.com",r)}return Fe(n)}(gx),wx=function(e){Be(n,e);var t=He(n);function n(e,r){return Me(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Fe(n)}(kx),bx=function(e){Be(n,e);var t=He(n);function n(e,r){return Me(this,n),t.call(this,e,"google.com",r)}return Fe(n)}(gx),xx=function(e){Be(n,e);var t=He(n);function n(e,r,i){return Me(this,n),t.call(this,e,"twitter.com",r,i)}return Fe(n)}(kx);function Ix(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=GA(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new gx(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Ax(a,i);case"github.com":return new wx(a,i);case"google.com":return new bx(a,i);case"twitter.com":return new xx(a,i,e.screenName||null);case"custom":case"anonymous":return new gx(a,null);default:return new gx(a,r,i)}}(n)}var Ex=function(){function e(t,n){Me(this,e),this.type=t,this.credential=n}return Fe(e,[{key:"toJSON",value:function(){return{multiFactorSession:Ne({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),_x=function(){function e(t,n,r){Me(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Fe(e,[{key:"resolveSignIn",value:function(){var e=ue(ce().mark((function e(t){var n;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=_w(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Xb._fromServerResponse(r,e)}));pA(i.mfaPendingCredential,r,"internal-error");var o=Ex._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=ue(ce().mark((function e(t){var a,u,s;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Ib._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return pA(n.user,r,"internal-error"),e.abrupt("return",Ib._forOperation(n.user,n.operationType,u));case 17:cA(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Sx(e,t){return TA(e,"POST","/v2/accounts/mfaEnrollment:start",SA(e,t))}var Tx=function(){function e(t){var n=this;Me(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Xb._fromServerResponse(t.auth,e)})))}))}return Fe(e,[{key:"getSession",value:function(){var e=ue(ce().mark((function e(){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Ex,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=ue(ce().mark((function e(t,n){var r,i,a;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,HA(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=ue(ce().mark((function e(t){var n,r,i;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,HA(this.user,TA(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",SA(a,{idToken:r,mfaEnrollmentId:n})));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var a}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Cx=new WeakMap;var Nx="__sak",Dx=function(){function e(t,n){Me(this,e),this.storageRetriever=t,this.type=n}return Fe(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Nx,"1"),this.storage.removeItem(Nx),Promise.resolve(!0)):Promise.resolve(!1)}catch(fy){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Rx=function(e){Be(n,e);var t=He(n);function n(){var e;return Me(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=rt();return pw(e)||Aw(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=xw(),e._shouldAllowMigration=!0,e}return Fe(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);bw()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=ue(ce().mark((function e(t,r){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qn(ze(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ue(ce().mark((function e(t){var r;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qn(ze(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ue(ce().mark((function e(t){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qn(ze(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Dx);Rx.type="LOCAL";var Ox=Rx,Px=function(e){Be(n,e);var t=He(n);function n(){return Me(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Fe(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Dx);Px.type="SESSION";var Lx=Px;function Mx(e){return Promise.all(e.map(function(){var e=ue(ce().mark((function e(t){var n;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Vx=function(){function e(t){Me(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Fe(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=ue(ce().mark((function e(t){var n,r,i,a,o,u,s,c;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=ue(ce().mark((function e(t){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Mx(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Fx(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Vx.receivers=[];var Ux=function(){function e(t){Me(this,e),this.target=t,this.handlers=new Set}return Fe(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=ue(ce().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=Fx("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function jx(){return window}function qx(){return"undefined"!==typeof jx().WorkerGlobalScope&&"function"===typeof jx().importScripts}function Bx(){return zx.apply(this,arguments)}function zx(){return(zx=ue(ce().mark((function e(){var t;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Kx(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Wx="firebaseLocalStorageDb",Gx="firebaseLocalStorage",Hx="fbase_key",Qx=function(){function e(t){Me(this,e),this.request=t}return Fe(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Xx(e,t){return e.transaction([Gx],t?"readwrite":"readonly").objectStore(Gx)}function Yx(){var e=indexedDB.deleteDatabase(Wx);return new Qx(e).toPromise()}function Jx(){var e=indexedDB.open(Wx,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Gx,{keyPath:Hx})}catch(r){n(r)}})),e.addEventListener("success",ue(ce().mark((function n(){var r;return ce().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Gx)){n.next=12;break}return r.close(),n.next=5,Yx();case 5:return n.t0=t,n.next=8,Jx();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Zx(e,t,n){return $x.apply(this,arguments)}function $x(){return $x=ue(ce().mark((function e(t,n,r){var i,a;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Xx(t,!0).put((Ne(i={},Hx,n),Ne(i,"value",r),i)),e.abrupt("return",new Qx(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),$x.apply(this,arguments)}function eI(e,t){return tI.apply(this,arguments)}function tI(){return tI=ue(ce().mark((function e(t,n){var r,i;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xx(t,!1).get(n),e.next=3,new Qx(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),tI.apply(this,arguments)}function nI(e,t){var n=Xx(e,!0).delete(t);return new Qx(n).toPromise()}var rI=function(){function e(){Me(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Fe(e,[{key:"_openDb",value:function(){var e=ue(ce().mark((function e(){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Jx();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=ue(ce().mark((function e(t){var n,r;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=ue(ce().mark((function e(){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qx()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=ue(ce().mark((function e(){var t=this;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Vx._getInstance(qx()?self:null),this.receiver._subscribe("keyChanged",function(){var e=ue(ce().mark((function e(n,r){var i;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=ue(ce().mark((function e(t,n){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=ue(ce().mark((function e(){var t,n,r;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bx();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Ux(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=ue(ce().mark((function e(t){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Kx()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=ue(ce().mark((function e(){var t;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Jx();case 5:return t=e.sent,e.next=8,Zx(t,Nx,"1");case 8:return e.next=10,nI(t,Nx);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=ue(ce().mark((function e(t){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ue(ce().mark((function e(t,n){var r=this;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ue(ce().mark((function e(){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Zx(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ue(ce().mark((function e(t){var n;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return eI(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ue(ce().mark((function e(t){var n=this;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ue(ce().mark((function e(){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return nI(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=ue(ce().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Xx(e,!1).getAll();return new Qx(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Ue(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(ue(ce().mark((function t(){return ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();rI.type="LOCAL";var iI=rI;function aI(e,t){return TA(e,"POST","/v2/accounts/mfaSignIn:start",SA(e,t))}function oI(e){return uI.apply(this,arguments)}function uI(){return(uI=ue(ce().mark((function e(t){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,TA(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sI(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=lA("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function cI(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var lI=1e12,fI=function(){function e(t){Me(this,e),this.auth=t,this.counter=lI,this._widgets=new Map}return Fe(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new hI(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||lI;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||lI;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=ue(ce().mark((function e(t){var n,r;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||lI,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),hI=function(){function e(t,n,r){var i=this;Me(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;pA(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Fe(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var dI=cI("rcb"),pI=new bA(3e4,6e4),vI="https://www.google.com/recaptcha/api.js?",yI=function(){function e(){Me(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!jx().grecaptcha}return Fe(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return pA(mI(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(jx().grecaptcha):new Promise((function(r,i){var a=jx().setTimeout((function(){i(lA(e,"network-request-failed"))}),pI.get());jx()[dI]=function(){jx().clearTimeout(a),delete jx()[dI];var o=jx().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(lA(e,"internal-error"))},sI("".concat(vI,"?").concat(mt({onload:dI,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(lA(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!jx().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function mI(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var gI=function(){function e(){Me(this,e)}return Fe(e,[{key:"load",value:function(){var e=ue(ce().mark((function e(t){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new fI(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),kI="recaptcha",AI={theme:"light",type:"image"},wI=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},AI),r=arguments.length>2?arguments[2]:void 0;Me(this,e),this.parameters=n,this.type=kI,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=_w(r),this.isInvisible="invisible"===this.parameters.size,pA("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;pA(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new gI:new yI,this.validateStartingState()}return Fe(e,[{key:"verify",value:function(){var e=ue(ce().mark((function e(){var t,n,r,i=this;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){pA(!this.parameters.sitekey,this.auth,"argument-error"),pA(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),pA("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=jx()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){pA(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=ue(ce().mark((function e(){var t,n;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=ue(ce().mark((function e(){var t;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pA(AA()&&!qx(),this.auth,"internal-error"),e.next=3,bI();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,oI(this.auth);case 8:pA(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return pA(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function bI(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var xI=function(){function e(t,n){Me(this,e),this.verificationId=t,this.onConfirmation=n}return Fe(e,[{key:"confirm",value:function(e){var t=lb._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function II(){return(II=ue(ce().mark((function e(t,n,r){var i,a;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_w(t),e.next=3,TI(i,n,xt(r));case 3:return a=e.sent,e.abrupt("return",new xI(a,(function(e){return jb(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function EI(e,t,n){return _I.apply(this,arguments)}function _I(){return(_I=ue(ce().mark((function e(t,n,r){var i,a;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=xt(t),e.next=3,Pb(!1,i,"phone");case 3:return e.next=5,TI(i.auth,n,xt(r));case 5:return a=e.sent,e.abrupt("return",new xI(a,(function(e){return Bb(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function SI(){return(SI=ue(ce().mark((function e(t,n,r){var i,a;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=xt(t),e.next=3,TI(i.auth,n,xt(r));case 3:return a=e.sent,e.abrupt("return",new xI(a,(function(e){return Kb(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function TI(e,t,n){return CI.apply(this,arguments)}function CI(){return CI=ue(ce().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,pA("string"===typeof a,t,"argument-error"),pA(r.type===kI,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return pA("enroll"===u.type,t,"internal-error"),e.next=13,Sx(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return pA("signin"===u.type,t,"internal-error"),pA(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,aI(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,ib(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),CI.apply(this,arguments)}function NI(){return(NI=ue(ce().mark((function e(t,n){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rb(xt(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var DI=function(){function e(t){Me(this,e),this.providerId=e.PROVIDER_ID,this.auth=_w(t)}return Fe(e,[{key:"verifyPhoneNumber",value:function(e,t){return TI(this.auth,e,xt(t))}}],[{key:"credential",value:function(e,t){return lb._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?lb._fromTokenResponse(n,r):null}}]),e}();function RI(e,t){return t?gA(t):(pA(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}DI.PROVIDER_ID="phone",DI.PHONE_SIGN_IN_METHOD="phone";var OI=function(e){Be(n,e);var t=He(n);function n(e){var r;return Me(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Fe(n,[{key:"_getIdTokenResponse",value:function(e){return tb(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return tb(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return tb(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Dw);function PI(e){return Fb(e.auth,new OI(e),e.bypassAuthState)}function LI(e){var t=e.auth,n=e.user;return pA(n,t,"internal-error"),Mb(n,new OI(e),e.bypassAuthState)}function MI(e){return VI.apply(this,arguments)}function VI(){return(VI=ue(ce().mark((function e(t){var n,r;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,pA(r=t.user,n,"internal-error"),e.abrupt("return",Rb(r,new OI(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var FI=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Me(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Fe(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=ue(ce().mark((function t(n,r){return ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=ue(ce().mark((function e(t){var n,r,i,a,o,u,s;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return PI;case"linkViaPopup":case"linkViaRedirect":return MI;case"reauthViaPopup":case"reauthViaRedirect":return LI;default:cA(this.auth,"internal-error")}}},{key:"resolve",value:function(e){yA(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){yA(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),UI=new bA(2e3,1e4);function jI(e,t,n){return qI.apply(this,arguments)}function qI(){return(qI=ue(ce().mark((function e(t,n,r){var i,a,o;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_w(t),hA(t,n,db),a=RI(i,r),o=new WI(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function BI(){return(BI=ue(ce().mark((function e(t,n,r){var i,a,o;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hA((i=xt(t)).auth,n,db),a=RI(i.auth,r),o=new WI(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zI(e,t,n){return KI.apply(this,arguments)}function KI(){return(KI=ue(ce().mark((function e(t,n,r){var i,a,o;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hA((i=xt(t)).auth,n,db),a=RI(i.auth,r),o=new WI(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var WI=function(e){Be(n,e);var t=He(n);function n(e,r,i,a,o){var u;return Me(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=je(u),u}return Fe(n,[{key:"executeNotNull",value:function(){var e=ue(ce().mark((function e(){var t;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return pA(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ue(ce().mark((function e(){var t,n=this;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yA(1===this.filter.length,"Popup operations only handle one event"),t=Fx(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(lA(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(lA(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(lA(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,UI.get())}()}}]),n}(FI);WI.currentPopupAction=null;var GI=new Map,HI=function(e){Be(n,e);var t=He(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Me(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Fe(n,[{key:"execute",value:function(){var e=ue(ce().mark((function e(){var t,r;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=GI.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,QI(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Qn(ze(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:GI.set(this.auth._key(),t);case 21:return this.bypassAuthState||GI.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=ue(ce().mark((function e(t){var r;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Qn(ze(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Qn(ze(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ue(ce().mark((function e(){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(FI);function QI(e,t){return XI.apply(this,arguments)}function XI(){return(XI=ue(ce().mark((function e(t,n){var r,i,a;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$I(n),i=ZI(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function YI(e,t){return JI.apply(this,arguments)}function JI(){return(JI=ue(ce().mark((function e(t,n){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ZI(t)._set($I(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ZI(e){return gA(e._redirectPersistence)}function $I(e){return lw("pendingRedirect",e.config.apiKey,e.name)}function eE(e,t,n){return function(e,t,n){return tE.apply(this,arguments)}(e,t,n)}function tE(){return(tE=ue(ce().mark((function e(t,n,r){var i,a;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_w(t),hA(t,n,db),a=RI(i,r),e.next=5,YI(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nE(e,t,n){return function(e,t,n){return rE.apply(this,arguments)}(e,t,n)}function rE(){return(rE=ue(ce().mark((function e(t,n,r){var i,a,o;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hA((i=xt(t)).auth,n,db),a=RI(i.auth,r),e.next=5,YI(a,i.auth);case 5:return e.next=7,lE(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iE(e,t,n){return function(e,t,n){return aE.apply(this,arguments)}(e,t,n)}function aE(){return(aE=ue(ce().mark((function e(t,n,r){var i,a,o;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hA((i=xt(t)).auth,n,db),a=RI(i.auth,r),e.next=5,Pb(!1,i,n.providerId);case 5:return e.next=7,YI(a,i.auth);case 7:return e.next=9,lE(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oE(e,t){return uE.apply(this,arguments)}function uE(){return(uE=ue(ce().mark((function e(t,n){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_w(t)._initializationPromise;case 2:return e.abrupt("return",sE(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sE(e,t){return cE.apply(this,arguments)}function cE(){return cE=ue(ce().mark((function e(t,n){var r,i,a,o,u,s=arguments;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=_w(t),a=RI(i,n),o=new HI(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),cE.apply(this,arguments)}function lE(e){return fE.apply(this,arguments)}function fE(){return(fE=ue(ce().mark((function e(t){var n;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Fx("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var hE=function(){function e(t){Me(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Fe(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pE(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!pE(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(lA(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(dE(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(dE(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function dE(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function pE(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function vE(e){return yE.apply(this,arguments)}function yE(){return yE=ue(ce().mark((function e(t){var n,r=arguments;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",TA(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),yE.apply(this,arguments)}var mE=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gE=/^https?/;function kE(){return(kE=ue(ce().mark((function e(t){var n,r,i,a,o;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,vE(t);case 4:n=e.sent,r=n.authorizedDomains,i=Ue(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!AE(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:cA(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function AE(e){var t=kA(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!gE.test(r))return!1;if(mE.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var wE=new bA(3e4,6e4);function bE(){var e=jx().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Nt(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var xE=null;function IE(e){return xE=xE||function(e){return new Promise((function(t,n){var r,i,a;function o(){bE(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){bE(),n(lA(e,"network-request-failed"))},timeout:wE.get()})}if(null===(i=null===(r=jx().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=jx().gapi)||void 0===a?void 0:a.load)){var u=cI("iframefcb");return jx()[u]=function(){gapi.load?o():n(lA(e,"network-request-failed"))},sI("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw xE=null,e}))}(e),xE}var EE=new bA(5e3,15e3),_E={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SE=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TE(e){var t=e.config;pA(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?xA(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:cn},i=SE.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(mt(r).slice(1))}function CE(e){return NE.apply(this,arguments)}function NE(){return NE=ue(ce().mark((function e(t){var n,r;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,IE(t);case 2:return n=e.sent,pA(r=jx().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:TE(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_E,dontclear:!0},(function(e){return new Promise(function(){var n=ue(ce().mark((function n(r,i){var a,o,u;return ce().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){jx().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=lA(t,"network-request-failed"),o=jx().setTimeout((function(){i(a)}),EE.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),NE.apply(this,arguments)}var DE={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RE="_blank",OE="http://localhost",PE=function(){function e(t){Me(this,e),this.window=t,this.associatedEvent=null}return Fe(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function LE(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},DE),{width:r.toString(),height:i.toString(),top:a,left:o}),l=rt().toLowerCase();n&&(u=vw(l)?RE:n),dw(l)&&(t=t||OE,s.scrollbars="yes");var f=Object.entries(s).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(ww(l)&&"_self"!==u)return ME(t||"",u),new PE(null);var h=window.open(t||"",u,f);pA(h,e,"popup-blocked");try{h.focus()}catch(d){}return new PE(h)}function ME(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var VE="__/auth/handler",FE="emulator/auth/handler";function UE(e,t,n,r,i,a){pA(e.config.authDomain,e,"auth-domain-config-required"),pA(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:cn,eventId:i};if(t instanceof db){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var l=c(s[u],2),f=l[0],h=l[1];o[f]=h}}if(t instanceof pb){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,y=Object.keys(p);v<y.length;v++){var m=y[v];void 0===p[m]&&delete p[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(VE);return xA(t,FE)}(e),"?").concat(mt(p).slice(1))}var jE="webStorageSupport",qE=function(){function e(){Me(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Lx,this._completeRedirectFn=sE}return Fe(e,[{key:"_openPopup",value:function(){var e=ue(ce().mark((function e(t,n,r,i){var a,o;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yA(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=UE(t,n,r,kA(),i),e.abrupt("return",LE(t,o,Fx()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=ue(ce().mark((function e(t,n,r,i){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=UE(t,n,r,kA(),i),jx().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(yA(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=ue(ce().mark((function e(t){var n,r;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,CE(t);case 2:return n=e.sent,r=new hE(t),n.register("authEvent",(function(e){return pA(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(jE,{type:jE},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),cA(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return kE.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return xw()||pw()||Aw()}}]),e}(),BE=qE,zE=function(e){Be(n,e);var t=He(n);function n(e){var r;return Me(this,n),(r=t.call(this,"phone")).credential=e,r}return Fe(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return TA(e,"POST","/v2/accounts/mfaEnrollment:finalize",SA(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return TA(e,"POST","/v2/accounts/mfaSignIn:finalize",SA(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){Me(this,e),this.factorId=t}return Fe(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return vA("unexpected MultiFactorSessionType")}}}]),e}()),KE=function(){function e(){Me(this,e)}return Fe(e,null,[{key:"assertion",value:function(e){return zE._fromCredential(e)}}]),e}();KE.FACTOR_ID="phone";var WE,GE="@firebase/auth",HE="0.19.12",QE=function(){function e(t){Me(this,e),this.auth=t,this.internalListeners=new Map}return Fe(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=ue(ce().mark((function e(t){var n;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){pA(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function XE(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(t){a(t)}}function u(e){try{s(r.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))}function YE(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}WE="Browser",tn(new Dt("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){pA(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),pA(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:WE,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Iw(WE)},i=new Ew(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(gA);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),tn(new Dt("auth-internal",(function(e){return function(e){return new QE(e)}(_w(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),vn(GE,HE,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(WE)),vn(GE,HE,"esm2017");var JE=function(){return JE=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},JE.apply(this,arguments)},ZE=function(e){return{loading:void 0===e||null===e,value:e}},$E=function(e){var t=e?e():void 0,n=(0,r.useReducer)((function(e,t){switch(t.type){case"error":return JE(JE({},e),{error:t.error,loading:!1,value:void 0});case"reset":return ZE(t.defaultValue);case"value":return JE(JE({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),ZE(t)),i=n[0],a=n[1],o=function(){var t=e?e():void 0;a({type:"reset",defaultValue:t})},u=function(e){a({type:"error",error:e})},s=function(e){a({type:"value",value:e})};return(0,r.useMemo)((function(){return{error:i.error,loading:i.loading,reset:o,setError:u,setValue:s,value:i.value}}),[i.error,i.loading,o,u,s,i.value])},e_=function(e,t){var n=$E((function(){return e.currentUser})),i=n.error,a=n.loading,o=n.setError,u=n.setValue,s=n.value;(0,r.useEffect)((function(){var n=function(e,t,n,r){return xt(e).onAuthStateChanged(t,n,r)}(e,(function(e){return XE(void 0,void 0,void 0,(function(){var n;return YE(this,(function(r){switch(r.label){case 0:if(!(null===t||void 0===t?void 0:t.onUserChanged))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,t.onUserChanged(e)];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),o(n),[3,4];case 4:return u(e),[2]}}))}))}),o);return function(){n()}}),[e]);var c=[s,a,i];return(0,r.useMemo)((function(){return c}),c)},t_="ChatItem_ChatItem__Bigzg",n_=function(e){var t=e.message,n=e.user;return(0,ie.jsxs)("div",{className:t_,style:{marginLeft:n.uid!==t.uid?0:600},children:[(0,ie.jsx)("span",{children:t.displayName}),(0,ie.jsx)("span",{children:t.text})]})},r_=function(){var e=Ae((function(e){return e.firebaseStore.auth})),t=Ae((function(e){return e.firebaseStore.firestore})),n=c(e_(e),1)[0],r=Ok(""),i=r.bind,a=(r.clear,c(ck(t.collection("messages").orderBy("createdAt")),2)),o=a[0];return a[1]?(0,ie.jsx)(dk,{}):(0,ie.jsx)("div",{className:qk,children:(0,ie.jsxs)("div",{className:Bk,children:[o.map((function(e){return(0,ie.jsx)(n_,{message:e,user:n},e.text)})),(0,ie.jsx)("form",{onSubmit:function(e){return e.preventDefault()},className:zk,children:(0,ie.jsx)(Rk,Re({placeholder:"Message"},i))})]})})},i_={headerRight:"HeaderRight_headerRight__+YUVb",dark:"HeaderRight_dark__M7mdl",info:"HeaderRight_info__7J0bC",header__text:"HeaderRight_header__text__zfz7g",icon:"HeaderRight_icon__3svKX"},a_=n.p+"static/media/call.914389d41e92e385bd30.png",o_=n.p+"static/media/search.06aaae4d2daacad0d8f2.png",u_=function(e){var t=e.theme,n=e.contact;return(0,ie.jsxs)("div",{className:"".concat(i_.headerRight," ").concat(i_[t]),children:[(0,ie.jsxs)("div",{className:i_.info,children:[(0,ie.jsx)("img",{src:n.logo,alt:""}),(0,ie.jsxs)("div",{className:i_.header__text,children:[(0,ie.jsx)("span",{className:i_[t],children:n.name}),(0,ie.jsx)("span",{className:i_[t],children:"Online"})]})]}),(0,ie.jsxs)("div",{children:[(0,ie.jsx)("img",{className:i_.icon,src:a_,alt:""}),(0,ie.jsx)("img",{className:i_.icon,src:o_,alt:""}),(0,ie.jsx)("img",{className:i_.icon,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAABGhAAARoQFTdAd6AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAYNQTFRF////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAfveG2gAAAIB0Uk5TAAEDBAkLDA0OEBETFRkbICEjJSYnKSstLzIzNjc5PD0+QEFDRktNUFJTVFpeYmRlZmdoaWprbG1ueXp7fH1+gIKDh4qLj5CSlJaXmJmcnZ+gpaepq6ytr7Cys7W3ury+wsTFxsfP0NPV1tjZ2tvh4+bn6Ozt7/Dx8vX4+fr7/P0928LxAAAJlklEQVR42u3deV+OCRvH4VEi2RKzaJ6QiWwhS5iERMs0GBRGSWgTZiy3VFqul/68hPnHfZ1nM8fxEs7f98O99bm+++5faFPz+etDj168Wyy+icV3Lx79dv1886bv2AC2tN95X1TF+zvtW9w3t9qOZ1+LKvr6rKPWlfM6Nl9U3fwxd07q0FRRiqlDbp1Q09OiNE+b3DubtoWiRAttLp7LpbWiVGuX3DzTi/+honRD3g6k0TBRBJhocPkc6meLELP1bp9BzVgRZKzG9RO4XYS57frxzhSBzrh/tNaVyABWWi0Qa1elCFXZZYNQd4tgd20Q6fu16ADWvrdCoMdFuMdWiNNSJNBihzCTGQKYtEOUX4oUfrFEkKEcAQxZIshfOQL4yxIxfiyS+NEWIa5kCeCKLUK8zBLAS1tE2L6eJYD17dYIcLBI46A1ApzIE8AJawS4mCeAi9YIcCNPADesEeD3PAEMWyPA4zwB+Eo4wqs8AbyyRoCZPAHMWEMACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEIAABCAAAQhAAAIQgAAEIAABCEAAAhCAAAQgAAEIQAACEIAABCAAAQhAAAIQgAAEIAABCEAAAhCAAAQgAAEIQAACEIAABCAAAQhAAAIQgAAEsGFM5wlg2hoBnucJ4Lk1AjzIE8ADawTozxNAvzUCXMkTwBVrBOjIE0CHNQIcyRPAEWsE2J8ngP3WCFC7kGX/hVprRHiYJYCHtghxKksAp2wRYsd6jv3Xd9gixlSOAKYsEaQ7RwDdlgjSuJJh/5VGS0QZyBDAgB3iXgYuxu+/6CVgoGvxAVyzQqC6j9H7f6yzQqQL0QFcsEGo2onY/Sd8DRCs4W3k/m8bLBBt3+e4/T/vc/94bWtR+6+1uX4Gl6MCuOz2OdyK2f+Wy2fRGfClwEqnu+fR+qns/T+1unome16Xu//rPW6eS/1YmfuP1bt4OsfflDX/m+OunVHtuQ9lzP/hnI9/s6q7+qXa83+56uu/zLadvF+p3vqV+ye3uXF2NQduzlZj/dmbB2pcd4PYvPvno6e7B+798Q3cG+g+ffR/uze7KgAAAAAAAAAAAAAAAAAAAAAAAAAAAADAP6lraT/bMzgyOT3zDUxPjgz2dLa3eFLIBtHYNb5cjQdGLI93Nbpuds19c9V8YtBcX7MbJ7Z3tPoPDRvd685J7RxeLeOxcavDO906oa29S2U9OHKpd6t7Z9M0X+ajY+ebXDyXw5WiVJXDbp7J2dWiZKtnXT2Nmv4iQL/HSGbZ/0kR4okCcugvgvS7fYr//4swXgdkeP2/GhfAqvcC8e//K0Wgis8Doj//my9CzftMMFZvEazXBpF2LkUHsOSboUjDRbhhK8TZuxofwKrfB8QZLRIYtUOU5iIFvxKL0pcjgD5LBJnLEcCcJWI0Fkn4tXiMriwBdNkixHiWAMZtEaFuOUsAy/5qLEJLkUaLNQK05wmg3RoBOvME4JdBEXryBNBjjQCDeQIYtEaAkTwBjFgjwGSeACatEWA6TwDT1ggwkyeAGWsIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAIQgAAEIAABCEAAAhCAAAQgAAEIQAACEIAABCAAAQhAAAIQgAAEIAABCEAAAhCAAAQgAAEIQAACEIAABCAAAQhAAAIQgAAEIAABCEAAAthIpvMEMG2NAJN5Api0RoCRPAGMWCPAYJ4ABq0RoCdPAD3WCNCZJ4Cz1gjQnieAdmsEaMkTQIs1AtQtZ9l/uc4aEcazBDBuixBdWQLoskWIxiwBNNoixlyO/ecsEaQvRwB9lgjSnCOAZktEGc2w/6gdwuxdjd9/da8d4gzHBzBshUA7l6L3X9pphUi90QH02iDU1vnY/ee32iBWUyVy/0qTBaIdDnwnsHrY/eOd9Uug/7j+qP373T6Fmicx+z+pcfskBYT8G9Bv/0SvA0p/Jbjq//9c7wVKfjdY8fo/2+cBpX4iNO/9f77PBHtL+15gqdfnfxntHC7llcDqsO9/stpbwi9ERn3/n1lzX1V/KTrX5/df6TV2jVflb4aWx7v8/nuDqGtpP9szODI5PfMNTE+ODPZ0trf4+y8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAgH+0effPR093D9z74xu4N9B9+uj/dm921Q2i5sDN2Wo8MGL25gGPikxv28n7VXyCYOX+yW1unFjd1S/VfmbUl6ueHJJV7bkPZTw27sO5WrfO6Pibsh4c+ea4a6dTP1bmo2PH6l08lz2vy3149Os9bp5J66eyHx//qdXV8+hcKUq30unuWdwqQtxy+RwuF0Euu30GbWtRAay1uX68fZ+LMJ/3uX+0hrdFoLcNFohVO1GEmvCxcKwLRbALNohU9zE6gI++HIx0rQh3zQpxdizGB7C4ww5hBooEBuwQpXElQwArjZYI0l2k0G2JIFM5ApiyRNBLwPUcAax7GRjjVJHEKVuEeJglgIe2iFC7kCWABV8IRNhfpLHfGgGO5AngiDUCdOQJoMMaAa7kCeCKNQL05wmg3xoBHuQJ4IE1AjzPE8BzawSYzhPAtDUCzOQJYMYaAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAABCAAAQhAAAIQgAAEIAABCEAAAhCAAAQgAAEIQAACEIAABCAAAQhAAAIQgAAEIAABCEAAAhCAAAQgAAEIQAACEIAABCAAAQhAAAIQgAAEIIAN41WeAF5ZI8DjPAE8tkaA3/MEMGyNADfyBHDDGgEu5gngojUCnMgTwAlrBDiYJ4CD1giwfT3L/uvbrRHhZZYAXtoixK9ZAvjVFiF+yhLAT7aI8XeO/f+2RJBhnwP+t7XlCKDNEv/p9wHeA8Q5kCGAA3aI82f8/n9aIdAPa9H7r/1ghUh3owO4a4NQuyqx+1d22SBW60rk/iutFoh2JjKAM+4f73bc/rddP4Gasaj9x2pcP4P62Zj9Z+vdPoeGiYj9JxpcPovaofL3H6p190QulfyR4NolN8+lbaHM/Rd8BZxO09Py9n/a5N4JHZoqZ/6pQ26d1LH56s8/f8ydE78d6Hj2tZrrf33W4cV/clva77yvzvrv77Rvcd+NYFPz+etDj168W/w2wy++e/Hot+vnmzf9G2/1f0FVFAMM3GpWAAAAAElFTkSuQmCC",alt:""})]})]})},s_=function(e){var t=e.theme,n=e.contact;return(0,ie.jsxs)("div",{className:"RightSide",children:[(0,ie.jsx)(u_,{theme:t,contact:n}),(0,ie.jsx)(r_,{})]})},c_="DevConsole_wrapper__hlLYN",l_="DevConsole_active__p2I3g",f_="DevConsole_DevConsole__XoUny",h_="DevConsole_title__dkwgE",d_="DevConsole_addContact__2P7K0",p_="DevConsole_link__5IuYz",v_="MyButton_MyButton__r21Kj",y_=function(e){return(0,ie.jsx)("button",Re(Re({className:v_},e),{},{children:e.children}))},m_="CancelButton_CancelButton__4Ppx0",g_=function(e){return(0,ie.jsx)("div",Re(Re({},e),{},{className:m_}))},k_="AddContactWindow_wrapper__op-bP",A_="AddContactWindow_form__q3r1R",w_={arrowAnim:"ReturnButton_arrowAnim__7twyf",arrow:"ReturnButton_arrow__7oEiX",arrowSliding:"ReturnButton_arrowSliding__zkyqJ",slide:"ReturnButton_slide__edhKt",delay1:"ReturnButton_delay1__jnF+c",delay2:"ReturnButton_delay2__rRXh4",delay3:"ReturnButton_delay3__6-BeQ"},b_=function(e){return(0,ie.jsxs)("div",Re(Re({},e),{},{className:w_.arrowAnim,children:[(0,ie.jsx)("div",{className:w_.arrowSliding,children:(0,ie.jsx)("div",{className:w_.arrow})}),(0,ie.jsx)("div",{className:[w_.arrowSliding,w_.delay1].join(" "),children:(0,ie.jsx)("div",{className:w_.arrow})}),(0,ie.jsx)("div",{className:[w_.arrowSliding,w_.delay2].join(" "),children:(0,ie.jsx)("div",{className:w_.arrow})}),(0,ie.jsx)("div",{className:[w_.arrowSliding,w_.delay3].join(" "),children:(0,ie.jsx)("div",{className:w_.arrow})})]}))},x_=function(e){var t=e.choosenElement,n=e.setChoosenElement,i=c((0,r.useState)({}),2),a=i[0],o=i[1],u=Ce();function s(e){o(Re(Re({},a),{},Ne({},e.target.name,e.target.value)))}return(0,ie.jsx)("div",{children:"contacts"===t?(0,ie.jsxs)("div",{className:k_,children:[(0,ie.jsx)(b_,{onClick:function(){return n(!1)}}),(0,ie.jsxs)("form",{className:A_,children:[(0,ie.jsx)(Rk,{name:"name",placeholder:"name",style:{marginBottom:5},onChange:s}),(0,ie.jsx)(Rk,{name:"text",placeholder:"text",style:{marginBottom:5},onChange:s}),(0,ie.jsx)(Rk,{name:"logo",placeholder:"logo",style:{marginBottom:5},onChange:s}),(0,ie.jsx)(Rk,{name:"time",placeholder:"time",style:{marginBottom:5},onChange:s})]}),(0,ie.jsx)(y_,{onClick:function(){var e;u((e={name:a.name,text:a.text,time:a.time,logo:a.logo},{type:Mk,payload:e})),n(!1)},children:"Add contact"})]}):(0,ie.jsx)("div",{})})},I_=function(e){var t=e.choosenElement,n=e.setChoosenElement;return(0,ie.jsx)("div",{children:(0,ie.jsx)(x_,{setChoosenElement:n,choosenElement:t})})},E_=function(){var e=c((0,r.useState)(!1),2),t=e[0],n=e[1],i=c((0,r.useState)([c_]),2),a=i[0],o=i[1];return document.addEventListener("keydown",(function(e){e.altKey&&"c"===e.key&&o([].concat(Nt(a),[l_]))})),(0,ie.jsx)("div",{className:a.join(" "),children:t?(0,ie.jsx)(I_,{setChoosenElement:n,choosenElement:t}):(0,ie.jsxs)("div",{className:f_,children:[(0,ie.jsx)(g_,{onClick:function(){return o([c_])}}),(0,ie.jsx)("h3",{className:h_,children:"Developer console"}),(0,ie.jsxs)("div",{className:d_,children:[" ",(0,ie.jsx)(y_,{id:"contacts",onClick:function(e){n(e.target.id)},children:"Add contact"}),"  "]}),(0,ie.jsx)($,{className:p_,to:"/about",children:"About developer"})]})})},__=function(){var e=c((0,r.useState)(void 0),2),t=e[0],n=e[1],i=Ce(),a=Ae((function(e){return e.contacts.contacts})),o=Ae((function(e){return e.options.theme}));return(0,r.useEffect)((function(){var e=JSON.parse(localStorage.getItem("Dark Mode"));i(Bn(e))}),[]),(0,ie.jsxs)("div",{className:"wrapper",children:[(0,ie.jsx)(jk,{theme:o,choosenContactSetter:function(e){n(e)},contacts:a}),t?(0,ie.jsx)(s_,{theme:o,contact:t}):(0,ie.jsx)("span",{}),(0,ie.jsx)(E_,{contacts:a})]})},S_=[{path:"/login",element:(0,ie.jsx)(pk,{})},{path:"*",element:(0,ie.jsx)(B,{replace:!0,to:"/login"})}],T_=[{path:"",element:(0,ie.jsx)(__,{})},{path:"*",element:(0,ie.jsx)(B,{replace:!0,to:"/"})},{path:"/about",element:(0,ie.jsx)(ae,{})}],C_=function(){var e=Ae((function(e){return e.firebaseStore.auth})),t=c(e_(e),2),n=t[0];return t[1]?(0,ie.jsx)(dk,{}):(0,ie.jsx)(W,{children:n?T_.map((function(e){var t=e.path,n=e.element;return(0,ie.jsx)(z,{path:t,element:n},t)})):S_.map((function(e){var t=e.path,n=e.element;return(0,ie.jsx)(z,{path:t,element:n},t)}))})};var N_=function(){return(0,ie.jsx)(J,{children:(0,ie.jsx)(C_,{})})};function D_(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var R_="function"===typeof Symbol&&Symbol.observable||"@@observable",O_=function(){return Math.random().toString(36).substring(7).split("").join(".")},P_={INIT:"@@redux/INIT"+O_(),REPLACE:"@@redux/REPLACE"+O_(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+O_()}};function L_(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function M_(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(D_(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(D_(1));return n(M_)(e,t)}if("function"!==typeof e)throw new Error(D_(2));var i=e,a=t,o=[],u=o,s=!1;function c(){u===o&&(u=o.slice())}function l(){if(s)throw new Error(D_(3));return a}function f(e){if("function"!==typeof e)throw new Error(D_(4));if(s)throw new Error(D_(5));var t=!0;return c(),u.push(e),function(){if(t){if(s)throw new Error(D_(6));t=!1,c();var n=u.indexOf(e);u.splice(n,1),o=null}}}function h(e){if(!L_(e))throw new Error(D_(7));if("undefined"===typeof e.type)throw new Error(D_(8));if(s)throw new Error(D_(9));try{s=!0,a=i(a,e)}finally{s=!1}for(var t=o=u,n=0;n<t.length;n++){(0,t[n])()}return e}function d(e){if("function"!==typeof e)throw new Error(D_(10));i=e,h({type:P_.REPLACE})}function p(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(D_(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[R_]=function(){return this},e}return h({type:P_.INIT}),(r={dispatch:h,subscribe:f,getState:l,replaceReducer:d})[R_]=p,r}function V_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function F_(){return window}function U_(e,t,n){return j_.apply(this,arguments)}function j_(){return j_=ue(ce().mark((function e(t,n,r){var i,a,o,u,s;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=F_(),o=a.BuildInfo,yA(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,G_(n.sessionId);case 4:return u=e.sent,s={},Aw()?s.ibi=o.packageName:mw()?s.apn=o.packageName:cA(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",UE(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),j_.apply(this,arguments)}function q_(){return(q_=ue(ce().mark((function e(t){var n,r,i;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=F_(),r=n.BuildInfo,i={},Aw()?i.iosBundleId=r.packageName:mw()?i.androidPackageName=r.packageName:cA(t,"operation-not-supported-in-this-environment"),e.next=5,vE(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B_(e){var t=F_().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function z_(e,t,n){return K_.apply(this,arguments)}function K_(){return K_=ue(ce().mark((function e(t,n,r){var i,a,o;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=F_(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(lA(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),mw()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),K_.apply(this,arguments)}function W_(e){var t,n,r,i,a,o,u,s,c,l,f=F_();pA("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),pA("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),pA("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),pA("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),pA("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function G_(e){return H_.apply(this,arguments)}function H_(){return(H_=ue(ce().mark((function e(t){var n,r,i;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Q_(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q_(e){if(yA(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var X_=function(e){Be(n,e);var t=He(n);function n(){var e;return Me(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Fe(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Qn(ze(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=ue(ce().mark((function e(){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(hE);function Y_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:tS(),postBody:null,tenantId:e.tenantId,error:lA(e,"no-auth-event")}}function J_(e,t){return nS()._set(rS(e),t)}function Z_(e){return $_.apply(this,arguments)}function $_(){return($_=ue(ce().mark((function e(t){var n;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nS()._get(rS(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,nS()._remove(rS(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eS(e,t){var n,r,i=function(e){var t=iS(e),n=t.link?decodeURIComponent(t.link):void 0,r=iS(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return iS(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=iS(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?lA(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function tS(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function nS(){return gA(Ox)}function rS(e){return lw("authEvent",e.config.apiKey,e.name)}function iS(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=a(t=n)||Ct(t)||u(t)||s();r[0];return gt(r.slice(1).join("?"))}var aS=function(){function e(){Me(this,e),this._redirectPersistence=Lx,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=sE}return Fe(e,[{key:"_initialize",value:function(){var e=ue(ce().mark((function e(t){var n,r;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new X_(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){cA(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=ue(ce().mark((function e(t,n,r,i){var a,o,u,s;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return W_(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),GI.clear(),e.next=10,this._originValidation(t);case 10:return o=Y_(t,r,i),e.next=13,J_(t,o);case 13:return e.next=15,U_(t,o,n);case 15:return u=e.sent,e.next=18,B_(u);case 18:return s=e.sent,e.abrupt("return",z_(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return q_.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=F_(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(ue(ce().mark((function n(){return ce().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Z_(e);case 2:t.onEvent(uS());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=ue(ce().mark((function n(r){var i,a;return ce().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Z_(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=eS(i,r.url)),t.onEvent(a||uS());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");F_().handleOpenURL=function(){var e=ue(ce().mark((function e(t){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),oS=aS;function uS(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:lA("no-auth-event")}}function sS(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function cS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt();return!("file:"!==sS()&&"ionic:"!==sS()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function lS(){return st()&&11===(null===document||void 0===document?void 0:document.documentMode)}function fS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt();return/Edge\/\d+/.test(e)}function hS(){try{var e=self.localStorage,t=Fx();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt();return lS()||fS(e)}()||ct()}catch(n){return dS()&&ct()}return!1}function dS(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function pS(){return("http:"===sS()||"https:"===sS()||ot()||cS())&&!(ut()||at())&&hS()&&!dS()}function vS(){return cS()&&"undefined"!==typeof document}function yS(){return mS.apply(this,arguments)}function mS(){return(mS=ue(ce().mark((function e(){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(vS()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var gS={LOCAL:"local",NONE:"none",SESSION:"session"},kS=pA,AS="persistence";function wS(e,t){kS(Object.values(gS).includes(t),e,"invalid-persistence-type"),ut()?kS(t!==gS.SESSION,e,"unsupported-persistence-type"):at()?kS(t===gS.NONE,e,"unsupported-persistence-type"):dS()?kS(t===gS.NONE||t===gS.LOCAL&&ct(),e,"unsupported-persistence-type"):kS(t===gS.NONE||hS(),e,"unsupported-persistence-type")}function bS(e){return xS.apply(this,arguments)}function xS(){return(xS=ue(ce().mark((function e(t){var n,r;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=IS(),r=lw(AS,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function IS(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var ES=pA,_S=function(){function e(){Me(this,e),this.browserResolver=gA(BE),this.cordovaResolver=gA(oS),this.underlyingResolver=null,this._redirectPersistence=Lx,this._completeRedirectFn=sE}return Fe(e,[{key:"_initialize",value:function(){var e=ue(ce().mark((function e(t){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=ue(ce().mark((function e(t,n,r,i){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=ue(ce().mark((function e(t,n,r,i){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return vS()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return ES(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=ue(ce().mark((function e(){var t;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,yS();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function SS(e){return e.unwrap()}function TS(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new OS(e,function(e,t){var n,r=xt(e),i=t;return pA(t.customData.operationType,r,"argument-error"),pA(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),_x._fromError(r,i)}(e,t));else if(r){var i=CS(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function CS(e){var t=(e instanceof lt?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof lt)&&"temporaryProof"in t&&"phoneNumber"in t)return DI.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Xk)return null;switch(r){case Qk:n=mb;break;case Gk:n=yb;break;case Hk:n=gb;break;case Yk:n=wb;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?kb._create(r,u):rb._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new vb(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof lt?n.credentialFromError(e):n.credentialFromResult(e)}function NS(e,t){return t.catch((function(t){throw t instanceof lt&&TS(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,CS(t)),additionalUserInfo:Ix(e),user:PS.getOrCreate(r)}}))}function DS(e,t){return RS.apply(this,arguments)}function RS(){return(RS=ue(ce().mark((function e(t,n){var r;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return NS(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var OS=function(){function e(t,n){Me(this,e),this.resolver=n,this.auth=t.wrapped()}return Fe(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return NS(SS(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),PS=function(){function e(t){Me(this,e),this._delegate=t,this.multiFactor=function(e){var t=xt(e);return Cx.has(t)||Cx.set(t,Tx._fromUser(t)),Cx.get(t)}(t)}return Fe(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=ue(ce().mark((function e(t){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",NS(this.auth,Bb(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=ue(ce().mark((function e(t,n){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",DS(this.auth,EI(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=ue(ce().mark((function e(t){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",NS(this.auth,zI(this._delegate,t,_S)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=ue(ce().mark((function e(t){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bS(_w(this.auth));case 2:return e.abrupt("return",iE(this._delegate,t,_S));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=ue(ce().mark((function e(t){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",NS(this.auth,Kb(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return DS(this.auth,function(e,t,n){return SI.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return NS(this.auth,function(e,t,n){return BI.apply(this,arguments)}(this._delegate,e,_S))}},{key:"reauthenticateWithRedirect",value:function(){var e=ue(ce().mark((function e(t){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bS(_w(this.auth));case 2:return e.abrupt("return",nE(this._delegate,t,_S));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return fx.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=ue(ce().mark((function e(t){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nb(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return yx(xt(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return yx(xt(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return NI.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return vx.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return hx.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();PS.USER_MAP=new WeakMap;var LS=pA,MS=function(){function e(t,n){if(Me(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;LS(r,"invalid-api-key",{appName:t.name}),LS(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?_S:void 0;this._delegate=n.initialize({options:{persistence:FS(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(iA),this.linkUnderlyingAuth()}return Fe(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?PS.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Tw(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return ex.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return tx(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return $b.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=ue(ce().mark((function e(t,n){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",NS(this._delegate,ix(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return lx.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=fb.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=ue(ce().mark((function e(){var t;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return LS(pS(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,oE(this._delegate,_S);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",NS(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){_w(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=VS(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=VS(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return ox.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Zb.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=ue(ce().mark((function e(t){var n,r;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:wS(this._delegate,t),e.t0=t,e.next=e.t0===gS.SESSION?4:e.t0===gS.LOCAL?6:e.t0===gS.NONE?11:13;break;case 4:return n=Lx,e.abrupt("break",14);case 6:return e.next=8,gA(iI)._isAvailable();case 8:return r=e.sent,n=r?iI:Ox,e.abrupt("break",14);case 11:return n=cw,e.abrupt("break",14);case 13:return e.abrupt("return",cA("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return NS(this._delegate,function(e){return _b.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return NS(this._delegate,jb(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return NS(this._delegate,function(e,t){return Qb.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return NS(this._delegate,function(e,t,n){return jb(xt(e),hb.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return NS(this._delegate,function(e,t,n){return ux.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return DS(this._delegate,function(e,t,n){return II.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=ue(ce().mark((function e(t){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return LS(pS(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",NS(this._delegate,jI(this._delegate,t,_S)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=ue(ce().mark((function e(t){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return LS(pS(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,bS(this._delegate);case 3:return e.abrupt("return",eE(this._delegate,t,_S));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return rx.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function VS(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&PS.getOrCreate(e))},error:t,complete:n}}function FS(e,t){var n=function(e,t){var n=IS();if(!n)return[];var r=lw(AS,e,t);switch(n.getItem(r)){case gS.NONE:return[cw];case gS.LOCAL:return[iI,Lx];case gS.SESSION:return[Lx];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(iI)||n.push(iI),"undefined"!==typeof window)for(var r=0,i=[Ox,Lx];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(cw)||n.push(cw),n}MS.Persistence=gS;var US=function(){function e(){Me(this,e),this.providerId="phone",this._delegate=new DI(SS(Un.auth()))}return Fe(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return DI.credential(e,t)}}]),e}();US.PHONE_SIGN_IN_METHOD=DI.PHONE_SIGN_IN_METHOD,US.PROVIDER_ID=DI.PROVIDER_ID;var jS,qS=pA,BS=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Un.app();Me(this,e),qS(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new wI(t,n,i.auth()),this.type=this._delegate.type}return Fe(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(jS=Un).INTERNAL.registerComponent(new Dt("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new MS(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Jk,PASSWORD_RESET:Zk,RECOVER_EMAIL:$k,REVERT_SECOND_FACTOR_ADDITION:eA,VERIFY_AND_CHANGE_EMAIL:tA,VERIFY_EMAIL:nA}},EmailAuthProvider:hb,FacebookAuthProvider:yb,GithubAuthProvider:gb,GoogleAuthProvider:mb,OAuthProvider:vb,SAMLAuthProvider:Ab,PhoneAuthProvider:US,PhoneMultiFactorGenerator:KE,RecaptchaVerifier:BS,TwitterAuthProvider:wb,Auth:MS,AuthCredential:Dw,Error:lt}).setInstantiationMode("LAZY").setMultipleInstances(!1)),jS.registerVersion("@firebase/auth-compat","0.2.12");function zS(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new bu("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function KS(){if("undefined"===typeof Uint8Array)throw new bu("unimplemented","Uint8Arrays are not available in this environment.")}function WS(){if("undefined"==typeof atob)throw new bu("unimplemented","Blobs are unavailable in Firestore in this environment.")}var GS=function(){function e(t){Me(this,e),this._delegate=t}return Fe(e,[{key:"toBase64",value:function(){return WS(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return KS(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return WS(),new e(Um.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return KS(),new e(Um.fromUint8Array(t))}}]),e}();function HS(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Ue(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var QS=function(){function e(){Me(this,e)}return Fe(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){Vm(e=pm(e,Cm));var n=Nm(e),r=e._freezeSettings(),i=new Uy;return Rm(n,i,new Vy(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){Vm(e=pm(e,Cm));var t=Nm(e),n=e._freezeSettings(),r=new Uy;return Rm(t,r,new Fy(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new bu(wu.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new xu;return e._queue.enqueueAndForgetEvenWhileRestricted(ue(ce().mark((function n(){return ce().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=ue(ce().mark((function e(t){var n;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Wf.vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Wf.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(bd(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),XS=function(){function e(t,n,r){var i=this;Me(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof rs||(this._appCompat=t)}return Fe(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||yu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};gm(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return Om(this._delegate)}},{key:"disableNetwork",value:function(){return Pm(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&lm("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new xu;return e.asyncQueue.enqueueAndForget(ue(ce().mark((function n(){return ce().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=ry,n.next=3,rm(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(Nm(e=pm(e,Cm)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return Yg(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new bu("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new cT(this,bm(this._delegate,e))}catch(t){throw tT(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new eT(this,xm(this._delegate,e))}catch(t){throw tT(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new oT(this,function(e,t){if(e=pm(e,mm),cm("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new bu(wu.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Am(e,null,function(e){return new cc(Ku.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw tT(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return ek(this._delegate,(function(n){return e(new JS(t,n))}))}},{key:"batch",value:function(){var e=this;return Nm(this._delegate),new ZS(new Bg(this._delegate,(function(t){return Jg(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return Lm(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return Mm(this._delegate,e).then((function(e){return e?new oT(t,e):null}))}}]),e}(),YS=function(e){Be(n,e);var t=He(n);function n(e){var r;return Me(this,n),(r=t.call(this)).firestore=e,r}return Fe(n,[{key:"convertBytes",value:function(e){return new GS(new Um(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return eT.forKey(t,this.firestore,null)}}]),n}(Ug);var JS=function(){function e(t,n){Me(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new YS(t)}return Fe(e,[{key:"get",value:function(e){var t=this,n=lT(e);return this._delegate.get(n).then((function(e){return new iT(t._firestore,new gg(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=lT(e);return n?(zS("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=lT(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=lT(e);return this._delegate.delete(t),this}}]),e}(),ZS=function(){function e(t){Me(this,e),this._delegate=t}return Fe(e,[{key:"set",value:function(e,t,n){var r=lT(e);return n?(zS("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=lT(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=lT(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),$S=function(){function e(t,n,r){Me(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Fe(e,[{key:"fromFirestore",value:function(e,t){var n=new kg(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new aT(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new YS(t),n),i.set(n,a)),a}}]),e}();$S.INSTANCES=new WeakMap;var eT=function(){function e(t,n){Me(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new YS(t)}return Fe(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new cT(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new cT(this.firestore,bm(this._delegate,e))}catch(t){throw tT(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=xt(e))instanceof km&&Im(this._delegate,e)}},{key:"set",value:function(e,t){t=zS("DocumentReference.set",t);try{return t?Hg(this._delegate,e,t):Hg(this._delegate,e)}catch(n){throw tT(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Qg(this._delegate,e):Qg.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw tT(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return Jg(pm(e.firestore,Cm),[new al(e._key,Kc.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=nT(n),a=rT(n,(function(t){return new iT(e.firestore,new gg(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Xg(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?Wg(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=pm(e,km);var t=pm(e.firestore,Cm);return om(Nm(t),e._key,{source:"server"}).then((function(n){return Zg(t,e,n)}))}(this._delegate):function(e){e=pm(e,km);var t=pm(e.firestore,Cm);return om(Nm(t),e._key).then((function(n){return Zg(t,e,n)}))}(this._delegate),t.then((function(e){return new iT(n.firestore,new gg(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter($S.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new bu("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new km(n._delegate,r,new us(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new km(n._delegate,r,t))}}]),e}();function tT(e,t,n){return e.message=e.message.replace(t,n),e}function nT(e){var t,n=Ue(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!HS(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function rT(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=HS(e[0])?e[0]:HS(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var iT=function(){function e(t,n){Me(this,e),this._firestore=t,this._delegate=n}return Fe(e,[{key:"ref",get:function(){return new eT(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return bg(this._delegate,e._delegate)}}]),e}(),aT=function(e){Be(n,e);var t=He(n);function n(){return Me(this,n),t.apply(this,arguments)}return Fe(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||gu()}(void 0!==t),t}}]),n}(iT),oT=function(){function e(t,n){Me(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new YS(t)}return Fe(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,Eg(this._delegate,function(e,t,n){var r=t,i=yg("where",e);return new _g(i,r,n)}(t,n,r)))}catch(i){throw tT(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,Eg(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=yg("orderBy",e);return new Sg(n,t)}(t,n)))}catch(r){throw tT(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,Eg(this._delegate,function(e){return vm("limit",e),new Tg("limit",e,"F")}(t)))}catch(n){throw tT(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,Eg(this._delegate,function(e){return vm("limitToLast",e),new Tg("limitToLast",e,"L")}(t)))}catch(n){throw tT(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,Eg(this._delegate,Ng.apply(void 0,arguments)))}catch(t){throw tT(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,Eg(this._delegate,Dg.apply(void 0,arguments)))}catch(t){throw tT(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,Eg(this._delegate,Og.apply(void 0,arguments)))}catch(t){throw tT(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,Eg(this._delegate,Pg.apply(void 0,arguments)))}catch(t){throw tT(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return Em(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?Gg(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=pm(e,Am);var t=pm(e.firestore,Cm),n=Nm(t),r=new Kg(t);return um(n,e._query,{source:"server"}).then((function(n){return new Ag(t,r,e,n)}))}(this._delegate):function(e){e=pm(e,Am);var t=pm(e.firestore,Cm),n=Nm(t),r=new Kg(t);return xg(e._query),um(n,e._query).then((function(n){return new Ag(t,r,e,n)}))}(this._delegate),t.then((function(e){return new sT(n.firestore,new Ag(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=nT(n),a=rT(n,(function(t){return new sT(e.firestore,new Ag(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Xg(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter($S.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),uT=function(){function e(t,n){Me(this,e),this._firestore=t,this._delegate=n}return Fe(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new aT(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),sT=function(){function e(t,n){Me(this,e),this._firestore=t,this._delegate=n}return Fe(e,[{key:"query",get:function(){return new oT(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new aT(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new uT(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new aT(n._firestore,r))}))}},{key:"isEqual",value:function(e){return bg(this._delegate,e._delegate)}}]),e}(),cT=function(e){Be(n,e);var t=He(n);function n(e,r){var i;return Me(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Fe(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new eT(this.firestore,e):null}},{key:"doc",value:function(e){try{return new eT(this.firestore,void 0===e?xm(this._delegate):xm(this._delegate,e))}catch(t){throw tT(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=pm(e.firestore,Cm),r=xm(e),i=jg(e.converter,t);return Jg(n,[Xm(Qm(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Kc.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new eT(t.firestore,e)}))}},{key:"isEqual",value:function(e){return Im(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter($S.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(oT);function lT(e){return pm(e,km)}var fT=function(){function e(){Me(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Qe(Fm,n)}return Fe(e,[{key:"isEqual",value:function(e){return(e=xt(e))instanceof Fm&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Gu.keyField().canonicalString())}}]),e}(),hT=function(){function e(t){Me(this,e),this._delegate=t}return Fe(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new Zm("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new Ym("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=tk.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=nk.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new tg("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),dT={Firestore:XS,GeoPoint:qm,Timestamp:Fu,Blob:GS,Transaction:JS,WriteBatch:ZS,DocumentReference:eT,DocumentSnapshot:iT,Query:oT,QueryDocumentSnapshot:aT,QuerySnapshot:sT,CollectionReference:cT,FieldPath:fT,FieldValue:hT,setLogLevel:function(e){!function(e){hu.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Dt("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},dT)))}(e,(function(e,t){return new XS(e,t,new QS)})),e.registerVersion("@firebase/firestore-compat","0.1.17")}(Un),Un.initializeApp({apiKey:"AIzaSyDf5mQulErHNR_zbwNgpL-xlomCaxCs-f0",authDomain:"react-telegram-acd8b.firebaseapp.com",projectId:"react-telegram-acd8b",storageBucket:"react-telegram-acd8b.appspot.com",messagingSenderId:"741867032720",appId:"1:741867032720:web:c0364d920373c20ca88815",measurementId:"G-SQSDYZ2VTJ"});var pT={firebase:Un,auth:Un.auth(),firestore:Un.firestore()};function vT(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var yT=vT();yT.withExtraArgument=vT;var mT=yT,gT=function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:P_.INIT}))throw new Error(D_(12));if("undefined"===typeof n(void 0,{type:P_.PROBE_UNKNOWN_ACTION()}))throw new Error(D_(13))}))}(n)}catch(u){a=u}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},u=0;u<o.length;u++){var s=o[u],c=n[s],l=e[s],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(D_(14))}i[s]=f,r=r||f!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}({contacts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lk,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Mk:return Re(Re({},e),{},{contacts:[].concat(Nt(e.contacts),[e.contacts.push(t.payload)])});case Vk:return Re(Re({},e),{},{contacts:t.payload});default:return e}},options:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Bn:return t.payload?Re(Re({},e),{},{theme:"dark"}):Re(Re({},e),{},{theme:"light"});case zn:return Re(Re({},e),{},{logined:!1});case qn:return Re(Re({},e),{},{logined:!0});default:return e}},firebaseStore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pT,t=arguments.length>1?arguments[1]:void 0;return t.type,e}}),kT=M_(gT,window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(D_(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=V_.apply(void 0,a)(n.dispatch),Re(Re({},n),{},{dispatch:r})}}}(mT))),AT=kT;i.render((0,ie.jsx)(Ie,{store:AT,children:(0,ie.jsx)(N_,{})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.f1a2f040.js.map